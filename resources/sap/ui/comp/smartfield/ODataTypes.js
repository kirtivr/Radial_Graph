/*
 * SAP UI development toolkit for HTML5 (SAPUI5)

(c) Copyright 2009-2015 SAP SE. All rights reserved
 */
sap.ui.define(["jquery.sap.global","sap/ui/core/format/NumberFormat","sap/ui/model/odata/type/Boolean","sap/ui/comp/smartfield/type/DateTime","sap/ui/comp/smartfield/type/DateTimeOffset","sap/ui/comp/smartfield/type/Decimal","sap/ui/comp/smartfield/type/Int16","sap/ui/comp/smartfield/type/Int32","sap/ui/comp/smartfield/type/SByte","sap/ui/comp/smartfield/type/String","sap/ui/comp/smartfield/type/AbapBool","sap/ui/model/type/Currency"],function(q,N,B,D,a,b,I,c,S,d,A,C){"use strict";var O=function(p){this._oParent=p;};O.prototype.getType=function(p,f,m){var o;if(p&&p.property&&p.property.type){switch(p.property.type){case"Edm.Boolean":return new B();case"Edm.Decimal":case"Edm.Double":case"Edm.Float":case"Edm.Single":o=this._getDecimalConstraints(p);return new b(f,o);case"Edm.Int16":return new I();case"Edm.Int32":case"Edm.Int64":return new c();case"Edm.Byte":case"Edm.SByte":return new S();case"Edm.DateTimeOffset":return new a(f,o);case"Edm.DateTime":o=this._getDateTimeConstraints(p,m);return new D(f,o);case"Edm.String":o=this._getStringConstraints(p);return new d(f,o);default:return null;}}return null;};O.prototype._getDateTimeConstraints=function(p,m){var o={},n;if(p.extensions["sap:display-format"]==="Date"){o={displayFormat:"Date"};}for(n in m){o[n]=m[n];}return o;};O.prototype.getMaxLength=function(p,o){var P,v=[],l,V,f,r=0;if(o&&o.constraints){if(o.constraints.maxLength&&o.constraints.maxLength>-1){v.push(o.constraints.maxLength);}}if(o&&o.type&&o.type.oConstraints){if(o.type.oConstraints.maxLength&&o.type.oConstraints.maxLength>-1){v.push(o.type.oConstraints.maxLength);}}if(p&&p.property&&p.property.maxLength){P=parseInt(p.property.maxLength,10);if(P>-1){v.push(P);}}f=this._oParent.getMaxLength();if(f>0){v.push(f);}l=v.length;while(l--){V=v[l];if(V>0){if(r>0){if(V<r){r=V;}}else{r=V;}}}return r;};O.prototype._getDecimalConstraints=function(p){var m=null;if(p.property.precision){m={};m.precision=parseInt(p.property.precision,10);}if(p.property.scale){if(!m){m={};}m.scale=parseInt(p.property.scale,10);}return m;};O.prototype._getStringConstraints=function(p){var m,e,o,f;o=this._oParent.getBindingInfo("value");m=this.getMaxLength(p,o);if(o&&o.type&&o.type.oConstraints){if(o.type.oConstraints.equals){e=o.type.oConstraints.equals;}}if(m>0||e){f={};if(m>0){f.maxLength=m;}if(e){f.equals=e;}}return f;};O.prototype.isDisplayFormatUpperCase=function(p){if(p&&p.extensions){return p.extensions["sap:display-format"]==="UpperCase";}return false;};O.prototype.getCurrencyDisplayFormatter=function(){var f=N.getCurrencyInstance({showMeasure:false});return function(o,s){var v,i,p;if(!o||!s||s==="*"){return"";}i=f.oLocaleData.getCurrencyDigits(s);v=f.format(o,s);if(i===0){v+="\u2008";}p=3-i;if(p){v=q.sap.padRight(v,"\u2007",v.length+p);}return v;};};O.prototype.getCurrencyType=function(p){var o;if(p){o=this._getDecimalConstraints(p);return new C({showMeasure:false},o);}return null;};O.prototype.getAbapBoolean=function(){return new A();};O.prototype.destroy=function(){this._oParent=null;};return O;},true);
