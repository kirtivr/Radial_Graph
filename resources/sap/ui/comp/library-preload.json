{
"version":"2.0",
"name":"sap.ui.comp.library-preload",
"dependencies":["sap.ui.core.library-preload","sap.ui.fl.library-preload"],
"modules":{
	"sap/ui/comp/filterbar/FilterBar.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/ActionSheet','sap/m/Bar','sap/m/Button','sap/m/ButtonType','sap/m/CheckBox','sap/m/CustomListItem','sap/m/Dialog','sap/m/Label','sap/m/LabelDesign','sap/m/Link','sap/m/List','sap/m/ListSeparators','sap/m/ListType','sap/m/Panel','sap/m/PlacementType','sap/m/SearchField','sap/m/Text','sap/m/Toolbar','sap/m/ToolbarSpacer','sap/ui/Device','./VariantConverterFrom','./VariantConverterTo','sap/ui/comp/library','sap/ui/comp/smartvariants/PersonalizableInfo','sap/ui/comp/smartvariants/SmartVariantManagement','sap/ui/comp/smartvariants/SmartVariantManagementUi2','sap/ui/comp/variants/VariantManagement','sap/ui/core/Icon','sap/ui/core/TextAlign','sap/ui/core/Title','sap/ui/core/ValueState','sap/ui/layout/Grid','sap/ui/layout/GridData','sap/ui/layout/HorizontalLayout','sap/ui/layout/ResponsiveFlowLayout','sap/ui/layout/ResponsiveFlowLayoutData','sap/ui/layout/VerticalLayout','sap/ui/layout/form/Form','sap/ui/layout/form/FormContainer','sap/ui/layout/form/FormElement','sap/ui/layout/form/ResponsiveGridLayout'],function(q,A,B,a,b,C,c,D,L,d,e,f,g,h,P,k,S,T,l,m,o,V,p,r,s,t,u,v,I,w,x,y,G,z,H,R,E,F,J,K,M,N){'use strict';var O=G.extend('sap.ui.comp.filterbar.FilterBar',{metadata:{library:'sap.ui.comp',properties:{persistencyKey:{type:'string',group:'Misc',defaultValue:null},advancedMode:{type:'boolean',group:'Misc',defaultValue:false},expandAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false},searchEnabled:{type:'boolean',group:'Misc',defaultValue:true},filterBarExpanded:{type:'boolean',group:'Misc',defaultValue:true},considerGroupTitle:{type:'boolean',group:'Misc',defaultValue:false},showClearButton:{type:'boolean',group:'Misc',defaultValue:false},showRestoreButton:{type:'boolean',group:'Misc',defaultValue:true},showGoOnFB:{type:'boolean',group:'Misc',defaultValue:true},showRestoreOnFB:{type:'boolean',group:'Misc',defaultValue:false},showClearOnFB:{type:'boolean',group:'Misc',defaultValue:false},showGoButton:{type:'boolean',group:'Misc',defaultValue:null,deprecated:true}},aggregations:{filterItems:{type:'sap.ui.comp.filterbar.FilterItem',multiple:true,singularName:'filterItem'},filterGroupItems:{type:'sap.ui.comp.filterbar.FilterGroupItem',multiple:true,singularName:'filterGroupItem'}},events:{reset:{},search:{},beforeVariantSave:{},afterVariantLoad:{},filterChange:{},clear:{},initialise:{},afterVariantSave:{}}}});O.INTERNAL_GROUP='__$INTERNAL$';O.prototype.init=function(){this._oBasicAreaLayout=null;this._oAdvancedAreaForm=null;this._oAdvancedPanel=null;this._oVariantManagement=null;this._aBasicAreaSelection=null;this._mAdvancedAreaFilter=null;this._fRegisteredFetchData=null;this._fRegisteredApplyData=null;this._fRegisterGetFiltersWithValues=null;this._oHideShowButton=null;this._oSearchButton=null;this._oFiltersButton=null;this._oSearchButtonAdvanced=null;this._oClearButtonOnFB=null;this._oRestoreButtonOnFB=null;this._oDialog=null;this._oFilterDialog=null;this._oActionSheet=null;this._bInitialized=false;this._oVariant={};this._nFirstElementWidth=0;this._mChangedFilterItems=null;this._filterChangeSemaphore=true;this._fRegisteredFilterChangeHandlers=null;this._fInitialiseVariants=null;this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.addStyleClass('sapUiCompFilterBar');if(this._isPhone()){this.addStyleClass('sapUiCompFilterBarPhone');}else{this.addStyleClass('sapUiCompFilterBarNonPhone');}this.addStyleClass('sapUiCompFilterBarMarginBottom');this.addStyleClass('sapUiCompFilterBarPaddingPanel');this._oToolbar=this._createToolbar();this._oToolbar.setLayoutData(new z({span:'L12 M12 S12'}));this.addContent(this._oToolbar);this._oBasicAreaLayout=this._createBasicAreaLayout();this._oBasicAreaLayout.setLayoutData(new z({span:'L12 M12 S12'}));this.addContent(this._oBasicAreaLayout);this._oAdvancedPanel=new P();this._oAdvancedPanel.setLayoutData(new z({span:'L12 M12 S12'}));this._oAdvancedPanel.setExpandable(false);this._oAdvancedPanel.setVisible(false);this._oAdvancedAreaForm=this._createAdvancedAreaForm();this._oAdvancedPanel.addContent(this._oAdvancedAreaForm);this.oAdvancedSearchArea=this._createBasicAreaLayout();this._oAdvancedPanel.addContent(this.oAdvancedSearchArea);this.addContent(this._oAdvancedPanel);q(window).on('resize.basicsearch',q.proxy(this._fHandleResize,this));this.oModel=new sap.ui.model.json.JSONModel({});this.setModel(this.oModel,'FilterBar');this.setFilterBarExpanded(this._isTablet()?false:this.getFilterBarExpanded());};O.prototype.setShowClearOnFB=function(i){if(!this._isPhone()){this.setProperty('showClearOnFB',i);this._oClearButtonOnFB.setVisible(i);}};O.prototype.setShowRestoreOnFB=function(i){if(!this._isPhone()){this.setProperty('showRestoreOnFB',i);this._oRestoreButtonOnFB.setVisible(i);}};O.prototype.setShowGoOnFB=function(i){this.setProperty('showGoOnFB',i);this._oSearchButton.setVisible(i);};O.prototype.setShowGoButton=function(i){this.setShowGoOnFB(i);};O.prototype.getShowGoButton=function(){return this.getShowGoOnFB();};O.prototype.setCurrentVariantId=function(i,j){if(this._oVariantManagement){this._oVariantManagement.setCurrentVariantId(i,j);}};O.prototype.getCurrentVariantId=function(){var i='';if(this._oVariantManagement){i=this._oVariantManagement.getCurrentVariantId();}return i;};O.prototype.getDataSuiteFormat=function(i){var j=null;var n,Q,U;if(this._oVariantManagement){n=this.getCurrentVariantId();if(this.getFilterDataAsString){U=this._determineVariantFiltersInfo(i);Q=this.getFilterDataAsString(i);if(Q){var W=new p();j=W.convert(n,U,Q,this);}}}return j;};O.prototype.getCurrentVariant=function(i){return this.getDataSuiteFormat(i);};O.prototype.setDataSuiteFormat=function(i,j){var n;if(i){var Q=new V();n=Q.convert(i,this);if(n&&this.setFilterDataAsString){this._setConsiderFilterChanges(false);this.setFilterDataAsString(n,j);this._setConsiderFilterChanges(true);}}};O.prototype.setCurrentVariant=function(i,j){this.setDataSuiteFormat(i,j);};O.prototype.setPersistencyKey=function(i){this.setProperty('persistencyKey',i);this._oVariantManagement.setVisible(!this.getAdvancedMode());};O.prototype.clearVariantSelection=function(){if(this._oVariantManagement){this._oVariantManagement.clearVariantSelection();}};O.prototype.setSearchButtonEmphType=function(i){};O.prototype.setSearchEnabled=function(i){this.setProperty('searchEnabled',i);if(this._oSearchButton){this._oSearchButton.setEnabled(i);}};O.prototype.setSimplifiedMode=function(i){};O.prototype.getSimplifiedMode=function(i){if(this.getAdvancedMode()){return false;}return true;};O.prototype.setExpandAdvancedArea=function(i){this.setProperty('expandAdvancedArea',i);if(this._oAdvancedPanel.getVisible()){this._oAdvancedPanel.setExpanded(i);}};O.prototype.getExpandAdvancedArea=function(){if(this._oAdvancedPanel.getVisible()){return this._oAdvancedPanel.getExpanded();}return false;};O.prototype._switchButtons=function(i){if(i){if(!this._oSearchButtonAdvanced){this._oSearchButtonAdvanced=this._oSearchButton.clone();this._oSearchButtonAdvanced.setText(this._oRb.getText('FILTER_BAR_SEARCH'));this._oSearchButtonAdvanced.setVisible(true);}this._initializeSearchButtonsLocation();}else{this._oBasicAreaLayout.removeContent(this._oSearchButtonAdvanced);this.oAdvancedSearchArea.removeContent(this._oSearchButtonAdvanced);}this._oToolbar.setVisible(!i);};O.prototype._initializeSearchButtonsLocation=function(){var i,j=0;if(this._oSearchButtonAdvanced){this._oSearchButtonAdvanced.setVisible(true);if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[O.INTERNAL_GROUP]&&this._mAdvancedAreaFilter[O.INTERNAL_GROUP].items&&this._mAdvancedAreaFilter[O.INTERNAL_GROUP].items.length>0){i=this._oBasicAreaLayout.getContent();if(i.length>0){j=i.length-1;}this._oBasicAreaLayout.insertContent(this._oSearchButtonAdvanced,j);}else{this._oSearchButtonAdvanced.addStyleClass('sapUiCompFilterBarFloatRight');this.oAdvancedSearchArea.addContent(this._oSearchButtonAdvanced);this.oAdvancedSearchArea.setVisible(true);}}};O.prototype.setAdvancedMode=function(j){this.setProperty('advancedMode',j);this.setFilterBarExpanded(j);this._oFiltersButton.setVisible(!j);this._switchButtons(j);if(!j){if(this.getPersistencyKey()){this._oVariantManagement.setVisible(true);}return;}var i,n=null;var Q;this._oVariantManagement.setVisible(false);for(n in this._mAdvancedAreaFilter){if(n){Q=this._mAdvancedAreaFilter[n];if(Q&&Q.items){for(i=0;i<Q.items.length;i++){Q.items[i].filterItem.setVisibleInFilterBar(true);}}}}};O.prototype.addFilterItem=function(i){var n;var j;if(!i){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem' may not be null nor empty\");}n=i.getName();if(!n){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem.name' may not be null nor empty\");}j=i.getControl();if(!j){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterItem()'+\" Expected argument 'oFilterItem.control' may not be null nor empty\");}this.addAggregation('filterItems',i,true);if(!this._aBasicAreaSelection){this._aBasicAreaSelection=[];}var Q={control:i.getControl(),filterItem:i};this._aBasicAreaSelection.push(Q);if(this.getAdvancedMode()){var U=this._addControlToBasicAreaFormContainer(i);if(U){U.setVisible(i.getVisible());i.attachChange(this._filterItemChange.bind(this,U));Q.container=U;}}else{var W=new sap.ui.comp.filterbar.FilterGroupItem({label:i.getLabel(),labelTooltip:i.getLabelTooltip(),name:i.getName(),mandatory:i.getMandatory(),visible:i.getVisible(),visibleInFilterBar:i.getVisibleInFilterBar(),partOfCurrentVariant:true,control:i.getControl(),groupName:O.INTERNAL_GROUP,groupTitle:''});if(i.data('isCustomField')){W.data('isCustomField',true);}i.attachChange(this._filterItemChange.bind(this,null));this.addFilterGroupItem(W);}};O.prototype.addFilterGroupItem=function(i){if(!i){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItem()'+\" Expected argument 'oFilterGroupItem' may not be null nor empty\");}this.addAggregation('filterGroupItems',i,true);var j=i.getGroupName();if(!j){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItems()'+' GroupName may not be null nor empty');}var n=i.getName();if(!n){throw new Error('sap.ui.comp.filterbar.FilterBar.prototype.addFilterGroupItems()'+' Name may not be null nor empty');}if(!this._mAdvancedAreaFilter){this._mAdvancedAreaFilter={};}if(!this._mAdvancedAreaFilter[j]){this._mAdvancedAreaFilter[j]={};this._mAdvancedAreaFilter[j].filterItem=i;this._mAdvancedAreaFilter[j].items=[];}var Q={control:i.getControl(),filterItem:i};if(this.getAdvancedMode()||i.getVisibleInFilterBar()){i.setVisibleInFilterBar(true);}else{i.setVisibleInFilterBar(false);}this._mAdvancedAreaFilter[j].items.push(Q);if(this.getAdvancedMode()){this._rerenderAA();i.attachChange(this._filterGroupItemChange.bind(this));}else{var U=this._addControlToBasicAreaFormContainer(i);if(U){Q.container=U;U.setVisible(i.getVisible()&&i.getVisibleInFilterBar());if(i.getVisibleInFilterBar()){i.setPartOfCurrentVariant(i.getVisibleInFilterBar());}i.attachChange(this._filterGroupItemChange.bind(this));}}};O.prototype._filterItemChange=function(i,j){var n;var Q;if(j&&j.oSource&&(j.oSource instanceof sap.ui.comp.filterbar.FilterItem)){var U=j.getParameter('propertyName');if(this.getAdvancedMode()&&(U==='visible')){i.setVisible(Q);return;}if(U==='visibleInFilterBar'||U==='visible'||U==='label'||U==='mandatory'){n=this._determineItemByName(j.oSource.getName(),O.INTERNAL_GROUP);if(n&&n.filterItem){if((U==='visible')){Q=j.oSource.getVisible();n.filterItem.setVisible(Q);}else if(U==='visibleInFilterBar'){Q=j.oSource.getVisibleInFilterBar();var W=this._checkChangePossibleVisibleInFilterBar(n.filterItem,Q);if(W){n.filterItem.setVisibleInFilterBar(Q);}else{j.oSource.setVisibleInFilterBar(true);}}else if(U==='label'){n.filterItem.setLabel(j.oSource.getLabel());}else if(U==='mandatory'){Q=j.oSource.getMandatory();n.filterItem.setMandatory(Q);}}}}};O.prototype._filterGroupItemChange=function(i){var j;var n;if(this.getAdvancedMode()){this._rerenderAA();return;}if(i&&i.oSource){n=i.getParameter('propertyName');if(n==='visibleInFilterBar'||n==='visible'){j=this._determineItemByName(i.oSource.getName(),i.oSource.getGroupName());if(j){if(n==='visibleInFilterBar'){var Q=i.oSource.getVisibleInFilterBar();var U=this._checkChangePossibleVisibleInFilterBar(i.oSource,Q);if(!U){i.oSource.setVisibleInFilterBar(true);Q=true;}if(Q){i.oSource.setPartOfCurrentVariant(true);}this._rerenderItem(j);this._adaptLinkText(i.oSource.getGroupName());}else if(n==='visible'){this._updateToolbarText();this._rerenderGroup(j,i.oSource.getGroupName());}}}else if(n==='groupTitle'){if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[i.oSource.getGroupName()]){if(this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer){this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer.setTitle(i.oSource.getGroupTitle());}else{this._adaptGroupTitle(i.oSource.getGroupName());}}}else if(n==='label'){if(!this._mAdvancedAreaFilter[i.oSource.getGroupName()].formcontainer){this._adaptGroupTitleForFilter(i.oSource);}}else if(n==='mandatory'){if(this._oFilterDialog){this._adaptMandatoryForFilter(i.oSource);}}}};O.prototype._checkChangePossibleVisibleInFilterBar=function(i,j){if(i&&i.getMandatory()&&!j){var n=this._hasFilterValue(i);if(!n){i.setVisibleInFilterBar(true);return false;}}return true;};O.prototype._adaptLinkText=function(i){if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[i]&&this._mAdvancedAreaFilter[i].link){this._setLinkText(i,this._mAdvancedAreaFilter[i].link);}};O.prototype._hasFilterValue=function(i){var j=this._getFiltersWithValues();return this._checkFilterForValue(j,i);};O.prototype._adaptMandatoryForFilter=function(i){var j;var n=i.getGroupName();if(i){j=this._determineItemByName(i.getName(),n);if(j&&j.checkbox&&j.checkbox.getVisible()){var Q=true;if(i.getMandatory()){var U=this._hasFilterValue(i);if(!U){Q=false;i.setVisibleInFilterBar(true);}}j.checkbox.setEnabled(Q);}}};O.prototype._adaptGroupTitleForFilter=function(i){var j;var n;if(i){j=i.getLabel();n=i.getLabelControl();if(this.getConsiderGroupTitle()){if(n&&i.getGroupTitle()){n.setText(j+' ('+i.getGroupTitle()+')');}}else{n.setText(j);}}};O.prototype._adaptGroupTitle=function(j){var i;var n;if(this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){n=this._mAdvancedAreaFilter[j].items[i];if(n&&n){this._adaptGroupTitleForFilter(n.filterItem);}}}};O.prototype._adaptGroupsTitle=function(){var n=null;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&n!==O.INTERNAL_GROUP){this._adaptGroupTitle(n);}}}};O.prototype.registerGetFiltersWithValues=function(i){this._fRegisterGetFiltersWithValues=i;};O.prototype.registerFetchData=function(i){this._fRegisteredFetchData=i;};O.prototype.registerApplyData=function(i){this._fRegisteredApplyData=i;};O.prototype._isTINAFScenario=function(){if(this._oVariantManagement&&(this._oVariantManagement instanceof t)){return true;}return false;};O.prototype.fireInitialise=function(){if(this._isTINAFScenario()){this._fireInitialiseEvent();}else{this._initializeVariantManagement();}};O.prototype._initializeVariantManagement=function(){if(this._oVariantManagement&&this.getPersistencyKey()){this._fInitialiseVariants=q.proxy(this._initialiseVariants,this);this._oVariantManagement.attachInitialise(this._fInitialiseVariants);this._oVariantManagement.initialise();}else{this._fireInitialiseEvent();}};O.prototype._fireInitialiseEvent=function(){this.fireEvent('initialise');this._bInitialized=true;};O.prototype._initialiseVariants=function(){this._fireInitialiseEvent();if(this._oVariantManagement){this._oVariantManagement.currentVariantSetModified(false);}};O.prototype.fireAfterVariantLoad=function(){this._rerenderFilters();this._mChangedFilterItems=null;this.fireEvent('afterVariantLoad');};O.prototype.removeAllFilterItems=function(){var i;var j;this._aBasicAreaSelection=null;var n=this._oBasicAreaLayout.getContent();if(n){for(i=0;i<n.length;i++){this._oBasicAreaLayout.removeContent(n[i]);}}j=this.getFilterItems();if(this._mAdvancedAreaFilter){if((this._mAdvancedAreaFilter[O.INTERNAL_GROUP])&&(this._mAdvancedAreaFilter[O.INTERNAL_GROUP].items)){for(i=0;i<this._mAdvancedAreaFilter[O.INTERNAL_GROUP].items.length;i++){if(this._mAdvancedAreaFilter[O.INTERNAL_GROUP].items[i].filterItem){j.push(this._mAdvancedAreaFilter[O.INTERNAL_GROUP].items[i].filterItem);}}delete this._mAdvancedAreaFilter[O.INTERNAL_GROUP];}if(Object.keys(this._mAdvancedAreaFilter).length===0){this._mAdvancedAreaFilter=null;}}this._destroyItems(j);};O.prototype.removeAllFilterGroupItems=function(){var n=null,i;var j=[];this._oAdvancedPanel.setVisible(false);this._oAdvancedAreaForm.removeAllFormContainers();for(n in this._mAdvancedAreaFilter){if(n){if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){if(this._mAdvancedAreaFilter[n].items[i].filterItem){j.push(this._mAdvancedAreaFilter[n].items[i].filterItem);}}delete this._mAdvancedAreaFilter[n];}}if(Object.keys(this._mAdvancedAreaFilter).length===0){this._mAdvancedAreaFilter=null;}}this._destroyItems(j);};O.prototype.getAllFilterItems=function(j){var i,n=null;var Q=[];var U,W;if(this.getAdvancedMode()){if(this._aBasicAreaSelection){for(i=0;i<this._aBasicAreaSelection.length;i++){W=this._aBasicAreaSelection[i];if(W&&W.filterItem&&W.filterItem.getVisible()){Q.push(W.filterItem);}}}}if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){U=this._mAdvancedAreaFilter[n];if(U.items){for(i=0;i<U.items.length;i++){W=U.items[i];if(W&&W.filterItem&&W.filterItem.getVisible()){if(j){if(W.filterItem.getVisibleInFilterBar()||W.filterItem.getPartOfCurrentVariant()){Q.push(W.filterItem);}}else{Q.push(W.filterItem);}}}}}}}return Q;};O.prototype._clearErrorState=function(){var i;var j;var n=this.determineMandatoryFilterItems();if(n){for(i=0;i<n.length;i++){j=this.determineControlByFilterItem(n[i]);if(j&&j.setValueState){j.setValueState(y.None);}}}};O.prototype._destroyItems=function(j){if(j&&j.length){for(var i=0;i<j.length;i++){j[i].destroy();}}};O.prototype._reapplyVisibility=function(j){var i,n=null;var Q;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var U=this._mAdvancedAreaFilter[n];if(U&&U.items){for(i=0;i<U.items.length;i++){Q=U.items[i];if(Q&&Q.filterItem){this._setPersVisibility(j,Q.filterItem);}}if(n!==O.INTERNAL_GROUP){this._adaptLinkText(n);}}}}}};O.prototype._setPersVisibility=function(i,j){var n,Q;var U;if(j){Q=j.getName();n=j.getGroupName();U=this._checkForFilterInfo(i,Q);if(this._isTINAFScenario()){if(U){j.setVisibleInFilterBar((U.visibleInFilterBar));j.setPartOfCurrentVariant((U.partOfCurrentVariant));}}else{if(U&&(U.visibleInFilterBar!==undefined)){j.setVisibleInFilterBar((U.visibleInFilterBar));j.setPartOfCurrentVariant((U.partOfCurrentVariant));}else{if((n!==O.INTERNAL_GROUP)&&U&&(U.group===n)){j.setVisibleInFilterBar((U!==null));}}}}};O.prototype._checkForFilterInfo=function(j,n){var i;var Q=null;if(j&&j.length){for(i=0;i<j.length;i++){if(j[i].name===n){Q=j[i];break;}}}return Q;};O.prototype._createVariantManagement=function(){var i=new u({});var j=new s({type:'filterBar',keyName:'persistencyKey'});j.setControl(this);i.addPersonalizableControl(j);i.addStyleClass('sapUiCompFilterBarMarginLeft');return i;};O.prototype._getFiltersWithValues=function(){if(this._fRegisterGetFiltersWithValues){try{return this._fRegisterGetFiltersWithValues();}catch(i){q.sap.log.error('callback for obtaining the filter count throws an exception');}}return null;};O.prototype._getFiltersWithValuesCount=function(){var i,n=0;var j=this._getFiltersWithValues();if(j){for(i=0;i<j.length;i++){if(j[i].getVisible()&&(j[i].getVisibleInFilterBar()||j[i].getPartOfCurrentVariant())){n++;}}}return n;};O.prototype._checkFilterForValue=function(j,n){var i;if(j){for(i=0;i<j.length;i++){if(j[i]===n){return true;}}}return false;};O.prototype._toggleHideShow=function(){this.setFilterBarExpanded(!this.getFilterBarExpanded());};O.prototype._updateToolbarText=function(){var n=this._getFiltersWithValuesCount();var i=n?(this._oRb.getText('FILTER_BAR_ACTIVE_FILTERS',[n])):(this._oRb.getText('FILTER_BAR_ACTIVE_FILTERS_ZERO'));this._oFiltersButton.setText(i);};O.prototype.setFilterBarExpanded=function(i){var j=this._isPhone()?false:i;this.setProperty('filterBarExpanded',j);if(this._isPhone()){this._oHideShowButton.setVisible(false);this._oSearchButton.setVisible(this.getShowGoOnFB());if(this.getAdvancedMode()){this._oBasicAreaLayout.setVisible(true);}else{this._oBasicAreaLayout.setVisible(false);}}else{if(j){this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_HIDE'));}else{this._oHideShowButton.setText(this._oRb.getText('FILTER_BAR_SHOW'));}this._oHideShowButton.setVisible(true);this._oSearchButton.setVisible(this.getShowGoOnFB());this._oBasicAreaLayout.setVisible(j);}this._updateToolbarText();};O.prototype._selectionChangedInFilterDialog=function(i,j){j.setVisibleInFilterBar(i.getSelected());if(this._getConsiderFilterChanges()&&this._oVariantManagement&&this._oVariantManagement.getEnabled()){this._oVariantManagement.currentVariantSetModified(true);}};O.prototype._mandatoryFilterChange=function(i){if(!i){return;}var j=i.getParameters();if(!j||!j.oSource){return;}var n=this._determineByControl(j.oSource);if(n&&n.checkbox){var Q=n.filterItem;if(!Q.getMandatory()){return;}var U=this._hasFilterValue(Q);if(Q.getVisibleInFilterBar()){if(U){n.checkbox.setEnabled(true);}else{n.checkbox.setEnabled(false);}}else{if(!U){Q.setVisibleInFilterBar(true);n.checkbox.setSelected(true);n.checkbox.setEnabled(false);}}}};O.prototype._createFiltersAndAdaptBasicArea=function(){var i;this._setConsiderFilterChanges(false);this._recreateBasicAreaContainer(true);i=this._createFilters();this._setConsiderFilterChanges(true);return i;};O.prototype._determineNotAssignedFiltersCount=function(j){var n=0,i;var Q;if(this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){Q=this._mAdvancedAreaFilter[j].items[i].filterItem;if(!Q.getVisible()){continue;}if(!Q.getPartOfCurrentVariant()&&!Q.getVisibleInFilterBar()){n++;}}}return n;};O.prototype._rerenderGroup=function(j,n){var i;var Q;this._rerenderItem(j);this._adaptLinkText(n);if(j.formelement){if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items&&this._mAdvancedAreaFilter[n].formcontainer){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){Q=this._mAdvancedAreaFilter[n].items[i].filterItem;if(Q&&Q.getVisible()){this._mAdvancedAreaFilter[n].formcontainer.setVisible(true);return;}}this._mAdvancedAreaFilter[n].formcontainer.setVisible(false);}}};O.prototype._setLinkTextAndCount=function(i,j,n){var Q;if(n){Q=this._oRb.getText('FILTER_BAR_SHOW_MORE_FILTERS',[n]);}else{Q=this._oRb.getText('FILTER_BAR_SHOW_CHANGE_FILTERS');}j.setText(Q);};O.prototype._setLinkText=function(i,j){var n=this._determineNotAssignedFiltersCount(i);this._setLinkTextAndCount(i,j,n);};O.prototype._createLink=function(i){var j=this;var n=new e();this._setLinkText(i,n);n.attachPress(function(){j._createAddRemoveFiltersDialog(i,n);});return n;};O.prototype._isPhone=function(){return(o.system.phone)?true:false;};O.prototype._isTablet=function(){return(o.system.tablet)?true:false;};O.prototype._createFilters=function(){var j=this;var n=null,i;var Q;var U,W,X,Y;var Z,$,_;var a1=null;var b1;var c1=null;var d1=true;var e1;var f1=new N();f1.setColumnsL(1);f1.setColumnsM(1);var g1=new J({editable:true,layout:f1});g1.addStyleClass('sapUiCompFilterBarDialogForm');if(this._oVariantManagement){var h1=this._oToolbar.indexOfContent(this._oVariantManagement);if(h1>=0){var i1=this._oVariantManagement.clone();i1._setSelectionByKey(this._oVariantManagement.getSelectionKey());this._oToolbar.removeContent(this._oVariantManagement);this._oToolbar.insertContent(i1,h1);this._oVariant.key=this._oVariantManagement.getSelectionKey();this._oVariant.modified=this._oVariantManagement.currentVariantGetModified();U=new K();this._oVariantManagement.setLayoutData(new z({span:'L10 M10 S12'}));W=new M({fields:this._oVariantManagement});U.addFormElement(W);if(!this._isPhone()){c1=new L({});c1.setLayoutData(new z({span:'L2 M2 S2'}));c1.addStyleClass('sapUiCompFilterBarAddFilterLabel');this._oAddToFilterBarLabel=c1;W=new M({label:c1});U.addFormElement(W);}g1.addFormContainer(U);}g1.addStyleClass('sapUiCompFilterBarGroupTitle');}var j1=this._getFiltersWithValues();this._fRegisteredFilterChangeHandlers=function(k1){j._mandatoryFilterChange(k1);};this.attachFilterChange(this._fRegisteredFilterChangeHandlers);this._oVariant.content=this.fetchVariant();for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){Z=new x();if(n===O.INTERNAL_GROUP){this._oTitle=Z;Q=this._oRb.getText('FILTER_BAR_BASIC_GROUP');}else{Q=this._mAdvancedAreaFilter[n].filterItem.getGroupTitle();}Z.setText(Q);U=new K({title:Z});if(d1&&Q===''&&c1){c1.removeStyleClass('sapUiCompFilterBarAddFilterLabel');c1.addStyleClass('sapUiCompFilterBarAddFilterLabelNoGroup');}d1=false;e1=0;this._mAdvancedAreaFilter[n].formcontainer=U;for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){Y=this._mAdvancedAreaFilter[n].items[i];if(Y.control.getWidth){Y.width=Y.control.getWidth();if(Y.control.setWidth){Y.control.setWidth('100%');}}_=Y.filterItem.getLabelControl();if(this.getConsiderGroupTitle()){_.setText(Y.filterItem.getLabel());}a1=new C({tooltip:this._oRb.getText('FILTER_BAR_SHOW_IN_FILTERBAR')});a1.setSelected(Y.filterItem.getVisibleInFilterBar());if(Y.filterItem.getMandatory()){b1=this._checkFilterForValue(j1,Y.filterItem);if(!b1&&Y.filterItem.getVisibleInFilterBar()){a1.setEnabled(false);}}a1.attachSelect(q.proxy(this._selectionChangedInFilterDialog,this,a1,Y.filterItem));if(this._isPhone()){_.setLayoutData(new z({span:'L3 M3 S12'}));Y.control.setLayoutData(new z({span:'L8 M8 S12'}));a1.setVisible(false);}else{_.setLayoutData(new z({span:'L3 M3 S12'}));Y.control.setLayoutData(new z({span:'L8 M8 S11'}));a1.setLayoutData(new z({span:'L1 M1 S1'}));}W=new M({label:_,fields:[Y.control,a1]});W.setVisible(Y.filterItem.getVisible()&&(Y.filterItem.getVisibleInFilterBar()||Y.filterItem.getPartOfCurrentVariant()));if(!Y.filterItem.getVisible()){e1++;}Y.formelement=W;Y.checkbox=a1;U.addFormElement(W);}X=U.getFormElements();if(X&&X.length>0){if(n!==O.INTERNAL_GROUP){$=this._createLink(n);if($){if(this._isPhone()){$.setLayoutData(new z({span:'L8 M8 S12'}));}else{$.setLayoutData(new z({span:'L8 M8 S12',indent:'L3 M3 S0'}));}W=new M({fields:[$]});this._mAdvancedAreaFilter[n].link=$;U.addFormElement(W);}if(e1===X.length){U.setVisible(false);}}g1.addFormContainer(U);}}}return g1;};O.prototype._recreateBasicAreaContainer=function(U){var n=null,i;var j,Q;var W,X;if(this._oVariantManagement){var Y=this._oToolbar.getContent();this._oToolbar.removeContent(Y[0]);this._oToolbar.insertContent(this._oVariantManagement,0);}this._oBasicAreaLayout.removeAllContent();for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){W=this._mAdvancedAreaFilter[n].items[i].filterItem;if(U){if(!W.getVisible()||!W.getVisibleInFilterBar()){continue;}j=this._mAdvancedAreaFilter[n].items[i].control.clone();Q=W.getLabelControl().clone();if(this.getConsiderGroupTitle()){W.getLabelControl().setText(W.getLabel());}}else{j=this._mAdvancedAreaFilter[n].items[i].control;Q=W.getLabelControl();if(this._mAdvancedAreaFilter[n].items[i].width){j.setWidth(this._mAdvancedAreaFilter[n].items[i].width);}}X=this._addControlToBasicAreaContainer(W,j,Q);if(X){X.setVisible(W.getVisible()&&W.getVisibleInFilterBar());this._mAdvancedAreaFilter[n].items[i].container=X;}}}}};O.prototype._searchRequested=function(i){if(this.search()){this._oFilterDialog.close();}};O.prototype._closeDialogAndRestoreFilterBar=function(i){this._sSearchCriteriaInFiltersDialog=null;this._oVariant={};i.removeAllFormContainers();if(this._oActionSheet){this._oActionSheet.destroy();this._oActionSheet=null;}this._recreateBasicAreaContainer();this._deleteProperties();this._adaptGroupsTitle();if(this._fRegisteredFilterChangeHandlers){this.detachFilterChange(this._fRegisteredFilterChangeHandlers);this._fRegisteredFilterChangeHandlers=null;}this._updateToolbarText();};O.prototype._variantSave=function(i){var j;this._oVariant={};this.fireBeforeVariantSave();if(this._oVariantManagement&&this._oFilterDialog){j=this._oVariantManagement.getSelectionKey();this._oVariant.key=j;this._oVariant.modified=false;this._oVariant.content=this._oVariantManagement.getVariantContent(this,j);}};O.prototype._afterVariantSave=function(i){this.fireAfterVariantSave();};O.prototype._variantSavePressed=function(i){if(this._oVariantManagement){var j=this._oVariantManagement.getSelectionKey();var n=this._oVariantManagement.getItemByKey(this._oVariantManagement.getSelectionKey());if((j===this._oVariantManagement.STANDARDVARIANTKEY)||(n&&n.getReadOnly&&n.getReadOnly())){this._oVariantManagement._openSaveAsDialog();}else{this._oVariantManagement._variantSavePressed();}}};O.prototype._dialogOpened=function(){if(this._oTitle&&this._oAddToFilterBarLabel){var i=this._getDOMElement(this._oTitle.getId());if(i){var j=i.offset();var n=this._getDOMElement(this._oAddToFilterBarLabel.getId());if(n){var Q=n.offset();if(Q&&j){Q.top=j.top+8;n.offset(Q);}}}}if(this._oAddToFilterBarLabel){this._oAddToFilterBarLabel.setText(this._oRb.getText('FILTER_BAR_SHOW_IN_FILTERBAR'));}};O.prototype._cancelFilterDialog=function(){if(this._oVariant&&this._oVariant.key&&this._oVariant.content){this.applyVariant(this._oVariant.content);if(this._oVariantManagement){this._oVariantManagement._setSelectionByKey(this._oVariant.key);this._oVariantManagement.currentVariantSetModified(this._oVariant.modified);}}};O.prototype._showFilterDialog=function(){var i=this;this._oFilterDialog=new D({stretch:o.system.phone});this._oFilterDialog.setParent(this);this._oFilterDialog.addStyleClass('sapUiPopupWithPadding');if(this.$().closest('.sapUiSizeCompact').length>0){this._oFilterDialog.addStyleClass('sapUiSizeCompact');}this._oFilterDialog.addStyleClass('sapUiCompFilterBarDialog');if(!this._isPhone()){this._oFilterDialog.addStyleClass('sapUiCompFilterBarDialogNonPhone');}this._oFilterDialog.setTitle(this._oRb.getText('FILTER_BAR_ADV_FILTERS_DIALOG'));this._oFilterDialog.addStyleClass('sapMH4FontSize');this._oFilterDialog.addStyleClass('sapMH4Style');this._oFilterDialog.setVerticalScrolling(true);var j=new B();var n=new S();n.attachSearch(function(W){if(i._oFilterDialog){i._triggerSearchInFilterDialog(W);}});j.addContentRight(n);this._oFilterDialog.setSubHeader(j);var Q=this._createFiltersAndAdaptBasicArea();if(!Q){q.sap.log.error('Content for Advanced Filters Dialog could not be created');return;}this._oFilterDialog.addContent(Q);this._oFilterDialog.attachAfterOpen(function(){i._dialogOpened();});this._oFilterDialog.attachBeforeClose(function(){i._closeDialogAndRestoreFilterBar(Q);});this._oFilterDialog.attachAfterClose(function(){i._oFilterDialog.destroy();i._oFilterDialog=null;});this._oFilterDialog.setInitialFocus(n);this._addFilterDialogButtons(Q);if(!this._isPhone()){this._oFilterDialog.setContentWidth('42rem');}var U=q(document).height()/16;this._oFilterDialog.setContentHeight((U-17)+'rem');this._oFilterDialog.open();};O.prototype._addFilterDialogButtons=function(i){var j=this;var n,Q=[];var U,W,X,Y,Z;var $;Y=new a({id:this.getId()+'-btnSearchOnFiltersDialog',text:this._oRb.getText('FILTER_BAR_GO'),press:function(){j._searchRequested(i);},type:b.Emphasized});this._oFilterDialog.addButton(Y);if(this._oVariantManagement&&this._oVariantManagement.getVisible()&&this._oVariantManagement.oVariantSave){U=new a({id:this.getId()+'-btnVariantSaveOnFiltersDialog',text:this._oRb.getText('VARIANT_MANAGEMENT_SAVE'),enabled:this._oVariantManagement.oVariantSave.getEnabled(),press:function(){j._variantSavePressed();}});n=this._oVariantManagement.getModel('save_enablement');U.setModel(n);U.bindProperty('enabled','/enabled');Q.push(U.clone());U.addStyleClass('sapUiHideOnPhone');this._oFilterDialog.addButton(U);}W=new a({id:this.getId()+'-btnClearOnFiltersDialog',text:this._oRb.getText('FILTER_BAR_CLEAR'),visible:this.getShowClearButton(),press:function(){j.clear();}});if(W.getVisible()){Q.push(W.clone());}W.addStyleClass('sapUiHideOnPhone');this._oFilterDialog.addButton(W);if(n){X=new a({id:this.getId()+'-btnRestoreOnFiltersDialog',text:this._oRb.getText('FILTER_BAR_RESTORE'),visible:this.getShowRestoreButton(),enabled:this._oVariantManagement.oVariantSave.getEnabled(),press:function(){j.reset();j._oVariantManagement.currentVariantSetModified(false);}});X.setModel(n);X.bindProperty('enabled','/enabled');if(X.getVisible()){Q.push(X.clone());}X.addStyleClass('sapUiHideOnPhone');this._oFilterDialog.addButton(X);}Z=new a({id:this.getId()+'-btnCancelOnFiltersDialog',text:this._oRb.getText('FILTER_BAR_CANCEL'),press:function(){j._cancelFilterDialog();j._oFilterDialog.close();}});this._oFilterDialog.addButton(Z);if(Q.length>0){this._oActionSheet=new A({showCancelButton:true,buttons:Q,placement:k.Top});$=new a({id:this.getId()+'-btnActionsOnFiltersDialog',icon:'sap-icon://overflow',press:function(){j._oActionSheet.openBy(this);},tooltip:this._oRb.getText('FILTER_BAR_ACTIONS')});$.addStyleClass('sapUiVisibleOnlyOnPhone');this._oFilterDialog.addButton($);}};O.prototype._createButtons=function(){var i=this;var j=new H();this._oHideShowButton=new a({id:this.getId()+'-btnHideShowFilterBar',text:this._oRb.getText('FILTER_BAR_HIDE'),type:b.Transparent});this._oHideShowButton.addStyleClass('sapUiCompFilterBarPaddingRightBtn');this._oHideShowButton.attachPress(function(){i._toggleHideShow();});j.addContent(this._oHideShowButton);this._oClearButtonOnFB=new a({id:this.getId()+'-btnClearOnFilterBar',visible:this.getShowClearOnFB(),text:this._oRb.getText('FILTER_BAR_CLEAR'),type:b.Transparent});this._oClearButtonOnFB.attachPress(function(){i.clear();});j.addContent(this._oClearButtonOnFB);if(this._oVariantManagement){this._oRestoreButtonOnFB=new a({id:this.getId()+'-btnRestoreOnFilterBar',visible:this.getShowRestoreOnFB(),text:this._oRb.getText('FILTER_BAR_RESTORE'),type:b.Transparent});this._oRestoreButtonOnFB.attachPress(function(){i.reset();});j.addContent(this._oRestoreButtonOnFB);}this._oFiltersButton=new a({id:this.getId()+'-btnFiltersOnFilterBar',text:this._oRb.getText('FILTER_BAR_ACTIVE_FILTERS_ZERO'),type:b.Transparent});this._oFiltersButton.addStyleClass('sapUiCompFilterBarPaddingRightBtn');this._oFiltersButton.attachPress(function(){i._showFilterDialog();});j.addContent(this._oFiltersButton);this._oSearchButton=new a({id:this.getId()+'-btnSearchOnFilterBar',visible:this.getShowGoOnFB(),text:this._oRb.getText('FILTER_BAR_GO'),type:b.Emphasized});this._oSearchButton.attachPress(function(){i.search();});this._oSearchButton.addStyleClass('sapUiCompFilterBarMargingRight');j.addContent(this._oSearchButton);this._oButtonsLayout=j;return j;};O.prototype._createButtonsLayout=function(){var i=new H();var j=this._createButtons();i.addContent(j);i.addStyleClass('sapUiCompFilterBarButtonGroup');return i;};O.prototype._createVariantLayout=function(){this._oVariantManagement=this._createVariantManagement();this._oVariantManagement.setVisible(false);this._fSaveVariant=q.proxy(this._variantSave,this);this._oVariantManagement.attachSave(this._fSaveVariant);this._fAfterSaveVariant=q.proxy(this._afterVariantSave,this);this._oVariantManagement.attachAfterSave(this._fAfterSaveVariant);return this._oVariantManagement;};O.prototype._createToolbar=function(){var i=new l();var j=this._createVariantLayout();i.addContent(j);i.addContent(this._oText);i.addContent(new m());this._oButtonLayout=this._createButtonsLayout();i.addContent(this._oButtonLayout);i.addStyleClass('sapUiCompFilterBarToolbar');i.addStyleClass('sapUiCompFilterBarToolbarMarker');return i;};O.prototype._createBasicAreaLayout=function(){var i=new H();i.setAllowWrapping(true);i.addStyleClass('sapUiCompFilterBarWidth100');i.addStyleClass('sapUiCompFilterBarBasicArea');return i;};O.prototype._createAdvancedAreaForm=function(){var i=new N();i.addStyleClass('sapUiCompFilterBarPaddingForm');i.setColumnsL(3);i.setColumnsM(2);var j=new J({editable:true});j.setLayout(i);return j;};O.prototype._addControlToBasicAreaFormContainer=function(i){var j=i.getControl();if(!j){q.sap.log.error('no Control obtained');return null;}var n=i.getLabelControl();if(!n){q.sap.log.error('no Label obtained');return null;}if(!this.getAdvancedMode()){this._adaptGroupTitleForFilter(i);}else{this._oAdvancedPanel.setExpandable(true);var Q=this._oRb.getText('ADVANCED_SEARCH_TEXT');this._oAdvancedPanel.setHeaderText(Q);this.oAdvancedSearchArea.setVisible(false);if(this._oSearchButtonAdvanced){this._oSearchButtonAdvanced.removeStyleClass('sapUiCompFilterBarFloatRight');this._oBasicAreaLayout.insertContent(this._oSearchButtonAdvanced,0);this._oSearchButtonAdvanced.setVisible(true);}}return this._addControlToBasicAreaContainer(i,j,n);};O.prototype._addControlToBasicAreaContainer=function(i,j,n){var Q=new F();Q.setLayoutData(new E({margin:true}));if(j.getWidth){Q.setWidth('12rem');}if(!this.getAdvancedMode()){if(n){Q.addContent(n);n.setLabelFor(j);}}Q.addContent(j);Q.addStyleClass('sapUiCompFilterBarPaddingRight');if(this.getAdvancedMode()){var U=this._oBasicAreaLayout.getContent();if(U.length>0){this._oBasicAreaLayout.insertContent(Q,U.length-1);}else{this._oBasicAreaLayout.addContent(Q);}}else{Q.addStyleClass('sapUiCompFilterBarPaddingTop');this._oBasicAreaLayout.addContent(Q);}return Q;};O.prototype._flattenMap=function(){var n=null,i;var j=[];var Q;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n].items){Q=false;for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){var U=this._mAdvancedAreaFilter[n].items[i];if(U.filterItem&&U.filterItem.getVisibleInFilterBar()&&U.filterItem.getVisible()){if(!Q){Q=true;j.push({control:null,filterItem:this._mAdvancedAreaFilter[n].filterItem});}j.push({control:U.control,filterItem:U.filterItem});}}}}}return j;};O.prototype._rerenderAA=function(){this._oAdvancedAreaForm.removeAllFormContainers();var i=this._flattenMap();if(i.length>0){this._oAdvancedPanel.setVisible(true);}else{this._oAdvancedPanel.setVisible(false);}this._layOutAA(i);};O.prototype._triggerSearchByValue=function(j){var i,n,Q;var U;var W;j=j.replace(/^\\s+|\\s+$/g,'').toLowerCase();if(this._aListItems){var X=0;for(i=this._aListItems.length-1;i>=0;i--){U=this._aListItems[i].getContent();if(U.length===2){n=U[1].getText();Q=this._aListItems[i].data('quickinfo');if((n.toLowerCase().indexOf(j)>=0||(Q&&Q.toLowerCase().indexOf(j)>=0))||(this._aListItems[i].hasStyleClass('sapUiCompFilterBarGroupListItem')&&X>0)){W=true;if(this._aListItems[i].hasStyleClass('sapUiCompFilterBarGroupListItem')){if(!X){W=false;}}else{X++;}this._aListItems[i].setVisible(W);}else{this._aListItems[i].setVisible(false);}}}}};O.prototype._triggerSearch=function(i){if(!i){return;}var j=i.getParameters();if(!j){return;}var n=j.query?j.query:'';this._triggerSearchByValue(n);};O.prototype._triggerSearchByValueInFilterDialog=function(j){var n=null,i;var Q,U;var W,X;var Y;var Z;j=j.replace(/^\\s+|\\s+$/g,'').toLowerCase();if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){W=this._mAdvancedAreaFilter[n];if(W&&W.items){Y=0;Z=0;for(i=0;i<W.items.length;i++){if(W.items[i]&&W.items[i].filterItem&&W.items[i].formelement){X=W.items[i].filterItem;if(X.getVisible()){if(j){Q=X.getLabel();U=X.getLabelTooltip();if((Q.toLowerCase().indexOf(j)>=0||(U&&U.toLowerCase().indexOf(j)>=0))){if(X.getPartOfCurrentVariant()){W.items[i].formelement.setVisible(true);}else{++Z;}}else{++Y;W.items[i].formelement.setVisible(false);}}else{W.items[i].formelement.setVisible(X.getVisibleInFilterBar()||X.getPartOfCurrentVariant());if(W.link&&!W.link.getVisible()){W.link.setVisible(true);}}}else{++Y;}}}if(W&&W.formcontainer){if(Y===W.items.length){W.formcontainer.setVisible(false);}else{W.formcontainer.setVisible(true);if(W.link){W.link.setVisible((j&&(Z===0))?false:true);if(j&&(Z>0)){this._setLinkTextAndCount(n,W.link,Z);}else{this._setLinkText(n,W.link);}}}}}}}}};O.prototype._triggerSearchInFilterDialog=function(i){if(!i){return;}var j=i.getParameters();if(!j){return;}var n=j.query?j.query:'';this._sSearchCriteriaInFiltersDialog=n;this._triggerSearchByValueInFilterDialog(n);};O.prototype._generateListItems=function(j){var i;var n;var Q,U;var W=[];var X,Y;var Z=false;if(this.$().closest('.sapUiSizeCompact').length>0){Z=true;}if(j&&this._mAdvancedAreaFilter){U=this._mAdvancedAreaFilter[j];if(U&&U.items){n=new c();n.addStyleClass('sapUiCompFilterBarGroupListItem');X=new L({text:U.filterItem.getGroupTitle()});n.addContent(X);for(i=0;i<U.items.length;i++){var $=U.items[i];if($&&$.filterItem){if(!$.filterItem.getVisible()){continue;}if(n){W.push(n);n=null;}Q=new c();Q.setVisible(true);if(!Z){Q.addStyleClass('sapUiCompFilterBarListItem');}else{Q.addStyleClass('sapUiCompFilterBarListItemCompact');}Q.data('quickinfo',$.filterItem.getLabelTooltip());Y=new C();Y.setSelected($.filterItem.getPartOfCurrentVariant());if((($.filterItem.getMandatory()&&$.checkbox&&!$.checkbox.getEnabled())||$.filterItem.getVisibleInFilterBar())){Y.setEnabled(false);}$.initialPartOfCurrentVariant=$.filterItem.getPartOfCurrentVariant();Y.attachSelect(q.proxy(this._selectionChangedInAddFiltersDialog,this,Y,$));Q.addContent(Y);X=new L({text:$.filterItem.getLabel(),tooltip:$.filterItem.getLabelTooltip()});Q.addContent(X);W.push(Q);}}}}return W;};O.prototype._rerenderItem=function(i){if(i){if(i.container){i.container.setVisible(i.filterItem.getVisible()&&i.filterItem.getVisibleInFilterBar());}if(i.formelement){i.formelement.setVisible(i.filterItem.getVisible()&&(i.filterItem.getVisibleInFilterBar()||i.filterItem.getPartOfCurrentVariant()));if(i.checkbox){i.checkbox.setSelected(i.filterItem.getVisibleInFilterBar());}}}};O.prototype._rerenderFilters=function(){var i;var n=null;var j=null;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n&&this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];this._rerenderItem(j);}}}}this._updateToolbarText();};O.prototype.rerenderFilters=function(){this._rerenderFilters();};O.prototype._closeAddRemoveFiltersDialog=function(i,j){if(i&&j){if(this._sSearchCriteriaInFiltersDialog&&this._oFilterDialog){this._triggerSearchByValueInFilterDialog(this._sSearchCriteriaInFiltersDialog);}else{this._setLinkText(i,j);}}this._oDialog.close();this._oDialog.destroy();this._oDialog=null;};O.prototype._cancelAddRemoveFiltersDialog=function(j){var i;var n;if(j&&this._mAdvancedAreaFilter&&this._mAdvancedAreaFilter[j]&&this._mAdvancedAreaFilter[j].items){for(i=0;i<this._mAdvancedAreaFilter[j].items.length;i++){n=this._mAdvancedAreaFilter[j].items[i];if(n.initialPartOfCurrentVariant!==undefined&&n.filterItem){if(n.filterItem.getPartOfCurrentVariant()!==n.initialPartOfCurrentVariant){n.filterItem.setPartOfCurrentVariant(n.initialPartOfCurrentVariant);this._rerenderItem(n);this._notifyAboutChangedFilters(n.initialPartOfCurrentVariant,n.control);}}}}if(this._oVariantManagement&&(this._oVariant.modified2!==undefined)){this._oVariantManagement.currentVariantSetModified(this._oVariant.modified2);}};O.prototype._createAddRemoveFiltersDialog=function(j,n){var i;var Q=this;if(!j){return;}this._oDialog=new D({stretch:o.system.phone});this._oDialog.addStyleClass('sapUiPopupWithPadding');this._oDialog.addStyleClass('sapUiCompAddRemoveFilterDialog');if(this.$().closest('.sapUiSizeCompact').length>0){this._oDialog.addStyleClass('sapUiSizeCompact');}this._oDialog.setTitle(this._oRb.getText('SELECT_FILTER_FIELDS'));this._oDialog.addStyleClass('sapMH4FontSize');this._oDialog.addStyleClass('sapMH4Style');this._oDialog.setVerticalScrolling(true);var U=new B();var W=new S();this._oSearchField=W;W.attachSearch(function($){Q._triggerSearch($);});U.addContentRight(W);this._oDialog.setSubHeader(U);var X=new f();X.setShowSeparators(g.None);this._oDialog.addContent(X);this._aListItems=this._generateListItems(j);for(i=0;i<this._aListItems.length;i++){X.addItem(this._aListItems[i]);}if(this._oVariant&&this._oVariantManagement){this._oVariant.modified2=this._oVariantManagement.currentVariantGetModified();}var Y=new a({id:this.getId()+'-btnCloseAddRemoveFiltersDialog',text:this._oRb.getText('FILTER_BAR_OK')});Y.attachPress(function(){Q._closeAddRemoveFiltersDialog(j,n);});this._oDialog.addAggregation('buttons',Y);this._oDialog.setInitialFocus(this._oSearchField);this._oDialog.setContentHeight('23.25rem');if(this._sSearchCriteriaInFiltersDialog){this._triggerSearchByValue(this._sSearchCriteriaInFiltersDialog);}var Z=new a({id:this.getId()+'-btnCancelAddRemoveFiltersDialog',text:this._oRb.getText('FILTER_BAR_CANCEL'),press:function(){Q._cancelAddRemoveFiltersDialog(j);Q._closeAddRemoveFiltersDialog(j,n);}});this._oDialog.addAggregation('buttons',Z);this._oDialog.open();};O.prototype._selectionChangedInAddFiltersDialog=function(i,j){var n=i.getSelected();if(!n&&((j.filterItem.getMandatory()&&!j.checkbox.getEnabled())||j.filterItem.getVisibleInFilterBar())){i.setSelected(true);return;}j.filterItem.setPartOfCurrentVariant(n);this._rerenderItem(j);this._notifyAboutChangedFilters(n,j.control);};O.prototype._setConsiderFilterChanges=function(i){this._filterChangeSemaphore=i;};O.prototype._getConsiderFilterChanges=function(){return this._filterChangeSemaphore;};O.prototype.fireFilterChange=function(i){this._updateToolbarText();if(this._getConsiderFilterChanges()&&this._oVariantManagement&&this._oVariantManagement.getEnabled()){this._oVariantManagement.currentVariantSetModified(true);}if(this._oFilterDialog&&!(this._oFilterDialog.isOpen())){return;}this.fireEvent('filterChange',i);};O.prototype._notifyAboutChangedFilters=function(i,j){var n;if(i){n={'added':j};}else{n={'deleted':j};}this.fireFilterChange(n);};O.prototype.getAllAddedRemovedFilterItems=function(){return this._mChangedFilterItems;};O.prototype._layOutAA=function(i){if(this._mAdvancedAreaFilter&&Object.keys(this._mAdvancedAreaFilter).length>1){this._layOutAAMultipleGroup(i);}else{this._layOutAASingleGroup(i);}};O.prototype._layOutAAMultipleGroup=function(n){var i,j,Q=0;var U=null;for(i=0;i<n.length;i++){if(n[i].control===null){Q++;}}var W=this._oAdvancedAreaForm.getLayout();if(W){if(Q>=3){W.setLabelSpanL(5);W.setLabelSpanM(5);W.setColumnsL(3);W.setColumnsM(2);}else if(Q===2){W.setLabelSpanL(4);W.setLabelSpanM(5);W.setColumnsL(2);W.setColumnsM(2);}else if(Q===1){W.setLabelSpanL(4);W.setLabelSpanM(5);W.setColumnsL(2);W.setColumnsM(2);}}for(i=0;i<n.length;i++){if(n[i].control===null){U=new K();if(Object.keys(this._mAdvancedAreaFilter).length>1){U.setTitle(n[i].filterItem.getGroupTitle());}this._oAdvancedAreaForm.addFormContainer(U);j=i+1;while(j<n.length&&(n[j].control)){this._addControlToAdvancedArea(n[j].filterItem,n[j].control,U);j++;}i=j-1;}}if(Q===1){this._oAdvancedAreaForm.addFormContainer(new K());}};O.prototype._layOutAASingleGroup=function(j){var i,n,Q,U;var W=j.length-1;var X=W>2?2:1;if(X>1){Q=Math.floor(W/X);U=((Q*X)<W);for(i=1;i<X;i++){n=i*Q;if(U){++n;}if((n+i)<j.length){j.splice(n+i,0,j[0]);}}}this._layOutAAMultipleGroup(j);};O.prototype._determineVariantFiltersInfo=function(j){var i;var n=null,Q;var U=null;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){if(this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){Q=this._mAdvancedAreaFilter[n].items[i];if(j||Q.filterItem.getVisible()){if(!U){U=[];}U.push({group:Q.filterItem.getGroupName(),name:Q.filterItem.getName(),partOfCurrentVariant:Q.filterItem.getPartOfCurrentVariant(),visibleInFilterBar:Q.filterItem.getVisibleInFilterBar()});}}}}}}return U;};O.prototype._addControlToAdvancedArea=function(i,j,n){var Q=new M({label:i.getLabelControl(),fields:[(j!==null)?j:new T()]});n.addFormElement(Q);};O.prototype._determineVisibility=function(i){var j=false;if(i){j=i.getVisible()&&(i.getVisibleInFilterBar()||i.getPartOfCurrentVariant());}return j;};O.prototype._retrieveVisibleBasicItems=function(){var i,j=[];if(this.getAdvancedMode()){if(this._aBasicAreaSelection){for(i=0;i<this._aBasicAreaSelection.length;i++){if(this._aBasicAreaSelection[i].filterItem){if(this._determineVisibility(this._aBasicAreaSelection[i].filterItem)){j.push(this._aBasicAreaSelection[i]);}}}}}return j;};O.prototype._retrieveVisibleAdvancedItems=function(){var i,n=null,j;var Q=[];if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){if(n===O.INTERNAL_GROUP){if(this.getAdvancedMode()){continue;}}if(this._mAdvancedAreaFilter[n]&&this._mAdvancedAreaFilter[n].items){for(i=0;i<this._mAdvancedAreaFilter[n].items.length;i++){j=this._mAdvancedAreaFilter[n].items[i];if(j){if(this._determineVisibility(j.filterItem)){Q.push(j);}}}}}}}return Q;};O.prototype._retrieveCurrentSelectionSet=function(){var i;var j=[];var n=this._retrieveVisibleBasicItems();var Q=this._retrieveVisibleAdvancedItems();var U=n.concat(Q);for(i=0;i<U.length;i++){if(U[i].control){j.push(U[i].control);}}return j;};O.prototype.search=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet();this.fireSearch(i);return true;};O.prototype.clear=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet();this._clearErrorState();this.fireClear(i);};O.prototype._setSelectedVariant=function(){var i=null;if(this._oVariantManagement){var j=this._oVariantManagement.getSelectionKey();if(j){i=this._oVariantManagement.getVariantContent(this,j);if(i){this._applyVariant(i);}}}};O.prototype.reset=function(){var i={};i.selectionSet=this._retrieveCurrentSelectionSet();this.fireReset(i);this._setSelectedVariant();};O.prototype._applyVariant=function(i){var j=null;var n;var Q=false;if(i){this._setConsiderFilterChanges(false);n=i.filterBarVariant;j=i.filterbar;this._applyVariantFields(n);this._reapplyVisibility(j);this._setConsiderFilterChanges(true);this._updateToolbarText();this.fireAfterVariantLoad();if(i.executeOnSelection){Q=i.executeOnSelection;}if(Q){this.search();}else{this._clearErrorState();}}};O.prototype._fetchVariantFiltersData=function(){if(this._fRegisteredFetchData){try{return this._fRegisteredFetchData();}catch(i){q.sap.log.error('callback for fetching data throws an exception');}}else{q.sap.log.warning('no callback for fetch data supplied');}return null;};O.prototype._applyVariantFields=function(j){if(this._fRegisteredApplyData){try{return this._fRegisteredApplyData(j);}catch(i){q.sap.log.error('callback for applying data throws an exception');}}else{q.sap.log.warning('no callback for appy data supplied');}};O.prototype.fetchVariant=function(i){var j;var n={};j=this._determineVariantFiltersInfo(i);n.filterbar=(!j)?[]:j;n.filterBarVariant=this._fetchVariantFiltersData();return n;};O.prototype.applyVariant=function(i){this._applyVariant(i);};O.prototype.determineMandatoryFilterItems=function(){var i;var j=[];var n=this._retrieveVisibleBasicItems();var Q=this._retrieveVisibleAdvancedItems();var U=n.concat(Q);for(i=0;i<U.length;i++){if(U[i].filterItem.getMandatory()===true){if(U[i].control){j.push(U[i].filterItem);}}}return j;};O.prototype.determineControlByFilterItem=function(j){var i,n=null;var Q,U;if(this._aBasicAreaSelection){for(i=0;i<this._aBasicAreaSelection.length;i++){Q=this._aBasicAreaSelection[i];if(j===Q.filterItem){return Q.control;}}}if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){U=this._mAdvancedAreaFilter[n];if(U&&U.items){for(i=0;i<U.items.length;i++){Q=U.items[i];if(j===Q.filterItem){return Q.control;}}}}}}return null;};O.prototype.determineControlByName=function(n,i){var j=this._determineItemByName(n,i);if(j){return j.control;}return null;};O.prototype._determineItemByName=function(n,j){var i;var Q,U;var W=j;if(!n){return null;}if(!W){W=O.INTERNAL_GROUP;}if(this._mAdvancedAreaFilter){U=this._mAdvancedAreaFilter[W];if(U&&U.items){for(i=0;i<U.items.length;i++){Q=U.items[i];if(Q&&Q.filterItem&&(Q.filterItem.getName()===n)){return Q;}}}}return null;};O.prototype.determineFilterItemByName=function(i){var n,j;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){j=this._determineItemByName(i,n);if(j){return j.filterItem;}}}return null;};O.prototype._determineByFilterGroupItem=function(j){var n=null,i;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var Q=this._mAdvancedAreaFilter[n];if(Q&&Q.items){for(i=0;i<Q.items.length;i++){if(Q.items[i]&&Q.items[i].filterItem===j){return Q.items[i];}}}}}}return null;};O.prototype._determineByControl=function(j){var n=null,i;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var Q=this._mAdvancedAreaFilter[n];if(Q&&Q.items){for(i=0;i<Q.items.length;i++){if(Q.items[i]&&Q.items[i].control===j){return Q.items[i];}}}}}}return null;};O.prototype._deleteProperties=function(){var n=null,i;if(this._mAdvancedAreaFilter){for(n in this._mAdvancedAreaFilter){if(n){var j=this._mAdvancedAreaFilter[n];if(j&&j.items){if(j.formcontainer){delete j.formcontainer;}if(j.link){delete j.link;}for(i=0;i<j.items.length;i++){if(j.items[i]&&j.items[i].checkbox){delete j.items[i].checkbox;}if(j.items[i]&&j.items[i].formelement){delete j.items[i].formelement;}}}}}}};O.prototype._getDOMElement=function(i){return q('#'+i);};O.prototype._fHandleResize=function(){var n,i,j,Q;var U=16,W,X;var Y,Z;if(this.getAdvancedMode()){if(this._aBasicAreaSelection&&this._aBasicAreaSelection.length===1){if(this._aBasicAreaSelection[0]&&this._aBasicAreaSelection[0].control){W=U*2;if(this._nFirstElementWidth){X=this._nFirstElementWidth;}else{X=U*28;}Z=this._aBasicAreaSelection[0].control;Y=this._getDOMElement(Z.getId());n=Y.width();j=this._getDOMElement(this._oSearchButtonAdvanced.getId()).width();i=this._getDOMElement(this._oBasicAreaLayout.getId()).width();Q=i-j-3/2*U;if((n+j+3/2*U)>i){if(Q<W){Q=W;}}else{if(Q>X){Q=X;}}Y.width(Q);}}}};O.prototype.onAfterRendering=function(){if(this.getAdvancedMode()){if(!this._nFirstElementWidth){if(this._aBasicAreaSelection&&this._aBasicAreaSelection.length===1){if(this._aBasicAreaSelection[0]&&this._aBasicAreaSelection[0].control){this._nFirstElementWidth=this._getDOMElement(this._aBasicAreaSelection[0].control.getId()).width();this._fHandleResize();}}}}else{if(this._oFilterDialog&&this._mAdvancedAreaFilter){this._dialogOpened();}}};O.prototype.destroy=function(){q(window).off('resize.basicsearch');if(this._oVariantManagement){if(this._fInitialiseVariants){this._oVariantManagement.detachInitialise(this._fInitialiseVariants);this._fInitialiseVariants=null;}if(this._fSaveVariant){this._oVariantManagement.detachSave(this._fSaveVariant);this._fSaveVariant=null;}if(this._fAfterSaveVariant){this._oVariantManagement.detachSave(this._fAfterSaveVariant);this._fAfterSaveVariant=null;}}G.prototype.destroy.apply(this,arguments);if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}if(this._oActionSheet){this._oActionSheet.destroy();this._oActionSheet=null;}if(this._oFilterDialog){this._oFilterDialog.destroy();this._oFilterDialog=null;}this._aBasicAreaSelection=null;this._mAdvancedAreaFilter=null;this._oBasicAreaLayout=null;this._oAdvancedAreaForm=null;this._oAdvancedPanel=null;this._oVariantManagement=null;this._oVariant=null;this._fRegisteredFetchData=null;this._fRegisteredApplyData=null;this._fRegisterGetFiltersWithValues=null;this._fRegisteredFilterChangeHandlers=null;this._oSearchButton=null;this._oSearchButtonAdvanced=null;this._oFiltersButton=null;this._oHideShowButton=null;this._oClearButtonOnFB=null;this._oRestoreButtonOnFB=null;this._mChangedFilterItems=null;this._oAddToFilterBarLabel=null;this._oTitle=null;};return O;},true);\n",
	"sap/ui/comp/filterbar/FilterBarRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/layout/GridRenderer'],function(q,G){'use strict';var F={};F.render=function(r,c){G.render.call('',r,c);};return F;},true);\n",
	"sap/ui/comp/filterbar/FilterGroupItem.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','./FilterItem','sap/ui/comp/library','sap/ui/core/TooltipBase'],function(q,L,F,l,T){'use strict';var a=F.extend('sap.ui.comp.filterbar.FilterGroupItem',{metadata:{library:'sap.ui.comp',properties:{groupTitle:{type:'string',group:'Misc',defaultValue:null},groupName:{type:'string',group:'Misc',defaultValue:null},visibleInAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false}}}});a.prototype.init=function(){this.setVisibleInAdvancedArea(false);};a.prototype.setGroupTitle=function(v){this.setProperty('groupTitle',v);this.fireChange({propertyName:'groupTitle'});};a.prototype.setVisibleInAdvancedArea=function(v){this.setVisibleInFilterBar(v);};a.prototype.getVisibleInAdvancedArea=function(){return this.getVisibleInFilterBar();};a.prototype.destroy=function(){F.prototype.destroy.apply(this,arguments);};return a;},true);\n",
	"sap/ui/comp/filterbar/FilterItem.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','sap/ui/comp/library','sap/ui/core/Element','sap/ui/core/TooltipBase'],function(q,L,l,E,T){'use strict';var F=E.extend('sap.ui.comp.filterbar.FilterItem',{metadata:{library:'sap.ui.comp',properties:{label:{type:'string',group:'Misc',defaultValue:null},name:{type:'string',group:'Misc',defaultValue:null},mandatory:{type:'boolean',group:'Misc',defaultValue:false},visible:{type:'boolean',group:'Misc',defaultValue:true},labelTooltip:{type:'string',group:'Misc',defaultValue:null},partOfCurrentVariant:{type:'boolean',group:'Misc',defaultValue:false},visibleInFilterBar:{type:'boolean',group:'Misc',defaultValue:true}},aggregations:{control:{type:'sap.ui.core.Control',multiple:false}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});F.prototype.init=function(){this._oLabel=null;};F.prototype.setVisible=function(i){this.setProperty('visible',i);this.fireChange({propertyName:'visible'});};F.prototype.setVisibleInFilterBar=function(i){this.setProperty('visibleInFilterBar',i);this.fireChange({propertyName:'visibleInFilterBar'});};F.prototype._createLabelControl=function(){var t=this.getLabel();var o=new L({text:t,required:this.getMandatory(),textAlign:'Begin'});return o;};F.prototype.setMandatory=function(v){this.setProperty('mandatory',v);if(this._oLabel){this._oLabel.setRequired(v);}this.fireChange({propertyName:'mandatory'});};F.prototype.setLabel=function(v){this.setProperty('label',v);if(!this._oLabel){this._oLabel=this._createLabelControl();}if(!this.getLabelTooltip()){this.setLabelTooltip(v);}this._oLabel.setText(v);this.fireChange({propertyName:'label'});};F.prototype.setLabelTooltip=function(t){this.setProperty('labelTooltip',t);if(!this._oLabel){this._oLabel=this._createLabelControl();}this._oLabel.setTooltip(t);};F.prototype.getLabelControl=function(){if(!this._oLabel){this._oLabel=this._createLabelControl();}return this._oLabel;};F.prototype.destroy=function(){E.prototype.destroy.apply(this,arguments);this._oLabel=null;};return F;},true);\n",
	"sap/ui/comp/filterbar/VariantConverterFrom.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/smartfilterbar/ControlConfiguration','sap/ui/comp/valuehelpdialog/ValueHelpDialog','sap/m/MultiComboBox','sap/m/DatePicker','sap/m/DateRangeSelection'],function(q,C,V,M,D,a){'use strict';var b=function(){};b.prototype.convert=function(s,f){var c=null;var S;if(s){S=JSON.parse(s);if(f&&f.getFilterBarViewMetadata&&S&&(S.Parameters||S.SelectOptions)){c={};if(S.Parameters){this._addParameters(S.Parameters,f,c);}if(S.SelectOptions){this._addSelectOptions(S.SelectOptions,f,c);}c=JSON.stringify(c);}}return c;};b.prototype._getParameterMetaData=function(n,f){var i,j;var g;var F=f.getFilterBarViewMetadata();if(F){for(i=0;i<F.length;i++){g=F[i];for(j=0;j<g.fields.length;j++){if(n===g.fields[j].fieldName){return g.fields[j];}}}}return null;};b.prototype._addParameters=function(s,f,c){var i;var n,v;var F;for(i=0;i<s.length;i++){v=s[i].PropertyValue;n=s[i].PropertyName;var o=f.determineFilterItemByName(n);if(o){F=this._getParameterMetaData(n,f);if(F){this._addAccordingMetaData(c,F,v);}else{q.sap.log.error(\"neither metadata nor custom information for filter '\"+n+\"'\");}}else{q.sap.log.warning(\"unknown filter '\"+n+\"'\");}}};b.prototype._addSelectOptions=function(s,f,c){var i;var n,r;var F,o;for(i=0;i<s.length;i++){n=s[i].PropertyName;r=s[i].Ranges;var d=f.determineFilterItemByName(n);if(d){F=this._getParameterMetaData(n,f);if(F){o=f.determineControlByFilterItem(d);this._addRangesAccordingMetaData(c,F,r,o);}else{q.sap.log.error(\"neither metadata nor custom information for filter '\"+name+\"'\");}}else{q.sap.log.warning(\"unknown filter '\"+name+\"'\");}}};b.prototype._addRangesAccordingMetaData=function(c,f,r,o,n){var i,I,O;var d=function(s,v){var e=s;if(s==='CP'){e=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains;if(v){var g=v.indexOf('*');var h=v.lastIndexOf('*');if((g===0)&&(h!==(v.length-1))){e=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith;v=v.substring(1,v.length);}else if((g!==0)&&(h===(v.length-1))){e=sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith;v=v.substring(0,v.length-1);}else{v=v.substring(1,v.length-1);}}}return{op:e,v:v};};if(r&&r.length>0){if(f.isCustomFilterField){if(!c._CUSTOM){c._CUSTOM={};}c._CUSTOM[f.fieldName]=r[0].Low;return;}if(f.filterRestriction===C.FILTERTYPE.single){if(!r[0].Low&&o&&(o instanceof D)){c[f.fieldName]=null;}else{c[f.fieldName]=r[0].Low;}}else if(f.filterRestriction===C.FILTERTYPE.interval){if(r[0].Low&&r[0].High){c[f.fieldName]={low:r[0].Low,high:r[0].High};}else if(r[0].Low&&!r[0].High){c[f.fieldName]={low:r[0].Low,high:r[0].Low};}else if(!r[0].Low&&r[0].High){c[f.fieldName]={low:r[0].High,high:r[0].High};}else{if(o&&(o instanceof a)){c[f.fieldName]={low:null,high:null};}else{c[f.fieldName]={low:r[0].Low,high:r[0].High};}}}else if(f.filterRestriction===C.FILTERTYPE.multiple){c[f.fieldName]={ranges:[],items:[],value:null};if(o&&(o instanceof M)){for(i=0;i<r.length;i++){O=d(r[i].Option,r[i].Low);if(O.op===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ){c[f.fieldName].items.push({key:O.v});}}}else{for(i=0;i<r.length;i++){O=d(r[i].Option,r[i].Low);I={'exclude':(r[i].Sign==='E'),'operation':O.op,'keyField':f.fieldName,'value1':O.v,'value2':r[i].High};c[f.fieldName].ranges.push(I);}}}else{c[f.fieldName]={ranges:[],items:[],value:null};for(i=0;i<r.length;i++){O=d(r[i].Option,r[i].Low);I={'exclude':(r[i].Sign==='E'),'operation':O.op,'keyField':f.fieldName,'value1':O.v,'value2':r[i].High};c[f.fieldName].ranges.push(I);}}q.sap.log.warning(\"potential reduced information for filter '\"+f.fieldName+\"'\");}else{q.sap.log.warning(\"no Ranges-section found for filter '\"+f.fieldName+\"'\");}};b.prototype._addAccordingMetaData=function(c,f,v){var r=[{Sign:'I',Low:v,High:v,Option:'EQ'}];this._addRangesAccordingMetaData(c,f,r);};return b;},true);\n",
	"sap/ui/comp/filterbar/VariantConverterTo.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/smartfilterbar/ControlConfiguration','sap/ui/comp/valuehelpdialog/ValueHelpDialog'],function(q,C,V){'use strict';var a=function(){};a.prototype.convert=function(k,f,d,F){var b,i;var j,n=null;var s={SelectionVariantID:k};if(d&&f){j=JSON.parse(d);if(j){b=this._getFields(f);if(b&&b.length>0){for(i=0;i<b.length;i++){this._convertField(s,b[i],j,F);}}if(j._CUSTOM){for(n in j._CUSTOM){if(n){this._addSingleValue(s,n,this._getValue(j._CUSTOM[n]));}}}}}return JSON.stringify(s);};a.prototype._getParameterMetaData=function(n,f){var i,j;var g;var F=f.getFilterBarViewMetadata();if(F){for(i=0;i<F.length;i++){g=F[i];for(j=0;j<g.fields.length;j++){if(n===g.fields[j].fieldName){return g.fields[j];}}}}return null;};a.prototype._convertField=function(s,f,c,F){var o,v;var r;var b;if(c&&f&&s){o=c[f];if(o){b=this._getParameterMetaData(f,F);if(b){if(b.isCustomFilterField){return;}if(b.filterRestriction===C.FILTERTYPE.single){v=(o.value===undefined)?o:o.value;this._addSingleValue(s,f,v);}else if(b.filterRestriction===C.FILTERTYPE.interval){r=this._addRangeEntry(s,f);this._addRangeLowHigh(r,o);}else if(b.filterRestriction===C.FILTERTYPE.multiple){r=this._addRangeEntry(s,f);if(o.items&&o.items.length>0){this._addRangeMultipleSingleValues(r,o.items);}else{this._addRangeSingleValue(r,o.value);}}else{this._convertFieldByValue(s,f,c);}}else{this._convertFieldByValue(s,f,c);}}}};a.prototype._convertFieldByValue=function(s,f,c){var o;var r;if(c&&f&&s){o=c[f];if(o){if((o.ranges!==undefined)&&(o.items!==undefined)&&(o.value!==undefined)){r=this._addRangeEntry(s,f);if(o.ranges&&o.ranges.length>0){this._addRanges(r,o.ranges);}if(o.items&&o.items.length>0){this._addRangeMultipleSingleValues(r,o.items);}if(o.value){this._addRangeSingleValue(r,o.value);}}else if((o.items!==undefined)&&o.items&&(o.items.length>0)){r=this._addRangeEntry(s,f);this._addRangeMultipleSingleValues(r,o.items);}else if((o.low!==undefined)&&o.low&&(o.high!==undefined)&&o.high){r=this._addRangeEntry(s,f);this._addRangeLowHigh(r,o);}else if((o.value!==undefined)&&o.value){this._addSingleValue(s,f,o.value);}else if(o){this._addSingleValue(s,f,o);}}}};a.prototype._addRangeEntry=function(s,f){var o={PropertyName:f,Ranges:[]};if(!s.SelectOptions){s.SelectOptions=[];}s.SelectOptions.push(o);return o.Ranges;};a.prototype._addRanges=function(r,R){var s,o,l,h;for(var i=0;i<R.length;i++){s=R[i].exclude?'E':'I';l=this._getValue(R[i].value1);h=this._getValue(R[i].value2);if(R[i].operation===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains){o='CP';if(l){l='*'+l+'*';}}else if(R[i].operation===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith){o='CP';if(l){l=l+'*';}}else if(R[i].operation===sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith){o='CP';if(l){l='*'+l;}}else{o=R[i].operation;}r.push({Sign:s,Option:o,Low:l,High:h});}};a.prototype._addRangeMultipleSingleValues=function(r,I){for(var i=0;i<I.length;i++){r.push({Sign:'I',Option:'EQ',Low:this._getValue(I[i].key),High:null});}};a.prototype._addRangeSingleValue=function(r,v){r.push({Sign:'I',Option:'EQ',Low:this._getValue(v),High:null});};a.prototype._addRangeLowHigh=function(r,l){r.push({Sign:'I',Option:'BT',Low:this._getValue(l.low),High:this._getValue(l.high)});};a.prototype._addSingleValue=function(s,f,v){if(!s.Parameters){s.Parameters=[];}s.Parameters.push({PropertyName:f,PropertyValue:v});};a.prototype._getFields=function(f){var r=[];if(f){for(var i=0;i<f.length;i++){r.push(f[i].name);}}return r;};a.prototype._getValue=function(v){if(v===null){return null;}if(!v){return v;}return''+v;};return a;},true);\n",
	"sap/ui/comp/library.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/Core','sap/ui/core/library','sap/ui/fl/library'],function(q,C,l,a){'use strict';sap.ui.getCore().initLibrary({name:'sap.ui.comp',version:'1.28.1',dependencies:['sap.ui.core','sap.ui.fl'],types:['sap.ui.comp.smartfield.ControlType','sap.ui.comp.smartfield.DisplayBehaviour','sap.ui.comp.smartfield.JSONType','sap.ui.comp.smarttable.TableType'],interfaces:[],controls:['sap.ui.comp.filterbar.FilterBar','sap.ui.comp.navpopover.NavigationPopover','sap.ui.comp.navpopover.SmartLink','sap.ui.comp.odata.FieldSelector','sap.ui.comp.smartfield.SmartField','sap.ui.comp.smartfield.SmartLabel','sap.ui.comp.smartfilterbar.SmartFilterBar','sap.ui.comp.smartform.Group','sap.ui.comp.smartform.GroupElement','sap.ui.comp.smartform.SmartForm','sap.ui.comp.smartform.flexibility.DialogContent','sap.ui.comp.smartform.flexibility.FieldList','sap.ui.comp.smartform.flexibility.FieldListNode','sap.ui.comp.smartform.flexibility.Input','sap.ui.comp.smarttable.SmartTable','sap.ui.comp.smartvariants.SmartVariantManagement','sap.ui.comp.smartvariants.SmartVariantManagementUi2','sap.ui.comp.transport.TransportDialog','sap.ui.comp.valuehelpdialog.ValueHelpDialog','sap.ui.comp.variants.EditableVariantItem','sap.ui.comp.variants.VariantManagement'],elements:['sap.ui.comp.filterbar.FilterGroupItem','sap.ui.comp.filterbar.FilterItem','sap.ui.comp.navpopover.LinkData','sap.ui.comp.navpopover.SemanticObjectController','sap.ui.comp.smartfield.Configuration','sap.ui.comp.smartfilterbar.ControlConfiguration','sap.ui.comp.smartfilterbar.GroupConfiguration','sap.ui.comp.smartfilterbar.SelectOption','sap.ui.comp.smartform.Layout','sap.ui.comp.smartvariants.PersonalizableInfo','sap.ui.comp.variants.VariantItem']});sap.ui.comp.smartfield.ControlType={auto:'auto',dropDownList:'dropDownList',input:'input',datePicker:'datePicker',checkBox:'checkBox'};sap.ui.comp.smartfield.DisplayBehaviour={auto:'auto',descriptionOnly:'descriptionOnly',descriptionAndId:'descriptionAndId',idAndDescription:'idAndDescription',idOnly:'idOnly'};sap.ui.comp.smartfield.JSONType={String:'String',Date:'Date',Float:'Float',Integer:'Integer',Boolean:'Boolean',DateTime:'DateTime'};sap.ui.comp.smarttable.TableType={Table:'Table',ResponsiveTable:'ResponsiveTable',AnalyticalTable:'AnalyticalTable',TreeTable:'TreeTable'};return sap.ui.comp;},true);\n",
	"sap/ui/comp/navpopover/LinkData.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var L=E.extend('sap.ui.comp.navpopover.LinkData',{metadata:{library:'sap.ui.comp',properties:{text:{type:'string',group:'Misc',defaultValue:null},href:{type:'string',group:'Misc',defaultValue:null}}}});return L;},true);\n",
	"sap/ui/comp/navpopover/NavigationPopover.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/CustomListItem','sap/m/Link','sap/m/MessageBox','sap/m/Popover','sap/ui/comp/library','sap/ui/core/Title','sap/ui/layout/form/SimpleForm'],function(q,C,L,M,P,l,T,S){'use strict';var N=P.extend('sap.ui.comp.navpopover.NavigationPopover',{metadata:{library:'sap.ui.comp',properties:{title:{type:'string',group:'Misc',defaultValue:null},semanticObjectName:{type:'string',group:'Misc',defaultValue:null},semanticAttributes:{type:'object',group:'Misc',defaultValue:null},appStateKey:{type:'string',group:'Misc',defaultValue:null},mainNavigationId:{type:'string',group:'Misc',defaultValue:null}},aggregations:{availableActions:{type:'sap.ui.comp.navpopover.LinkData',multiple:true,singularName:'availableAction'},mainNavigation:{type:'sap.ui.comp.navpopover.LinkData',multiple:false},ownNavigation:{type:'sap.ui.comp.navpopover.LinkData',multiple:false}},associations:{source:{type:'sap.ui.core.Control',multiple:false},extraContent:{type:'sap.ui.core.Control',multiple:false},component:{type:'sap.ui.core.Element',multiple:false}},events:{targetsObtained:{},navigate:{}}}});N.prototype.init=function(){P.prototype.init.call(this);this.addStyleClass('navigationPopover');this.setContentWidth('380px');this.setHorizontalScrolling(false);this.setPlacement('Horizontal');this._oHeaderForm=new S({maxContainerCols:1,visible:true});this._oMainNavigationText=new T();this._oMainNavigationLink=new L();this._oMainNavigationLink.attachPress(q.proxy(this._onLinkPress,this));this._oHeaderForm.addContent(this._oMainNavigationText);this._oHeaderForm.addContent(this._oMainNavigationLink);this._oForm=new S({maxContainerCols:1,visible:false});this._oNavigationList=new sap.m.List({showSeparators:'None'});this._oForm.addContent(new T({text:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_LINKLIST_TEXT')}));this._oForm.addContent(this._oNavigationList);this.addContent(this._oHeaderForm);this.addContent(this._oForm);};N.prototype.addAvailableAction=function(o){this.addAggregation('availableActions',o);};N.prototype._createLinks=function(){var i;var o;var v;var h;var a;var c=this._getComponent();var x=this._getNavigationService();this._oNavigationList.removeAllItems();v=this.getMainNavigationId();if(!v){var s=this._getSourceControl();if(s){v=s.getSemanticObjectValue();}}this._oMainNavigationText.setText(v);var m=this.getMainNavigation();if(m){h=m.getHref();if(h){this._oHeaderForm.removeStyleClass('navpopoversmallheader');this._oMainNavigationLink.setText(m.getText());if(x){h=x.hrefForExternal({target:{shellHash:h}},c);}this._oMainNavigationLink.setHref(h);this._oMainNavigationLink.setVisible(true);}else{this._oHeaderForm.addStyleClass('navpopoversmallheader');this._oMainNavigationLink.setText('');this._oMainNavigationLink.setVisible(false);}}var A=this.getAvailableActions();if(A){for(i=0;i<A.length;i++){o=new L();a=A[i];if(a){o.setText(a.getText());o.attachPress(q.proxy(this._onLinkPress,this));h=a.getHref();if(x){h=x.hrefForExternal({target:{shellHash:h}},c);}o.setHref(h);}this._oNavigationList.addItem(new C({content:o}));}}this._setListVisibility();};N.prototype.insertAvailableAction=function(o,i){this.insertAggregation('availableActions',o,i);};N.prototype.removeAvailableAction=function(o){var i;if(typeof(o)==='number'){i=o;}else{i=this.getAvailableActions().indexOf(o);}if(i>=0){this._oNavigationList.removeItem(i);}var r=this.removeAggregation('availableActions',o);this._setListVisibility();return r;};N.prototype.removeAllAvailableActions=function(){this._oNavigationList.removeAllItems();this.removeAllAggregation('availableActions');this._setListVisibility();};N.prototype._setListVisibility=function(){var a=this.getAvailableActions().length;this._oForm.setVisible(a>0);};N.prototype._onLinkPress=function(e){var s=e.getSource();this.fireNavigate({text:s.getText(),href:s.getHref()});};N.prototype.setSemanticObjectName=function(s){this.setProperty('semanticObjectName',s);this.removeAllAvailableActions();this.setMainNavigation(null);};N.prototype._getNavigationService=function(){return sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');};N.prototype._getUrlService=function(){return sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('URLParsing');};N.prototype.retrieveNavTargets=function(){var s=this.getSemanticObjectName();var m=this.getSemanticAttributes();var a=this.getAppStateKey();this._retrieveNavTargets(s,m,a);};N.prototype._retrieveNavTargets=function(s,m,a){var t=this;this.setMainNavigation(null);this.removeAllAvailableActions();var x=this._getNavigationService();if(!x){q.sap.log.error(\"Service 'CrossApplicationNavigation' could not be obtained\");this.fireTargetsObtained();return;}var I=false;var c=this._getComponent();var p=x.getSemanticObjectLinks(s,m,I,c,a);p.fail(q.proxy(function(){q.sap.log.error(\"'getSemanticObjectLinks' failed\");},this));p.done(q.proxy(function(b){var i,d,e;var u,o;var f;var h=false;if(b&&b.length){u=t._getUrlService();var g=x.hrefForExternal();for(i=0;i<b.length;i++){d=b[i].intent;e=b[i].text;f=new sap.ui.comp.navpopover.LinkData({text:e,href:d});if(d.indexOf(g)===0){this.setOwnNavigation(f);continue;}o=u.parseShellHash(d);if(o.action&&(o.action==='displayFactSheet')&&!h){f.setText(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_FACTSHEET'));t.setMainNavigation(f);h=true;}else{t.addAvailableAction(f);}}}t.fireTargetsObtained();},this));};N.prototype._getComponent=function(){var c=this.getComponent();if(typeof c==='string'){c=sap.ui.getCore().getComponent(c);}return c;};N.prototype.show=function(){var s=this._getSourceControl();if(!s){q.sap.log.error('no source assigned');return;}var m=this.getMainNavigation();var a=this.getAvailableActions();if(!(m&&(m.getHref()))&&!(a&&(a.length>0))){q.sap.log.error('no navigation targets found');M.show(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_DETAILS_NAV_NOT_POSSIBLE'),{icon:M.Icon.ERROR,title:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('POPOVER_MSG_NAV_NOT_POSSIBLE'),styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});return;}this._createLinks();this.openBy(s);};N.prototype._getSourceControl=function(){var s=null;var c=this.getSource();if(c){s=sap.ui.getCore().getControl(c);}return s;};N.prototype.setExtraContent=function(c){var o=this.getExtraContent();if(o&&c&&o===c.getId()){return;}if(o){var O=sap.ui.getCore().getControl(o);this.removeContent(O);}this.setAssociation('extraContent',c);if(c){this.insertContent(c,1);}};return N;},true);\n",
	"sap/ui/comp/navpopover/NavigationPopoverRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/PopoverRenderer'],function(q,P){'use strict';var N=sap.ui.core.Renderer.extend(P);return N;},true);\n",
	"sap/ui/comp/navpopover/SemanticObjectController.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var S=E.extend('sap.ui.comp.navpopover.SemanticObjectController',{metadata:{library:'sap.ui.comp',properties:{ignoredFields:{type:'string',group:'Misc',defaultValue:null},prefetchNavigationTargets:{type:'boolean',group:'Misc',defaultValue:false},fieldSemanticObjectMap:{type:'object',group:'Misc',defaultValue:null},entitySet:{type:'string',group:'Misc',defaultValue:null}},events:{navigationTargetsObtained:{},beforePopoverOpens:{},navigate:{},prefetchDone:{}}}});S.prototype.init=function(){this._proxyOnBeforePopoverOpens=q.proxy(this._onBeforePopoverOpens,this);this._proxyOnTargetsObtained=q.proxy(this._onTargetsObtained,this);this._proxyOnNavigate=q.proxy(this._onNavigate,this);this._aRegisteredControls=[];};S.prototype.registerControl=function(s){if(s.attachBeforePopoverOpens&&!s.hasListeners('beforePopoverOpens')){s.attachBeforePopoverOpens(this._proxyOnBeforePopoverOpens);}if(s.attachNavigationTargetsObtained&&!s.hasListeners('navigationTargetsObtained')){s.attachNavigationTargetsObtained(this._proxyOnTargetsObtained);}if(s.attachInnerNavigate&&!s.hasListeners('innerNavigate')){s.attachInnerNavigate(this._proxyOnNavigate);}this.setIgnoredState(s);this._aRegisteredControls.push(s);};S.prototype.unregisterControl=function(s){if(s.detachBeforePopoverOpens){s.detachBeforePopoverOpens(this._proxyOnBeforePopoverOpens);}if(s.detachNavigationTargetsObtained){s.detachNavigationTargetsObtained(this._proxyOnTargetsObtained);}if(s.detachInnerNavigate){s.detachInnerNavigate(this._proxyOnNavigate);}this._aRegisteredControls.pop(s);};S.prototype._onBeforePopoverOpens=function(e){var p=e.getParameters();if(this.hasListeners('beforePopoverOpens')){this.fireBeforePopoverOpens({semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes,setSemanticAttributes:p.setSemanticAttributes,setAppStateKey:p.setAppStateKey,originalId:p.originalId,open:p.open});}else{p.open();}};S.prototype._onTargetsObtained=function(e){var p=e.getParameters();if(this.hasListeners('navigationTargetsObtained')){var s=e.getSource();this.fireNavigationTargetsObtained({semanticObject:s.getSemanticObject(),semanticAttributes:s.getSemanticAttributes(),actions:p.actions,mainNavigation:p.mainNavigation,ownNavigation:p.ownNavigation,originalId:p.originalId,show:p.show});}else{p.show();}};S.prototype._onNavigate=function(e){var p=e.getParameters();this.fireNavigate({text:p.text,href:p.href,originalId:p.originalId,semanticObject:p.semanticObject,semanticAttributes:p.semanticAttributes});};S.prototype.setIgnoredState=function(s){var i=this._fieldIsIgnored(s.getFieldName())||!this._linkIsAvailable(s.getSemanticObject());s.setIgnoreLinkRendering(i);};S.prototype._fieldIsIgnored=function(f){if(this._aIgnoredSegmanticObjects){return this._aIgnoredSegmanticObjects.indexOf(f)>-1;}return false;};S.prototype._linkIsAvailable=function(s){if(this._oAvailableLinks){if(!this._oAvailableLinks[s]){return false;}}return true;};S.prototype.setIgnoredFields=function(i){if(i){this._aIgnoredSegmanticObjects=i.split(',');}else{this._aIgnoredSegmanticObjects=null;}this.setProperty('ignoredFields',i);this._evaluateEnableState();};S.prototype.setPrefetchNavigationTargets=function(p){this.setProperty('prefetchNavigationTargets',p);if(p){this._prefetchNavigationTargets();}else{this._oAvailableLinks=null;this._evaluateEnableState();}};S.prototype.getFieldSemanticObjectMap=function(){var m=this.getProperty('fieldSemanticObjectMap');if(!m){var e=this.getEntitySet();if(!e){q.sap.log.warning('FieldSemanticObjectMap is not set on SemanticObjectController, retrieval without EntitySet not possible');return null;}var M=this.getModel();q.sap.require('sap.ui.comp.odata.MetadataAnalyser');var o=new sap.ui.comp.odata.MetadataAnalyser(M);m=o.getFieldSemanticObjectMap(e);if(m){this.setProperty('fieldSemanticObjectMap',m,true);}}return m;};S.prototype.getEntitySet=function(){var e=this.getProperty('entitySet');if(!e){var p=this.getParent();while(p){if(p.getEntitySet){e=p.getEntitySet();if(e){this.setProperty('entitySet',e,true);break;}}p=p.getParent();}}return e;};S.prototype._prefetchNavigationTargets=function(){var g=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService;if(!g){return;}this._oAvailableLinks={};var c=g('CrossApplicationNavigation');var u=g('URLParsing');var p=c.getSemanticObjectLinks('');p.fail(q.proxy(function(){this._oAvailableLinks=null;q.sap.log.error(\"'getSemanticObjectLinks' failed\");this._evaluateEnableState();},this));p.done(q.proxy(function(L){var i,a;a=L.length;for(i=0;i<a;i++){var I=L[i].intent;var s=u.parseShellHash(I);if(s&&s.semanticObject){this._addActionToSemanticObject(s.semanticObject,s.action);}}this._evaluateEnableState();this.firePrefetchDone({semanticObjects:this._oAvailableLinks});},this));};S.prototype._addActionToSemanticObject=function(s,a){if(!this._oAvailableLinks[s]){this._oAvailableLinks[s]=[];}this._oAvailableLinks[s].push(a);};S.prototype._evaluateEnableState=function(){var i;var L=this._aRegisteredControls.length;for(i=0;i<L;i++){this.setIgnoredState(this._aRegisteredControls[i]);}};return S;},true);\n",
	"sap/ui/comp/navpopover/SmartLink.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Link','sap/ui/comp/library','./NavigationPopover'],function(q,L,l,N){'use strict';var S=L.extend('sap.ui.comp.navpopover.SmartLink',{metadata:{library:'sap.ui.comp',properties:{semanticObject:{type:'string',group:'Misc',defaultValue:null},semanticObjectController:{type:'any',group:'Misc',defaultValue:null},fieldName:{type:'string',group:'Misc',defaultValue:null},semanticObjectLabel:{type:'string',group:'Misc',defaultValue:null},createControlCallback:{type:'object',group:'Misc',defaultValue:null},mapFieldToSemanticObject:{type:'boolean',group:'Misc',defaultValue:true},ignoreLinkRendering:{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{innerControl:{type:'sap.ui.core.Control',multiple:false}},events:{beforePopoverOpens:{},navigationTargetsObtained:{},innerNavigate:{}}}});S.prototype.init=function(){this.attachPress(this._linkPressed);this.addStyleClass('sapUiCompSmartLink');this._oSemanticAttributes=null;};S.prototype._linkPressed=function(e){if(this._processingLinkPressed){return;}if(this.getIgnoreLinkRendering()){return;}this._processingLinkPressed=true;var a;this._calculateSemanticAttributes();var t=this;var o=function(){t._createPopover();if(t._oSemanticAttributes){t._oPopover.setSemanticAttributes(t._oSemanticAttributes);}if(a){t._oPopover.setAppStateKey(a);}t._oPopover.retrieveNavTargets();};if(this.hasListeners('beforePopoverOpens')){this.fireBeforePopoverOpens({semanticObject:this.getSemanticObject(),semanticAttributes:t._oSemanticAttributes,setSemanticAttributes:function(m){t._oSemanticAttributes=m;},setAppStateKey:function(k){a=k;},originalId:this.getId(),open:o});}else{o();}};S.prototype._onTargetsObtainedOpenDialog=function(){var t=this;if(!this._oPopover.getMainNavigation()){this._oPopover.setMainNavigation(new sap.ui.comp.navpopover.LinkData({text:this.getText()}));}this.fireNavigationTargetsObtained({actions:this._oPopover.getAvailableActions(),mainNavigation:this._oPopover.getMainNavigation(),ownNavigation:this._oPopover.getOwnNavigation(),semanticObject:this.getSemanticObject(),semanticAttributes:this.getSemanticAttributes(),originalId:this.getId(),show:function(m,M,a,e){if(m!=null&&typeof m==='string'){t._oPopover.setMainNavigationId(m);}else{e=a;a=M;M=m;}if(M){t._oPopover.setMainNavigation(M);}if(a){t._oPopover.removeAllAvailableActions();if(a&&a.length){var i,b=a.length;for(i=0;i<b;i++){t._oPopover.addAvailableAction(a[i]);}}}if(e){t._oPopover.setExtraContent(e);}t._oPopover.show();t._processingLinkPressed=false;}});if(!this.hasListeners('navigationTargetsObtained')){this._oPopover.show();this._processingLinkPressed=false;}};S.prototype._onInnerNavigate=function(e){var p=e.getParameters();this.fireInnerNavigate({text:p.text,href:p.href,originalId:this.getId(),semanticObject:this.getSemanticObject(),semanticAttributes:this.getSemanticAttributes()});};S.prototype._createPopover=function(){if(!this._oPopover){var c=this._getComponent();this._oPopover=new N({title:this.getSemanticObjectLabel(),semanticObjectName:this.getSemanticObject(),targetsObtained:q.proxy(this._onTargetsObtainedOpenDialog,this),navigate:q.proxy(this._onInnerNavigate,this),component:c});this._oPopover.setSource(this);}};S.prototype._getComponent=function(){var p=this.getParent();while(p){if(p instanceof sap.ui.core.Component){return p;}p=p.getParent();}return null;};S.prototype._calculateSemanticAttributes=function(){var r=null;var c=this.getBindingContext();if(c){r={};var s=c.getObject(c.getPath());var k,v;var t=this;var m;if(this.getMapFieldToSemanticObject()){m=function(k){return t._mapFieldToSemanticObject(k);};}else{var a=this.getSemanticObject();m=function(k){var f=t._mapFieldToSemanticObject(k);if(f===a){return k;}return f;};}for(k in s){if(k!=='__metadata'){v=s[k];if(v){k=m(k);r[k]=v;}}}}this._oSemanticAttributes=r;};S.prototype.getSemanticAttributes=function(){if(this._oSemanticAttributes===null){this._calculateSemanticAttributes();}return this._oSemanticAttributes;};S.prototype._mapFieldToSemanticObject=function(f){var s=this.getSemanticObjectController();if(s){var m=s.getFieldSemanticObjectMap();if(m){var o=m[f];if(o){return o;}}}return f;};S.prototype.setFieldName=function(f){this.setProperty('fieldName',f);var s=this.getSemanticObjectController();if(s){s.setIgnoredState(this);}};S.prototype.setSemanticObjectController=function(c){var o=this.getProperty('semanticObjectController');if(o){o.unregisterControl(this);}this.setProperty('semanticObjectController',c,true);if(c){c.registerControl(this);}};S.prototype.getSemanticObjectController=function(){var c=this.getProperty('semanticObjectController');if(!c){var p=this.getParent();while(p){if(p.getSemanticObjectController){c=p.getSemanticObjectController();if(c){this.setSemanticObjectController(c);break;}}p=p.getParent();}}return c;};S.prototype.getSemanticObjectValue=function(){var s=this.getSemanticAttributes();if(s){var a=this.getSemanticObject();return s[a];}return null;};S.prototype.setText=function(t){if(this._isRenderingInnerControl()){this.setProperty('text',t,true);}else{L.prototype.setText.call(this,t);}};S.prototype._isRenderingInnerControl=function(){return this.getIgnoreLinkRendering()&&this._getInnerControl()!=null;};S.prototype._getInnerControl=function(){var i=this.getAggregation('innerControl');if(!i){var c=this.getCreateControlCallback();if(c){i=c();this.setAggregation('innerControl',i,true);}}return i;};S.prototype.getInnerControlValue=function(){var i=this._getInnerControl();if(i&&i.getText){return i.getText();}if(i&&i.getValue){return i.getValue();}return null;};S.prototype.onBeforeRendering=function(){if(this.getIgnoreLinkRendering()&&this._getInnerControl()==null){this.setEnabled(false);}else{this.setEnabled(true);}this.getSemanticObjectController();};S.prototype.exit=function(){this.setSemanticObjectController(null);};return S;},true);\n",
	"sap/ui/comp/navpopover/SmartLinkRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/LinkRenderer'],function(q,L){'use strict';var S={};S.render=function(r,c){if(c.getIgnoreLinkRendering()){var R=c._getInnerControl();r.write('<div ');r.writeControlData(c);r.writeClasses();r.write('>');r.renderControl(R);r.write('</div>');}else{L.render.call('',r,c);}};return S;},true);\n",
	"sap/ui/comp/odata/FieldSelector.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','./FieldSelectorController'],function(q,l,C,F){'use strict';var a=C.extend('sap.ui.comp.odata.FieldSelector',{metadata:{library:'sap.ui.comp',properties:{showSearchBar:{type:'boolean',group:'Misc',defaultValue:true}},aggregations:{content:{type:'sap.ui.core.Control',multiple:false}},events:{fieldSelectionChanged:{}}}});a.prototype.init=function(){q.sap.require('sap.m.HBox');q.sap.require('sap.m.VBox');q.sap.require('sap.m.FlexItemData');q.sap.require('sap.m.FlexDirection');q.sap.require('sap.m.FlexAlignSelf');q.sap.require('sap.m.FlexAlignItems');q.sap.require('sap.ui.core.ResizeHandler');q.sap.require('sap.ui.comp.odata.FieldSelectorModelConverter');q.sap.require('sap.m.Label');q.sap.require('sap.ui.fl.fieldExt.Access');this._fieldNameText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_NAME');this._fieldTypeText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_TYPE');this._fieldLabelText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_LABEL');this._entityTypeText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_FIELD_SEL_HEADER');this._createNewFieldText=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('ODATA_CREATE_NEW_FIELD');this._oFieldController=new F();this._sSelectedKey=undefined;this._oTable=undefined;this._oSearchField=undefined;this._oConverter=undefined;this._oCreateButton=undefined;this._bDisplayFieldExtButton=undefined;this._oCurrentFieldExtInfo=undefined;this._oScrollView=new sap.m.ScrollContainer();this._oTable=new sap.m.Table();this._oHeaderLayout=undefined;var s=sap.ui.getCore().byId('smartFormPersDialog');if(s){this._oResizeDialogHandlerId=sap.ui.core.ResizeHandler.register(s,q.proxy(this._handleResizeDialog,this));}if(this._oScrollView){this._oResizeScrollViewHandlerId=sap.ui.core.ResizeHandler.register(this._oScrollView,q.proxy(this._handleResizeTable,this));}};a.prototype._handleResizeDialog=function(){if(this._oScrollView){var h=q('#smartFormPersDialog-cont').height();var b=q('#smartFormPersDialogFieldSelectorHeader').height();this._oScrollView.setHeight(h-b+'px');}};a.prototype._handleResizeTable=function(){if(this._oScrollView){var s=this._oScrollView.getId();var w=q('#'+s+'-scroll').innerWidth();this._oTable.setWidth(w+'px');}};a.prototype.setModel=function(m,e,s,i){this._bDisplayFieldExtButton=s;if(!m){q.sap.log.error('oModel has to be set otherwise nothing will be displayed');}if(!e){q.sap.log.error('sEntityTypes has to be set otherwise nothing will be displayed');}this._oFieldController.init(m,e,i);this._constructLayout();this._updateCreateButtonState();};a.prototype.getSelectedField=function(){var r={entityType:this._sSelectedKey};var s=this._oTable.getSelectedItem();if(s){r.field=s.getCells()[0].getText();r.name=s.getCells()[1].getText();r.entitySet=this._oFieldController.getMetaDataAnalyzer().getEntitySetNameFromEntityTypeName(r.entityType);}return r;};a.prototype._constructLayout=function(){var t=this;var L=new sap.m.VBox({direction:sap.m.FlexDirection.Column});this._oHeaderLayout=new sap.m.HBox('smartFormPersDialogFieldSelectorHeader',{direction:sap.m.FlexDirection.Row});this._oHeaderLayout.addStyleClass('sapUiCompFieldSelectorHeader');this._oHeaderLayoutSearch=new sap.m.HBox({direction:sap.m.FlexDirection.Row});this._oHeaderLayoutSearch.addStyleClass('sapUiCompFieldSelectorHeaderSearch');this._oResizeHeaderHandlerId=sap.ui.core.ResizeHandler.register(this._oHeaderLayout,q.proxy(this._handleResizeDialog,this));var e=new sap.m.HBox({direction:sap.m.FlexDirection.Row,alignItems:sap.m.FlexAlignItems.Start,layoutData:new sap.m.FlexItemData({growFactor:2})});e.addStyleClass('sapUiCompFieldSelectorHeaderEntitySelection');var h=new sap.m.Label({text:this._entityTypeText,layoutData:new sap.m.FlexItemData({order:1,growFactor:1})});var d=this._getEntityTypesRow();d.setLayoutData(new sap.m.FlexItemData({order:2,growFactor:1}));d.addStyleClass('sapUiCompFieldSelectorComboBox');h.setLabelFor(d);h.setVisible(d.getVisible());e.addItem(h);e.addItem(d);this._oHeaderLayout.addItem(e);var s=this._getSearchRow();s.setLayoutData(new sap.m.FlexItemData({growFactor:1}));s.addStyleClass('sapUiCompFieldSelectorHeader');this._oHeaderLayoutSearch.addItem(s);this._oCreateButton=new sap.m.Button({text:this._createNewFieldText,press:function(E){if(t._oCurrentFieldExtInfo){var c=sap.ushell&&sap.ushell.Container&&sap.ushell.Container.getService('CrossApplicationNavigation');var H=(c&&c.hrefForExternal({target:{semanticObject:'CustomField',action:'develop'},params:{businessContexts:t._oCurrentFieldExtInfo.BusinessContexts,serviceName:t._oCurrentFieldExtInfo.ServiceName,serviceVersion:t._oCurrentFieldExtInfo.ServiceVersion}}));window.open(H,'_blank');}}});this._oCreateButton.addStyleClass('sapUiCompFieldSelectorCreateButton');this._oHeaderLayout.addItem(this._oCreateButton);L.addItem(this._oHeaderLayout);L.addItem(this._oHeaderLayoutSearch);L.addItem(this._getFieldsRow());this.setContent(L);};a.prototype._getEntityTypesRow=function(){var t=this;var d=new sap.m.ComboBox({selectionChange:function(E){t._oSearchField.setValue('');t._sSelectedKey=E.mParameters.selectedItem.getKey();t._updateTableData();t._updateCreateButtonState();},layoutData:new sap.m.FlexItemData({growFactor:1})});var e=this._oFieldController.getEntityTypes();for(var i=0;i<e.length;i++){d.addItem(new sap.ui.core.Item({text:e[i].label,key:e[i].key}));}if(e.length>0){this._sSelectedKey=e[0].key;d.setSelectedKey(this._sSelectedKey);}if(e.length===1){d.setVisible(false);}return d;};a.prototype._getSearchRow=function(){var L=0;var t=this;var v;this._oSearchField=new sap.m.SearchField({visible:this.getShowSearchBar(),liveChange:function(e){v=e.getSource().getValue();var d=(v?300:0);clearTimeout(L);if(d){L=setTimeout(function(){t._executeSearch(v);},d);}else{t._executeSearch(v);}},search:function(e){v=e.getSource().getValue();t._executeSearch(v);},layoutData:new sap.m.FlexItemData({growFactor:2})});return this._oSearchField;};a.prototype._executeSearch=function(v){var f=[];var o=new sap.ui.model.Filter('fieldLabel',sap.ui.model.FilterOperator.Contains,v);var Q=new sap.ui.model.Filter('quickInfo',sap.ui.model.FilterOperator.Contains,v);var b=new sap.ui.model.Filter([o,Q],false);f.push(b);var i=this._oTable.getBinding('items');i.filter(f,'Application');};a.prototype._getFieldsRow=function(){this._oScrollView.setVertical(true);this._oScrollView.addStyleClass('sapUiCompFieldSelectorScrollContainer');var c=[new sap.m.Column({header:new sap.m.Label({text:this._fieldLabelText})}),new sap.m.Column({header:new sap.m.Label({text:this._fieldNameText})})];this._oTable=new sap.m.Table({mode:'SingleSelectMaster',columns:c,selectionChange:q.proxy(function(e){var s=this.getSelectedField();this.fireFieldSelectionChanged(s);},this)});this._oTable.setFixedLayout(false);this._updateTableData();this._oScrollView.addContent(this._oTable);this._handleResizeDialog();return this._oScrollView;};a.prototype._updateTableData=function(){var m=new sap.ui.model.json.JSONModel();m.setData({modelData:this._oFieldController.getFields()});var t=new sap.m.ColumnListItem({cells:[new sap.m.Text({text:'{fieldLabel}',tooltip:'{quickInfo}',wrapping:false}),new sap.m.Text({text:'{name}',tooltip:'{name}',wrapping:false})]});this._oTable.setModel(m);this._oTable.getModel().setSizeLimit(this._oFieldController.getMaxEntitySetSize()+5);this._oTable.bindItems('/modelData/'+this._sSelectedKey,t);};a.prototype._updateCreateButtonState=function(){if(!this._bDisplayFieldExtButton){this._oCreateButton.setVisible(false);}else{var t=this;var m=this._oFieldController.getMetaDataAnalyzer();t._oCreateButton.setEnabled(false);try{var p=sap.ui.fl.fieldExt.Access.getBusinessContexts(m.oModel.sServiceUrl,this._sSelectedKey);p.done(function(r){if(r){if(r.BusinessContexts){if(r.BusinessContexts.length>0){t._oCurrentFieldExtInfo=r;t._oCreateButton.setEnabled(true);}}}});p.fail(function(e){t._oCreateButton.setEnabled(false);if(e){if(q.isArray(e.errorMessages)){for(var i=0;i<e.errorMessages.length;i++){q.sap.log.error(e.errorMessages[i].text);}}}});}catch(e){t._oCreateButton.setEnabled(false);q.sap.log.error('exception occured in sap.ui.fl.fieldExt.Access.getBusinessContexts');}}};a.prototype.exit=function(){if(this._oResizeDialogHandlerId){sap.ui.core.ResizeHandler.deregister(this._oResizeDialogHandlerId);}if(this._oResizeHeaderHandlerId){sap.ui.core.ResizeHandler.deregister(this._oResizeHeaderHandlerId);}if(this._oResizeScrollViewHandlerId){sap.ui.core.ResizeHandler.deregister(this._oResizeScrollViewHandlerId);}this.destroyAggregation('content');this._oFieldController.destroy();this._sSelectedKey=null;this._oTable=null;this._oScrollView=null;this._oSearchField=null;this._oHeaderLayout=null;if(this._oConverter&&this._oConverter.destroy){this._oConverter.destroy();}this._oConverter=null;if(this._oCreateButton){if(this._oCreateButton.destroy){this._oCreateButton.destroy();}}this._oCreateButton=null;this._oCurrentFieldExtInfo=null;};return a;},true);\n",
	"sap/ui/comp/odata/FieldSelectorController.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./FieldSelectorModelConverter'],function(q,M){'use strict';var F=function(){this._oModelConverter=null;this._oFields={};};F.prototype.init=function(o,e,i){if(!o){q.sap.log.error('oModel has to be set otherwise nothing will be displayed');}if(!e){q.sap.log.error('sEntityTypes has to be set otherwise nothing will be displayed');}this._oModelConverter=new M(o);var c=this._oModelConverter.getConvertedModel(e,i);this._sortFields(c);};F.prototype._sortFields=function(c){var t=this;q.each(c,function(k,v){t._oFields[k]=v.sort(function(a,b){if(a.fieldLabel>b.fieldLabel){return 1;}if(a.fieldLabel<b.fieldLabel){return-1;}return 0;});});};F.prototype.getFields=function(){return this._oFields;};F.prototype.getEntityTypes=function(){return this._oModelConverter.getEntityTypes();};F.prototype.getMetaDataAnalyzer=function(){return this._oModelConverter.getMetaDataAnalyzer();};F.prototype.getMaxEntitySetSize=function(){var m=0;if(this._oFields){q.each(this._oFields,function(k,v){if(v&&v.length){if(v.length>m){m=v.length;}}});}return m;};F.prototype.destroy=function(){if(this._oModelConverter){this._oModelConverter.destroy();}this._oModelConverter=null;this._oFields=null;};return F;},true);\n",
	"sap/ui/comp/odata/FieldSelectorModelConverter.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./MetadataAnalyser'],function(q,M){'use strict';var F=function(d){this._oMetadataAnalyzer=new M(d);this._aEntityTypes=[];};F.prototype.getMetaDataAnalyzer=function(){return this._oMetadataAnalyzer;};F.prototype.getConvertedModel=function(E,i){var c={};this._aEntityTypes=this._getEntityTypes(E);for(var e=0;e<this._aEntityTypes.length;e++){var f=this._oMetadataAnalyzer.getFieldsByEntityTypeName(this._aEntityTypes[e].key);if(f){c[this._aEntityTypes[e].key]=this._updateAndFilterFields(f,i);}}return c;};F.prototype.getEntityTypes=function(){return this._aEntityTypes;};F.prototype._updateAndFilterFields=function(a,i){var v=[];for(var f=0;f<a.length;f++){var c=a[f];if(c.visible===false){continue;}var I=this._isFieldOnIgnoreList(c,i);var b=this._isFieldBlacklisted(c);if(!I&&!b){v.push(c);}}return v;};F.prototype._isFieldOnIgnoreList=function(c,i){if(i){var n=this._aEntityTypes.length;var Q=c.entityName+'.'+c.name;if(n===1){if(i.indexOf(c.name)!==-1||i.indexOf(Q)!==-1){return true;}}else if(i.indexOf(Q)!==-1){return true;}}return false;};F.prototype._isFieldBlacklisted=function(c){if(c){if(c.name.toLowerCase().indexOf('uxfc')===0){return true;}else if(c.type.toLowerCase()==='edm.time'){return true;}}return false;};F.prototype._getEntityTypes=function(E,a){var b=[];var l;var c;if(!this._oMetadataAnalyzer||!this._oMetadataAnalyzer._oSchemaDefinition){return[];}var A=this._oMetadataAnalyzer._oSchemaDefinition.entityType;if(!E){c=[];for(var t=0;t<A.length;t++){c.push(A[t].name);}}if(!c){c=this._convertEntityTypesToArray(E);}for(var e=0;e<c.length;e++){l=this._oMetadataAnalyzer.getEntityLabelByEntityTypeName(c[e]);b.push({key:c[e],label:l||c[e]});}return b;};F.prototype._convertEntityTypesToArray=function(e){if(typeof(e)==='string'){var r=e.replace(/ /g,'');return r.split(',');}if(q.isArray(e)){return e;}return undefined;};F.prototype.destroy=function(){if(this._oMetadataAnalyzer&&this._oMetadataAnalyzer.destroy){this._oMetadataAnalyzer.destroy();}this._oMetadataAnalyzer=null;this._aEntityTypes=null;};return F;},true);\n",
	"sap/ui/comp/odata/FieldSelectorRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var F={};F.render=function(r,c){r.write('<span');r.writeControlData(c);r.writeClasses();r.write('>');var C=c.getContent();r.renderControl(C);r.write('</span>');};return F;},true);\n",
	"sap/ui/comp/odata/MetadataAnalyser.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/odata/ODataModel'],function(q,O){'use strict';var M=function(r){if(typeof r==='object'){this.oModel=r;}else{this._sResourceRootUri=r;}this._oMetadata=null;if(!this.oModel&&this._sResourceRootUri){this.oModel=new O(this._sResourceRootUri);}if(this.oModel){this._oMetadata=this.oModel.getServiceMetadata();}if(this._oMetadata&&this._oMetadata.dataServices){this._oSchemaDefinition=this._oMetadata.dataServices.schema[0];}this.util={searchForKeyValue:M.searchForKeyValue,searchForAndGetAllKeyValue:M.searchForAndGetAllKeyValue,extractMatchingValue:M.extractMatchingValue};};M.prototype.getNamespace=function(){if(this._oSchemaDefinition){return this._oSchemaDefinition.namespace;}};M.prototype.getEntityContainerAttribute=function(a){var A=null,r;if(this._oSchemaDefinition&&this._oSchemaDefinition.entityContainer[0]&&this._oSchemaDefinition.entityContainer[0].extensions){r=this.util.searchForKeyValue(this._oSchemaDefinition.entityContainer[0].extensions,'name',a);if(r){A=r.value;}}return A;};M.prototype.getEntityLabelByEntityTypeName=function(e){var E=this._getEntityDefinition(e);if(E){var r=this.util.searchForKeyValue(E.extensions,'name','label');if(r){return r.value;}}return'';};M.prototype._getEntityDefinition=function(e){var E=null;if(e){e=this.removeNamespace(e);E=this.util.searchForKeyValue(this._oSchemaDefinition.entityType,'name',e);}return E;};M.prototype.removeNamespace=function(s){var n,r;n=this.getNamespace();if(s&&(s.indexOf(n+'.')===0)){r=s.substring(n.length+1);}else{r=s;}return r;};M.prototype.getEntityTypeNameFromEntitySetName=function(e){var E=null,s=null;if(this._oSchemaDefinition&&this._oSchemaDefinition.entityContainer&&this._oSchemaDefinition.entityContainer[0]&&this._oSchemaDefinition.entityContainer[0].entitySet){E=this.util.searchForKeyValue(this._oSchemaDefinition.entityContainer[0].entitySet,'name',e);if(E){s=E.entityType;}}return s;};M.prototype.getEntitySetNameFromEntityTypeName=function(e){var E,o;if(this._oSchemaDefinition&&this._oSchemaDefinition.entityType){E=this.util.searchForKeyValue(this._oSchemaDefinition.entityType,'name',e);if(E){o=this.util.searchForKeyValue(this._oSchemaDefinition.entityContainer[0].entitySet,'entityType',E.entityType);if(o){return o.name;}}}return null;};M.prototype._getEntitySetSemantics=function(e){var E=null,r,s=null;if(this._oSchemaDefinition&&this._oSchemaDefinition.entityContainer&&this._oSchemaDefinition.entityContainer[0]&&this._oSchemaDefinition.entityContainer[0].entitySet){E=this.util.searchForKeyValue(this._oSchemaDefinition.entityContainer[0].entitySet,'name',e);if(E){r=this.util.searchForKeyValue(E.extensions,'name','semantics');if(r){s=r.value;}}}return s;};M.prototype.getKeysByEntitySetName=function(e){var k=null,E=null;if(!this._oMetadata){return undefined;}E=this.getEntityTypeNameFromEntitySetName(e);if(E){k=this.getKeysByEntityTypeName(E);}return k;};M.prototype.getKeysByEntityTypeName=function(e){var k=null,p=null,l=0,E=null;if(!this._oMetadata){return undefined;}E=this._getEntityDefinition(e);if(E){if(E.key){p=E.key.propertyRef;if(p){l=p.length;k=[];while(l--){k.push(p[l].name);}k=k.reverse();}}}return k;};M.prototype.getFieldsByEntitySetName=function(e){var f=null,E=null;if(!this._oMetadata){return undefined;}E=this.getEntityTypeNameFromEntitySetName(e);if(E){f=this.getFieldsByEntityTypeName(E);}return f;};M.prototype.getFieldsByEntityTypeName=function(e){var E;if(!this._oMetadata){return undefined;}E=this._getEntityDefinition(e);return this._getFieldsByEntityDefinition(E);};M.prototype.getFieldSemanticObjectMap=function(e){var m={};var o=this.getFieldsByEntitySetName(e);var i,l=o.length;for(i=0;i<l;i++){var f=o[i];var a=this.getSemanticObjectAnnotation(f.fullName);if(a&&a.semanticObject){m[f.name]=a.semanticObject;}}return m;};M.prototype._getFieldsByEntityDefinition=function(e){var f=null,l=0,p,r,R;if(e){f=e.property;}if(f){l=f.length;while(l--){p=f[l];r=this.util.extractMatchingValue(p.extensions,'name',['label','quickinfo','display-format','aggregation-role','unit','semantics','sortable','filterable','required-in-filter','filter-restriction','visible']);if(r){R=r['label'];if(R){p.fieldLabel=R.value;}R=r['quickinfo'];if(R){p.quickInfo=R.value;}R=r['display-format'];if(R){p.displayFormat=R.value;}R=r['aggregation-role'];if(R){p.aggregationRole=R.value;}R=r['unit'];if(R){p.unit=R.value;}R=r['semantics'];if(R){p.semantics=R.value;}R=r['filter-restriction'];if(R){p.filterRestriction=R.value;}R=r['sortable'];p.sortable=R?R.value!=='false':true;R=r['filterable'];p.filterable=R?R.value!=='false':true;R=r['required-in-filter'];p.requiredField=R?R.value==='true':false;R=r['visible'];p.visible=R?R.value!=='false':true;p.entityName=e.name;p.fullName=this._getFullyQualifiedNameForField(p.name,e.name);}}}return f;};M.prototype.getAllFilterableFieldsByEntitySetName=function(e){var f=[],E=null;if(!this._oMetadata){return undefined;}E=this.getEntityTypeNameFromEntitySetName(e);if(E){f=this.getAllFilterableFieldsByEntityTypeName(E);}return f;};M.prototype.getAllFilterableFieldNamesByEntityTypeName=function(e){var g,i,a,j,f,r,G;r=[];g=this.getAllFilterableFieldsByEntityTypeName(e);if(g&&g.length){a=g.length;for(i=0;i<a;i++){G=g[i];if(G.fields&&G.fields.length){f=G.fields.length;for(j=0;j<f;j++){r.push(G.fields[j].name);}}}}return r;};M.prototype.getAllFilterableFieldsByEntityTypeName=function(e){var f=[],E=null,a=null,l=0,s=null;if(!this._oMetadata){return undefined;}E=this._getEntityDefinition(e);if(E){f.push(this._getFilterableFieldsFromEntityDefinition(E));a=this._getFilterableAssociations(E);l=a.length;while(l--){s=a[l];E=this._getEntityDefinition(s);f.push(this._getFilterableFieldsFromEntityDefinition(E));}}return f;};M.prototype._getFilterableFieldsFromEntityDefinition=function(e){var f={},F=[],p=null,P=null,i,l,o;if(!this._oMetadata||!e){return undefined;}o=this.util.searchForKeyValue(e.extensions,'name','label');if(o){f.groupLabel=o.value;}f.groupName=e.name;p=this._getFieldsByEntityDefinition(e);l=p.length;for(i=0;i<l;i++){P=p[i];if(P.filterable){F.push(P);}}f.fields=F;return f;};M.prototype._getFullyQualifiedNameForField=function(f,e){var n,r;n=this.getNamespace();if(n){r=n+'.'+e+'/'+f;}else{r=e+'/'+f;}return r;};M.prototype.getFieldNameByFullyQualifiedFieldName=function(f){var r,n;r=this.removeNamespace(f);n=r.indexOf('/');r=r.substring(n+1);return r;};M.prototype._getFilterableAssociations=function(e){var n,f=[],r=null,N=null,o=null;var l=0,a=null,t=null;if(!this._oMetadata||!e){return undefined;}n=this.getNamespace();N=e.navigationProperty;if(N&&N.length){l=N.length;while(l--){o=N[l];r=o.relationship;if(r.indexOf(n+'.')===0){r=r.substring(n.length+1);}a=this.util.searchForKeyValue(this._oSchemaDefinition.association,'name',r);if(!a){continue;}t=this.util.searchForKeyValue(a.end,'role',o.toRole);if(!t){continue;}if(t.multiplicity==='1'||t.multiplicity==='0..1'){f.push(t.type);}}}return f;};M.prototype.getValueListAnnotation=function(p){var a={additionalAnnotations:[]},A,o,r,l=0,i=0,P=null;if(this._oSchemaDefinition&&this._oSchemaDefinition.annotations){A=this.util.searchForAndGetAllKeyValue(this._oSchemaDefinition.annotations,'target',p);P=this.getFieldNameByFullyQualifiedFieldName(p);if(A){l=A.length;for(i=0;i<l;i++){o=A[i];if(o&&o.annotation){r=this.util.searchForKeyValue(o.annotation,'term','com.sap.vocabularies.Common.v1.ValueList');if(r){this._enrichValueHelpAnnotation(r,P);if(!o.qualifier&&!a.primaryValueListAnnotation){a.primaryValueListAnnotation=r;}else{r.qualifier=o.qualifier;a.additionalAnnotations.push(r);}}}}}}return a;};M.prototype.getSemanticObjectAnnotation=function(p){var a,A,r,l=0,i=0,R;if(this._oSchemaDefinition&&this._oSchemaDefinition.annotations){a=this.util.searchForAndGetAllKeyValue(this._oSchemaDefinition.annotations,'target',p);if(a){l=a.length;for(i=0;i<l;i++){A=a[i];if(A&&A.annotation){r=this.util.searchForKeyValue(A.annotation,'term','com.sap.vocabularies.Common.v1.SemanticObject');if(r){R=this.util.searchForKeyValue(r.extensions,'name','String');if(R){r.semanticObject=R.value;break;}}}}}}return r;};M.prototype._enrichValueHelpAnnotation=function(a,p){var r,R,k=[],K,I={},o={},b,c,f=[],v=[],d,P,V,l,e,L=0,i=0,F=0;if(a&&a.record){r=this.util.extractMatchingValue(a.record.propertyValue,'property',['CollectionPath','Label','SearchSupported','Parameters']);if(r){R=r['SearchSupported'];a.isSearchSupported=R?R.bool==='true':false;R=r['CollectionPath'];if(R){a.valueListEntitySetName=R.string;a.valueListEntityName=this.removeNamespace(this.getEntityTypeNameFromEntitySetName(a.valueListEntitySetName));a.semantics=this._getEntitySetSemantics(a.valueListEntitySetName);k=this.getKeysByEntityTypeName(a.valueListEntityName);f=this.getFieldsByEntityTypeName(a.valueListEntityName);}R=r['Label'];if(R){a.valueListTitle=R.string;}R=r['Parameters'];if(f&&R&&R.collection){d=R.collection.record;L=d.length;}for(i=0;i<L;i++){e=d[i];V=undefined;l=undefined;r=this.util.extractMatchingValue(e.propertyValue,'property',['ValueListProperty','LocalDataProperty']);P=r['ValueListProperty'];if(P){V=P.string;}P=r['LocalDataProperty'];if(P){l=P.propertyPath;}b=false;if(e.type==='com.sap.vocabularies.Common.v1.ValueListParameterInOut'||e.type==='com.sap.vocabularies.Common.v1.ValueListParameterIn'){b=true;}c=false;if(e.type==='com.sap.vocabularies.Common.v1.ValueListParameterInOut'||e.type==='com.sap.vocabularies.Common.v1.ValueListParameterOut'){c=true;}if(b){I[l]=V;}if(c){o[l]=V;}if(c||e.type==='com.sap.vocabularies.Common.v1.ValueListParameterDisplayOnly'){F=f.length;while(F--){if(f[F].name===V){v.push(f[F]);break;}}}if(!K&&c&&l===p){K=V;}}}a.inParams=I;a.outParams=o;a.fields=f;a.valueListFields=v;a.keys=k;a.keyField=K;a.descriptionField=this.getDescriptionFieldName(a.keyField,a.valueListEntitySetName);}};M.prototype.getDescriptionFieldName=function(k,e){var f,i=0,l,F,r,d;if(typeof k==='object'){F=k;}else{f=this.getFieldsByEntitySetName(e);if(f){l=f.length;for(i=0;i<l;i++){F=f[i];if(F.name===k){break;}}}}if(F){r=this.util.searchForKeyValue(F.extensions,'name','text');if(r){d=r.value;}}return d;};M.prototype.getIsSearchSupported=function(a){var i,p;i=false;if(a&&a.record&&a.record.propertyValue){p=this.util.searchForKeyValue(a.record.propertyValue,'property','SearchSupported');if(p&&p.bool==='true'){i=true;}}return i;};M.prototype.getLineItemAnnotation=function(p){var a,A,r,l=0,i=0;if(this._oSchemaDefinition&&this._oSchemaDefinition.annotations){p=this._getFullyQualifiedNameForEntity(p);a=this.util.searchForAndGetAllKeyValue(this._oSchemaDefinition.annotations,'target',p);if(a){l=a.length;for(i=0;i<l;i++){A=a[i];if(A&&A.annotation){r=this.util.searchForKeyValue(A.annotation,'term','com.sap.vocabularies.UI.v1.LineItem');if(r){break;}}}}if(r&&r.collection){this._enrichAnnotationWithUIDataField(r,r.collection.record);}}return r;};M.prototype.getFieldGroupAnnotation=function(p){var a,A,o,r,R,b,l=0,i=0;if(this._oSchemaDefinition&&this._oSchemaDefinition.annotations){p=this._getFullyQualifiedNameForEntity(p);a=this.util.searchForAndGetAllKeyValue(this._oSchemaDefinition.annotations,'target',p);if(a){l=a.length;for(i=0;i<l;i++){A=a[i];if(A&&A.annotation){b=this.util.searchForAndGetAllKeyValue(A.annotation,'term','com.sap.vocabularies.UI.v1.FieldGroup');if(b){break;}}}}if(b){l=b.length;for(i=0;i<l;i++){o=b[i];R=this.util.searchForKeyValue(o.extensions,'name','Qualifier');if(R){o.groupName=R.value;}if(o&&o.record&&o.record.propertyValue){r=this.util.extractMatchingValue(o.record.propertyValue,'property',['Label','Data']);R=r['Label'];if(R){o.groupLabel=R.string;}R=r['Data'];if(R&&R.collection){this._enrichAnnotationWithUIDataField(o,R.collection.record);}}}}}return b;};M.prototype._enrichAnnotationWithUIDataField=function(a,r){var f=[],l={},R,p,F,P,L=0,i=0;if(r){L=r.length;f=[];l={};for(i=0;i<L;i++){P=r[i];if(P&&(P.type==='UI.DataField'||P.type==='com.sap.vocabularies.UI.v1.DataField')){F=null;R=this.util.extractMatchingValue(P.propertyValue,'property',['Value','Label']);p=R['Value'];if(p){F=p.path;f.push(F);}if(F){p=R['Label'];if(p&&p.string){l[F]=p.string;}}}}a.fields=f;a.labels=l;}};M.prototype._getFullyQualifiedNameForEntity=function(e){var n,r;if(!e){return undefined;}n=this.getNamespace();if(n&&!(e.indexOf(n)>-1)){r=n+'.'+e;}else{r=e;}return r;};M.extractMatchingValue=function(o,k,s){var r=null,a,i,l,S;if(o&&s){l=o.length;S=s.length;r={};for(i=0;i<l;i++){a=o[i];if(s.indexOf(a[k])>-1){if(!r[a[k]]){r[a[k]]=a;S--;}}if(S===0){break;}}}return r;};M.searchForKeyValue=function(o,k,v){var r=null,R=null;r=M.searchForAndGetAllKeyValue(o,k,v);if(r&&r.length){R=r[0];}return R;};M.searchForAndGetAllKeyValue=function(o,k,v){var r=null;if(o){r=q.grep(o,function(a){return a[k]===v;});}return r;};M.prototype.destroy=function(){this.oModel=null;this._oMetadata=null;this._oSchemaDefinition=null;this._sResourceRootUri=null;this.util=null;this.bIsDestroyed=true;};return M;},true);\n",
	"sap/ui/comp/personalization/BaseController.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/P13nItem','sap/ui/base/ManagedObject','./Util','sap/ui/table/Table'],function(q,P,M,U,T){'use strict';var B=M.extend('sap.ui.comp.personalization.BaseController',{metadata:{'abstract':true,publicMethods:['getPanel'],library:'sap.ui.comp',properties:{type:{type:'sap.m.P13nPanelType',group:'Misc',defaultValue:null},model:{type:'sap.ui.model.json.JSONModel',group:'Misc',defaultValue:null},persistentDataRestore:{type:'object',group:'Misc',defaultValue:null,visibility:'hidden'}},associations:{table:{type:'sap.ui.core.Control',multiple:false}},events:{beforePotentialTableChange:{},afterPotentialTableChange:{}}}});B.prototype.init=function(){};B.prototype.setModelFunction=function(){var t=this;var f=function(){if(!this.getModel()){this.setModel(t.getModel());}};return f;};B.prototype.getTable=function(){var t=this.getAssociation('table');if(typeof t==='string'){t=sap.ui.getCore().byId(t);}return t;};B.prototype.createPersistentStructure=function(i){i=i||[];var p={};p[this.getType()]={};p[this.getType()][this.getType()+'Items']=i;return p;};B.prototype.getPersistentData=function(){var d=this.getModel().getData();var p={};if(!d.persistentData[this.getType()]){p=this.createPersistentStructure();}else{p[this.getType()]=d.persistentData[this.getType()];}return p;};B.prototype.setPersistentData=function(d){var D=this.getModel().getData();D.persistentData[this.getType()]=d[this.getType()];};B.prototype.getPersistentDataItems=function(){return this.getPersistentData()[this.getType()][this.getType()+'Items'];};B.prototype.setPersistentDataItems=function(i){this.setPersistentData(this.createPersistentStructure(i));};B.prototype.getTransientData=function(){var d=this.getModel().getData();var t={};if(!d.transientData[this.getType()]){t[this.getType()]={};t[this.getType()].title=this.getTitleText();t[this.getType()].items=[];}else{t[this.getType()]=d.transientData[this.getType()];}return t;};B.prototype.setTransientData=function(d){var D=this.getModel().getData();D.transientData[this.getType()]=d[this.getType()];};B.prototype.initializeModel=function(m){this.setModel(m);this.setTransientData(this.getTransientData());this.setPersistentData(this.getPersistentData());};B.prototype.createTableRestoreJson=function(){this.setPersistentDataRestore(this._getTable2Json());};B.prototype.getTableRestoreJson=function(){return U.copy(this.getPersistentDataRestore());};B.prototype.reducePersistentModel=function(){var t=this.getTable();if(!t){return;}var c=t.getColumns();var i=[];this.getPersistentDataItems().forEach(function(I){var C=U.getColumn(I.columnKey,c);if(C){i.push(I);}});this.setPersistentDataItems(i);};B.prototype._getTable2Json=function(){};B.prototype.syncTable2PersistentModel=function(){this.setPersistentData(this._getTable2Json());};B.prototype.syncTable2TransientModel=function(){};B.prototype.getPanel=function(){};B.prototype.onAfterSubmit=function(p){this.syncJsonModel2Table(this.getModel().getData().persistentData);};B.prototype.onAfterReset=function(p){};B.prototype.syncJsonModel2Table=function(j){};B.prototype.getChangeType=function(p,o){};B.prototype.getChangeData=function(p,o){};B.prototype.getUnionData=function(p,o){};B.prototype.exit=function(){};return B;},true);\n",
	"sap/ui/comp/personalization/ColumnsController.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/P13nColumnsPanel','./BaseController'],function(q,P,B){'use strict';var C=B.extend('sap.ui.comp.personalization.ColumnsController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.columns);},metadata:{events:{afterColumnsModelDataChange:{}}}});C.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(t instanceof sap.ui.table.Table){t.detachColumnMove(this._onColumnMove,this);t.detachColumnVisibility(this._onColumnVisibility,this);t.detachColumnResize(this._onColumnResize,this);t.attachColumnMove(this._onColumnMove,this);t.attachColumnVisibility(this._onColumnVisibility,this);t.attachColumnResize(this._onColumnResize,this);}};C.prototype.getTitleText=function(){return sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('PERSODIALOG_TAB_COLUMNS');};C.prototype.reducePersistentModel=function(){this.syncTable2PersistentModel();};C.prototype._getTable2Json=function(){var j=this.createPersistentStructure();var t=this.getTable();if(t){t.getColumns().forEach(function(c,i){j.columns.columnsItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(c),index:(c.getOrder?c.getOrder():i),visible:c.getVisible(),width:c.getWidth()});},this);}return j;};C.prototype.syncTable2PersistentModel=function(){B.prototype.syncTable2PersistentModel.apply(this,arguments);var d=this.getModel().getData();var D=this.getChangeData(d.persistentData,this.getTableRestoreJson());if(D){d.persistentData.columns=D.columns;}else{d.persistentData.columns.columnsItems=[];}};C.prototype.syncTable2TransientModel=function(){this._syncTable2TransientModel();};C.prototype._syncTable2TransientModel=function(){var t=this.getTable();var i=[];if(t){if(t instanceof sap.ui.table.Table){t.getColumns().forEach(function(o){if(sap.ui.comp.personalization.Util.getColumnKey(o)){i.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(o),text:o.getLabel().getText(),tooltip:(o.getTooltip()instanceof sap.ui.core.TooltipBase)?o.getTooltip().getTooltip_Text():o.getTooltip_Text(),visible:o.getVisible(),width:o.getWidth()});}},this);}else{if(t instanceof sap.m.Table){var c=t.getColumns();c.sort(function(a,b){var d=a.getOrder();var e=b.getOrder();if(d<e){return-1;}if(d>e){return 1;}return 0;});c.forEach(function(o){if(sap.ui.comp.personalization.Util.getColumnKey(o)){i.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(o),text:o.getHeader().getText(),tooltip:(o.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?o.getHeader().getTooltip().getTooltip_Text():o.getHeader().getTooltip_Text(),visible:o.getVisible(),width:o.getWidth()});}});}}}var I=this.getModel().getData().transientData.columns.items;if(q(i).not(I).length!==0||q(I).not(i).length!==0){this.getModel().getData().transientData.columns.items=i;}};C.prototype._setNewColumnItemIndex=function(d,c,n){var i=-1;if(c&&n!==null&&n!==undefined&&n>-1){i=sap.ui.comp.personalization.Util.getIndexByKey(d.persistentData.columns.columnsItems,sap.ui.comp.personalization.Util.getColumnKey(c));if(i>-1){d.persistentData.columns.columnsItems[i].index=n;}else{d.persistentData.columns.columnsItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(c),index:n});}}};C.prototype._onColumnMove=function(e){var i=0,n=null,t=null;var T=null,d=null,c=null;var N=null,o=null;c=e.getParameter('column');N=e.getParameter('newPos');this.fireBeforePotentialTableChange();if(c){T=this.getTable();o=T.indexOfColumn(c);}if(o!==null&&N!==null){d=this.getModel().getData();if(o>N){for(i=N;i<=o;i++){if(i<o){t=T.getColumns()[i];n=i+1;}else{t=c;n=e.getParameter('newPos');}this._setNewColumnItemIndex(d,t,n);}}else{for(i=o;i<=N;i++){if(i===o){t=c;n=e.getParameter('newPos');}else{t=T.getColumns()[i];n=i-1;}this._setNewColumnItemIndex(d,t,n);}}this.getModel().setData(d,true);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();}};C.prototype._onColumnVisibility=function(e){var d=this.getModel().getData();var c=e.getParameter('column');var v=e.getParameter('newVisible');this.fireBeforePotentialTableChange();var i=sap.ui.comp.personalization.Util.getIndexByKey(d.persistentData.columns.columnsItems,sap.ui.comp.personalization.Util.getColumnKey(c));if(i>-1){d.persistentData.columns.columnsItems[i].visible=v;}else{d.persistentData.columns.columnsItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(c),visible:v});}this.getModel().setData(d,true);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};C.prototype._onColumnResize=function(e){var c=e.getParameter('column');var d=this.getModel().getData();this.fireBeforePotentialTableChange();var i=sap.ui.comp.personalization.Util.getIndexByKey(d.persistentData.columns.columnsItems,sap.ui.comp.personalization.Util.getColumnKey(c));if(i>-1){d.persistentData.columns.columnsItems[i].width=e.getParameter('width');}else{d.persistentData.columns.columnsItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(c),width:e.getParameter('width')});}this.getModel().setData(d,true);this.fireAfterPotentialTableChange();this.fireAfterColumnsModelDataChange();};C.prototype.getPanel=function(p){var t=this;var v=-1;if(p&&p.visibleItemsThreshold){v=p.visibleItemsThreshold;}var o=new P({title:this.getTitleText(),type:sap.m.P13nPanelType.columns,visibleItemsThreshold:v,items:{path:'/transientData/columns/items',template:new sap.m.P13nItem({columnKey:'{columnKey}',text:'{text}',visible:'{visible}',tooltip:'{tooltip}',width:'{width}'})},columnsItems:{path:'/persistentData/columns/columnsItems',template:new sap.m.P13nColumnsItem({columnKey:'{columnKey}',index:'{index}',visible:'{visible}',width:'{width}'})},beforeNavigationTo:t.setModelFunction(t.getModel())});o.attachChangeColumnsItems(function(e){var d=this.getModel().getData();var n=e.getParameter('newItems');var E=e.getParameter('existingItems');var c=null,s=null;if(n){n.forEach(function(N){c={columnKey:N.getColumnKey()};if(N.getIndex()!==undefined){c.index=N.getIndex();}if(N.getVisible()!==undefined){c.visible=N.getVisible();}if(N.getWidth()!==undefined){c.width=N.getWidth();}d.persistentData.columns.columnsItems.push(c);});}if(E){E.forEach(function(a){c=null;s=a.getColumnKey();c=sap.ui.comp.personalization.Util.getArrayElementByKey('columnKey',s,d.persistentData.columns.columnsItems);if(c){if(a.getIndex()!==undefined){c.index=a.getIndex();}if(a.getVisible()!==undefined){c.visible=a.getVisible();}if(a.getWidth()!==undefined){c.width=a.getWidth();}}});}},this);o.attachSetData(function(){var d=this.getModel().getData();this.getModel().setData(d);},this);this._correctColumnsItemsInPersistentData();return o;};C.prototype.onAfterReset=function(p){var o=null;if(p&&p.columns&&p.columns.oPanel){o=p.columns.oPanel;o.reInitialize();}};C.prototype.onAfterSubmit=function(p){this._correctColumnsItemsInPersistentData(p);B.prototype.onAfterSubmit.apply(this,arguments);};C.prototype._correctColumnsItemsInPersistentData=function(p){this._removeIndexFromInvisibleColumnsItems();this._removeEmptyColumnsItems();if(p){this._correctColumnsItemIndexesBasedOnPayload(p);}};C.prototype._correctColumnsItemIndexesBasedOnPayload=function(p){var c=this.getModel().getData().persistentData.columns.columnsItems;var o=null,i=null,s=null,r=-1;if(c&&c.length>0){if(p&&p.columns&&p.columns.tableItemsChanged){p.columns.selectedItems.forEach(function(S,a){i=o=null;s=S.columnKey;o=sap.ui.comp.personalization.Util.getArrayElementByKey('columnKey',s,c);if(o&&o.index!==undefined&&o.index!==null){i=o.index;}if(i===null||i===undefined){i=a;}if(i<=r){i=r+1;}if(Math.abs(i-r)>1){i=r+1;}if(o){o.index=i;}else{o={'columnKey':s,'index':i};c.push(o);}r=i;});}}};C.prototype._removeEmptyColumnsItems=function(){var c=this.getModel().getData().persistentData.columns.columnsItems;var i=0,l=0,o=null;if(c&&c.length){l=c.length;for(i=0;i<l;i++){o=c[i];if(o){if(o.index!==null&&o.index!==undefined){continue;}if(o.visible!==null&&o.visible!==undefined){continue;}if(o.width!==null&&o.width!==undefined){continue;}c.splice(i,1);i-=1;}}}};C.prototype._removeIndexFromInvisibleColumnsItems=function(){var c=null,i=null,I=null,a=0;var p=this.getModel().getData().persistentData;var t=this.getModel().getData().transientData;var v=null;if(p&&p.columns&&p.columns.columnsItems){c=p.columns.columnsItems;this._sortArrayByPropertyName(c,'index');}if(t&&t.columns&&t.columns.items){i=t.columns.items;}if(c&&c.length){c.forEach(function(o){I=v=null;if(o.index!==undefined){v=o.visible;if(v===undefined||v===null){I=sap.ui.comp.personalization.Util.getArrayElementByKey('columnKey',o.columnKey,i);if(I&&I.visible!==undefined){v=I.visible;}}if(v===false){delete o.index;a+=1;}else{if(o.index>0&&o.index>=a){o.index-=a;}}}});}};C.prototype.syncJsonModel2Table=function(j){var t=this.getTable();var i=j.columns.columnsItems;this.fireBeforePotentialTableChange();if(t instanceof sap.ui.table.Table){this._applyChangesToUiTableType(t,i);}else if(t instanceof sap.m.Table){this._applyChangesToMTableType(t,i);}this.fireAfterPotentialTableChange();};C.prototype._applyChangesToUiTableType=function(t,c){var d=null,T=null;var f=t.getFixedColumnCount();var F=f===0?f:f-1;var s=function(o,T){var i=t.indexOfColumn(T);var m=o.index;if(m!==undefined&&i!==m){t.removeColumn(T);t.insertColumn(T,m);if(!(i>F&&m>F)){t.setFixedColumnCount(0);}}};var S=function(o,T){if(o.visible!==undefined&&T.getVisible()!==o.visible){T.setVisible(o.visible);}};var e=function(o,T){if(o.width!==undefined&&T.getWidth()!==o.width){T.setWidth(o.width);}};if(c.length){d=t.getColumns();c.sort(function(a,b){if(a.index<b.index){return-1;}if(a.index>b.index){return 1;}return 0;});c.forEach(function(o){T=sap.ui.comp.personalization.Util.getColumn(o.columnKey,d);if(T){s(o,T);S(o,T);e(o,T);}});}};C.prototype._applyChangesToMTableType=function(t,c){var T=null,d=false;var e=t.getColumns();var s=function(o,T){var m=o.index;if(m!==undefined){T.setOrder(m);d=true;}};var S=function(o,T){if(o.visible!==undefined&&T.getVisible()!==o.visible){T.setVisible(o.visible);}};if(c.length){e=t.getColumns();c.sort(function(a,b){if(a.index<b.index){return-1;}if(a.index>b.index){return 1;}return 0;});c.forEach(function(o){T=sap.ui.comp.personalization.Util.getColumn(o.columnKey,e);if(T){s(o,T);S(o,T);}});}if(d){t.rerender();}};C.prototype.getChangeType=function(p,o){var c=this.getChangeData(p,o);if(c){var a=sap.ui.comp.personalization.Controller.ChangeType.TableChanged;c.columns.columnsItems.some(function(i){if(i.visible||i.visible===false){a=sap.ui.comp.personalization.Controller.ChangeType.ModelChanged;return true;}});return a;}return sap.ui.comp.personalization.Controller.ChangeType.Unchanged;};C.prototype.getChangeData=function(p,o){if(!o||!o.columns||!o.columns.columnsItems){return null;}var c={columns:sap.ui.comp.personalization.Util.copy(p.columns)};var i=true;p.columns.columnsItems.some(function(I){var a=sap.ui.comp.personalization.Util.getArrayElementByKey('columnKey',I.columnKey,o.columns.columnsItems);if(!sap.ui.comp.personalization.Util.semanticEqual(I,a)){i=false;return true;}});if(i){return null;}var t=[];c.columns.columnsItems.forEach(function(I,a){var b=sap.ui.comp.personalization.Util.getArrayElementByKey('columnKey',I.columnKey,o.columns.columnsItems);if(sap.ui.comp.personalization.Util.semanticEqual(I,b)){t.push(I);return;}for(var d in I){if(d==='columnKey'||!b){if(b&&b[d]===undefined){delete I[d];}else{continue;}}if(I[d]===b[d]){delete I[d];}}if(Object.keys(I).length<2){t.push(I);}});t.forEach(function(I){var a=sap.ui.comp.personalization.Util.getIndexByKey(c.columns.columnsItems,I.columnKey);c.columns.columnsItems.splice(a,1);});return c;};C.prototype._sortArrayByPropertyName=function(A,p,t){var s=[];if(t===null||t===undefined){t=false;}if(A&&A.length>0&&p!==undefined&&p!==null&&p!==''){if(t){s=q.extend(true,[],A);}else{s=A;}s.sort(function(a,b){var c=a[p];var d=b[p];if(c<d||(c!==undefined&&d===undefined)){return-1;}if(c>d||(c===undefined&&d!==undefined)){return 1;}return 0;});}return s;};C.prototype._recalculateIndexes=function(o,s,e){var m=null,M=null,i=null;if(!o||!o.length){return;}i=o.length-1;if(s===null||s===undefined||s<0||e===null||e===undefined||e<0||e>i||s===e){return;}m=Math.min(s,e);M=Math.max(s,e);o.forEach(function(O,I){if(I<m||I>M||I>i){return;}if(s>e){O.index+=1;}else{O.index-=1;}});};C.prototype.getUnionData=function(p,o){if(!o||!o.columns||!o.columns.columnsItems||o.columns.columnsItems.length===0){return p.columns?{columns:q.extend(true,{},p.columns)}:null;}if(!p||!p.columns||!p.columns.columnsItems){return{columns:q.extend(true,{},o.columns)};}var d=[];var u=this.createPersistentStructure();p.columns.columnsItems.forEach(function(c,i){var a=sap.ui.comp.personalization.Util.getArrayElementByKey('columnKey',c.columnKey,o.columns.columnsItems);if(a){if(a.visible!==undefined){c.visible=a.visible;}if(a.width!==undefined){c.width=a.width;}if(a.index!==undefined){c.index=a.index;d.push(c);return;}}u.columns.columnsItems.push(c);});if(d&&d.length>0){this._sortArrayByPropertyName(d,'index');d.forEach(function(D){u.columns.columnsItems.splice(D.index,0,D);});}u.columns.columnsItems.forEach(function(c,i){c.index=i;});return u;};C.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t&&t instanceof sap.ui.table.Table){t.detachColumnMove(this._onColumnMove,this);t.detachColumnVisibility(this._onColumnVisibility,this);t.detachColumnResize(this._onColumnResize,this);}};return C;},true);\n",
	"sap/ui/comp/personalization/Controller.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','./ColumnsController','./FilterController','./GroupController','./SortController','./Util'],function(q,M,C,F,G,S,U){'use strict';var a=M.extend('sap.ui.comp.personalization.Controller',{constructor:function(i,s){M.apply(this,arguments);},metadata:{publicMethods:['setPersonalizationData'],properties:{setting:{type:'object',defaultValue:null},resetToInitialTableState:{type:'boolean',defaultValue:true}},associations:{table:{type:'sap.ui.core.Control',multiple:false}},events:{beforePotentialTableChange:{},afterPotentialTableChange:{},afterP13nModelDataChange:{parameters:{changeReason:{type:'sap.ui.comp.personalization.Controller.ChangeReason'},persistentData:{type:'object'},changeData:{type:'object'},changeType:{type:'sap.ui.comp.personalization.Controller.ChangeType'},changeTypeVariant:{type:'sap.ui.comp.personalization.Controller.ChangeType'}}}},library:'sap.ui.comp'}});a.prototype.setSetting=function(s){s=this.validateProperty('setting',s);this.setProperty('setting',s,true);if(!s){return this;}this._checkIfGroupingAllowed();this._oSettingCurrent=U.copy(this._oSettingOriginal);for(var t in s){if(s[t].visible===false){delete this._oSettingCurrent[t];continue;}if(s[t].visible&&this._oSettingCurrent[t]&&this._oSettingCurrent[t].visible){this._oSettingCurrent[t].controller=s[t].controller?s[t].controller:this._oSettingCurrent[t].controller;if(s[t].payload){this._oSettingCurrent[t].payload=s[t].payload;}}}this._masterSync(a.SyncReason.NewSetting,null);return this;};a.prototype.setTable=function(t){this.setAssociation('table',t);if(!t){return this;}this._checkIfGroupingAllowed();var c=this.getTable().getColumns();if(!U.isConsistent(c)){throw'The table instance provided contain some columns for which a columnKey is provided, some for which a columnKey is not provided. This is not allowed ! ';}this._masterSync(a.SyncReason.NewTable,null);return this;};a.prototype.getTable=function(){var t=this.getAssociation('table');if(typeof t==='string'){t=sap.ui.getCore().byId(t);}return t;};a.prototype.getModel=function(){return this._oModel;};a.prototype.init=function(){var t=this;this._oDialog=null;this._oPayload=null;this._oPersistentDataRestore=null;this._oPersistentDataCurrentVariant=null;this._oPersistentDataAlreadyKnown=null;this._oPersistentDataBeforeOpen=null;this._oModel=null;this._oSettingOriginal={columns:{controller:new C({afterColumnsModelDataChange:function(e){t._fireChangeEvent();},beforePotentialTableChange:function(e){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(e){t.fireAfterPotentialTableChange();}}),visible:true},sort:{controller:new S({afterSortModelDataChange:function(e){t._fireChangeEvent();},beforePotentialTableChange:function(e){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(e){t.fireAfterPotentialTableChange();}}),visible:true},filter:{controller:new F({afterFilterModelDataChange:function(e){t._fireChangeEvent();},beforePotentialTableChange:function(e){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(e){t.fireAfterPotentialTableChange();}}),visible:true},group:{controller:new G({afterGroupModelDataChange:function(e){t._fireChangeEvent();},beforePotentialTableChange:function(e){t.fireBeforePotentialTableChange();},afterPotentialTableChange:function(e){t.fireAfterPotentialTableChange();}}),visible:true}};this._oSettingCurrent=U.copy(this._oSettingOriginal);this._oInitialVisiblePanelType=this._getInitialVisiblePanelType();};a.prototype._checkIfGroupingAllowed=function(){var t=this.getTable();if(t&&t instanceof sap.ui.table.Table&&!(t instanceof sap.ui.table.AnalyticalTable)){delete this._oSettingCurrent.group;}};a.prototype.openDialog=function(s){this._oDialog=new sap.m.P13nDialog({stretch:sap.ui.Device.system.phone,showReset:true,initialVisiblePanelType:this._oInitialVisiblePanelType});this._oDialog.toggleStyleClass('sapUiSizeCompact',!!q(this.getTable().getDomRef()).closest('.sapUiSizeCompact').length);var o=this._mixSetting(this._oSettingCurrent,s);var p=this._callControllers(o,'getPanel');for(var t in o){if(p[t]){this._oDialog.addPanel(p[t]);}}this._oPersistentDataBeforeOpen=this._getPersistentDataCopy();this._oDialog.attachOk(this._handleDialogOk,this);this._oDialog.attachCancel(this._handleDialogCancel,this);this._oDialog.attachReset(this._handleDialogReset,this);this._oDialog.attachAfterClose(this._handleDialogAfterClose,this);this._oDialog.open();};a.prototype._mixSetting=function(s,o){if(!o){return s;}for(var t in o){if(o[t].visible&&s[t]&&s[t].visible){o[t].controller=s[t].controller;if(!o[t].payload){o[t].payload=s[t].payload;}}}return o;};sap.ui.comp.personalization.Controller.prototype._getSettingOfVisiblePanels=function(){if(!this._oDialog){return;}var s={};this._oDialog.getPanels().forEach(function(p){var t=p.getType();s[t]={controller:this._oSettingCurrent[t].controller,visible:p.getVisible()};},this);return s;};a.prototype._getPersistentDataCopy=function(){var p={};if(this.getModel()&&this.getModel().getData().persistentData){p=U.copy(this.getModel().getData().persistentData);}return p;};a.prototype.setPersonalizationData=function(n){if(!this._sanityCheck(n)){return;}var c=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),U.copy(n));this._masterSync(a.SyncReason.NewModelData,c);if(this.getTable()&&this.getTable().setFixedColumnCount){this.getTable().setFixedColumnCount(0);}this._fireChangeEvent();};a.prototype._handleDialogReset=function(e){if(this.getResetToInitialTableState()){this._masterSync(a.SyncReason.ResetModelData,null);}else{this._masterSync(a.SyncReason.ResetModelDataVariant,null);}this._callControllers(this._getSettingOfVisiblePanels(),'onAfterReset',e.getParameter('payload'));};a.prototype._handleDialogCancel=function(e){this._oDialog.detachCancel(this._handleDialogCancel,this);this._oInitialVisiblePanelType=this._oDialog.getVisiblePanel()?this._oDialog.getVisiblePanel().getType():this._getInitialVisiblePanelType();this._oDialog.close();};a.prototype._handleDialogOk=function(e){this._oDialog.detachOk(this._handleDialogOk,this);this._oPayload={trigger:'ok',payload:e.getParameter('payload')};this._oInitialVisiblePanelType=this._oDialog.getVisiblePanel()?this._oDialog.getVisiblePanel().getType():this._getInitialVisiblePanelType();this._oDialog.close();};a.prototype._getInitialVisiblePanelType=function(){for(var t in this._oSettingCurrent){return t;}};a.prototype._handleDialogAfterClose=function(){var t=this;var _=this._oPayload;if(_&&_.trigger==='ok'){setTimeout(function(){var s=t._getSettingOfVisiblePanels();if(t._oDialog){t._oDialog.destroy();t._oDialog=null;}t._callControllers(s,'onAfterSubmit',t._oPayload.payload);t._oPayload=null;t._fireChangeEvent();t._oPersistentDataBeforeOpen=null;},0);}else{setTimeout(function(){if(t._oDialog){t._oDialog.destroy();t._oDialog=null;}t._masterSync(a.SyncReason.NewModelData,t._oPersistentDataBeforeOpen);t._oPersistentDataBeforeOpen=null;},0);}};a.prototype._masterSync=function(u,n){var t=null,j=null;switch(u){case a.SyncReason.NewTable:this.initializeModel();this._callControllers(this._oSettingCurrent,'setTable',this.getTable());this._callControllers(this._oSettingCurrent,'createTableRestoreJson');this.getModel().setSizeLimit(this.getTable().getColumns().length+1000);this._callControllers(this._oSettingCurrent,'syncTable2PersistentModel');this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');j=this._callControllers(this._oSettingCurrent,'getTableRestoreJson');this._oPersistentDataRestore=U.copy(j);this._oPersistentDataCurrentVariant=this._getPersistentDataCopy();this._oPersistentDataAlreadyKnown=U.copy(this._oPersistentDataRestore);break;case a.SyncReason.NewSetting:this.initializeModel();if(this.getTable()){this._callControllers(this._oSettingCurrent,'setTable',this.getTable());this.getModel().setSizeLimit(this.getTable().getColumns().length+1000);}this._callControllers(this._oSettingCurrent,'createTableRestoreJson');this._callControllers(this._oSettingCurrent,'syncTable2PersistentModel');this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');j=this._callControllers(this._oSettingCurrent,'getTableRestoreJson');this._oPersistentDataRestore=U.copy(j);this._oPersistentDataCurrentVariant=this._getPersistentDataCopy();this._oPersistentDataAlreadyKnown=U.copy(this._oPersistentDataRestore);for(t in this._oPersistentDataRestore){if(!this._oSettingCurrent[t]){delete this._oPersistentDataRestore[t];}}for(t in this._oPersistentDataAlreadyKnown){if(!this._oSettingCurrent[t]){delete this._oPersistentDataAlreadyKnown[t];}}for(t in this._oPersistentDataCurrentVariant){if(!this._oSettingCurrent[t]){delete this._oPersistentDataCurrentVariant[t];}}break;case a.SyncReason.NewModelData:this.initializeModel(n);var p=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),U.copy(n));this._callControllers(this._oSettingCurrent,'syncJsonModel2Table',p);this._callControllers(this._oSettingCurrent,'reducePersistentModel');this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');this._oPersistentDataCurrentVariant=this._getPersistentDataCopy();break;case a.SyncReason.ResetModelData:this.initializeModel(this._oPersistentDataRestore);this._callControllers(this._oSettingCurrent,'syncJsonModel2Table',U.copy(this._oPersistentDataRestore));this._callControllers(this._oSettingCurrent,'reducePersistentModel');this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');this._oPersistentDataCurrentVariant=this._getPersistentDataCopy();break;case a.SyncReason.ResetModelDataVariant:this.initializeModel(this._oPersistentDataCurrentVariant);var P=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),U.copy(this._oPersistentDataCurrentVariant));this._callControllers(this._oSettingCurrent,'syncJsonModel2Table',P);this._callControllers(this._oSettingCurrent,'reducePersistentModel');this._callControllers(this._oSettingCurrent,'syncTable2TransientModel');break;}this.getModel().refresh();};a.prototype.initializeModel=function(n){if(!this.getModel()){this._oModel=new sap.ui.model.json.JSONModel();this._oModel.setDefaultBindingMode(sap.ui.model.BindingMode.TwoWay);}var N=null;if(n){N=U.copy(n);}var c=N||((this.getModel().getData()&&this.getModel().getData().persistentData)?this.getModel().getData().persistentData:{});for(var t in c){if(!this._oSettingCurrent[t]){delete c[t];}}this.getModel().setData({transientData:{},persistentData:c});this._callControllers(this._oSettingCurrent,'initializeModel',this.getModel());};a.prototype._fireChangeEvent=function(c){var o={};var p=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),this._getPersistentDataCopy());var b=this._callControllers(this._oSettingCurrent,'getChangeType',p,U.copy(this._oPersistentDataAlreadyKnown));if(!U.hasChangedType(b)){return;}if(c===a.ChangeReason.ResetFull||c===a.ChangeReason.ResetPartial){o.changeReason=c;}var P=U.copy(this._oPersistentDataAlreadyKnown);o.changeType=this._callControllers(this._oSettingCurrent,'getChangeType',p,P);o.changeData=this._callControllers(this._oSettingCurrent,'getChangeData',p,P);var d=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataRestore),U.copy(this._oPersistentDataCurrentVariant));o.changeTypeVariant=this._callControllers(this._oSettingCurrent,'getChangeType',p,d);var e=U.copy(this._oPersistentDataRestore);o.persistentData=this._callControllers(this._oSettingCurrent,'getChangeData',p,e);this.fireAfterP13nModelDataChange(o);this._oPersistentDataAlreadyKnown=this._callControllers(this._oSettingCurrent,'getUnionData',U.copy(this._oPersistentDataAlreadyKnown),U.copy(o.changeData));};a.prototype.resetPersonalization=function(){if(this.getResetToInitialTableState()){this._masterSync(a.SyncReason.ResetModelData,null);this._fireChangeEvent(sap.ui.comp.personalization.Controller.ChangeReason.ResetFull);}else{this._masterSync(a.SyncReason.ResetModelDataVariant,null);this._fireChangeEvent(sap.ui.comp.personalization.Controller.ChangeReason.ResetPartial);}};a.prototype._getArgumentsByType=function(A,t){var r=[],o=null;if(A&&A.length&&t){A.forEach(function(b){if(b&&b[t]&&typeof b[t]!=='function'){o={};o[t]=b[t];r.push(o);}else{r.push(b);}});}return r;};a.prototype._callControllers=function(s,m){var t=null,o=null,c=null,A=null;var r={},b=Array.prototype.slice.call(arguments,2);for(t in s){o=c=A=null;o=s[t];c=o.controller;if(!c||!o.visible||!c[m]){continue;}A=this._getArgumentsByType(b,t);if(m==='getPanel'){A.push(o.payload);}var R=c[m].apply(c,A);if(R!==null&&R!==undefined){if(R[t]!==undefined){r[t]=R[t];}else{r[t]=R;}}}return r;};a.prototype._sanityCheck=function(n){if(!n){return false;}return true;};a.prototype.exit=function(){var t;if(this._oDialog){this._oDialog.destroy();this._oDialog=null;}this._callControllers(this._oSettingCurrent,'destroy');for(t in this._oSettingCurrent){this._oSettingCurrent[t]=null;}this._oSettingCurrent=null;for(t in this._oSettingOriginal){this._oSettingOriginal[t]=null;}this._oSettingOriginal=null;if(this.getModel()){this.getModel().destroy();this._oModel=null;}this._oPersistentDataRestore=null;this._oPersistentDataCurrentVariant=null;this._oPersistentDataAlreadyKnown=null;this._oPersistentDataBeforeOpen=null;this._oPayload=null;};a.ChangeType={Unchanged:0,ModelChanged:1,TableChanged:2};a.SyncReason={NewTable:0,NewSetting:1,NewModelData:2,ResetModelData:3,ResetModelDataVariant:4};a.ChangeReason={ResetFull:0,ResetPartial:1};return a;},true);\n",
	"sap/ui/comp/personalization/FilterController.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/P13nFilterItem','sap/m/P13nFilterPanel','./BaseController'],function(q,P,c,B){'use strict';var F=B.extend('sap.ui.comp.personalization.FilterController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.filter);},metadata:{events:{afterFilterModelDataChange:{}}}});F.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(t instanceof sap.ui.table.Table){t.detachFilter(this._onFilter,this);t.attachFilter(this._onFilter,this);}};F.prototype.getTitleText=function(){return sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('PERSODIALOG_TAB_FILTER');};F.prototype.createTableRestoreJson=function(){this.setPersistentDataRestore(this.createPersistentStructure());};F.prototype.syncTable2PersistentModel=function(){};F.prototype.syncTable2TransientModel=function(){var t=this.getTable();var i=[];if(t){if(t instanceof sap.ui.table.Table){t.getColumns().forEach(function(C){if(sap.ui.comp.personalization.Util.isFilterable(C)){i.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(C),text:C.getLabel().getText(),tooltip:(C.getTooltip()instanceof sap.ui.core.TooltipBase)?C.getTooltip().getTooltip_Text():C.getTooltip_Text(),maxLength:sap.ui.comp.personalization.Util._getCustomProperty(C,'maxLength'),type:sap.ui.comp.personalization.Util.getColumnType(C)});}},this);}if(t instanceof sap.m.Table){t.getColumns().forEach(function(C){if(sap.ui.comp.personalization.Util.isFilterable(C)){i.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(C),text:C.getHeader().getText(),tooltip:(C.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?C.getHeader().getTooltip().getTooltip_Text():C.getHeader().getTooltip_Text(),maxLength:sap.ui.comp.personalization.Util._getCustomProperty(C,'maxLength'),type:sap.ui.comp.personalization.Util.getColumnType(C)});}},this);}}var l;try{l=sap.ui.getCore().getConfiguration().getLocale().toString();}catch(e){l=null;}if(l){i.sort(function(a,b){return a.text.localeCompare(b.text,l,{numeric:true});});}var I=this.getModel().getData().transientData.filter.items;if(q(i).not(I).length!==0||q(I).not(i).length!==0){this.getModel().getData().transientData.filter.items=i;}};F.prototype._onFilter=function(e){};F.prototype._hasTableFilterableColumns=function(){var t=this.getTable();if(!t){return false;}var h=false;t.getColumns().some(function(C){if(sap.ui.comp.personalization.Util.isFilterable(C)){h=true;return true;}});return h;};F.prototype.getPanel=function(p){if(!this._hasTableFilterableColumns()){return null;}if(p&&p.column){var C=sap.ui.comp.personalization.Util.getColumnKey(p.column);if(C){var i=this.getModel().getData().transientData.filter.items;i.forEach(function(I,a){I['isDefault']=I.columnKey===C;},this);}}var t=this;var o=new c({containerQuery:true,layoutMode:'Desktop',type:sap.m.P13nPanelType.filter,title:this.getTitleText(),items:{path:'/transientData/filter/items',template:new sap.m.P13nItem({columnKey:'{columnKey}',text:'{text}',tooltip:'{tooltip}',maxLength:'{maxLength}',type:'{type}',isDefault:'{isDefault}'})},filterItems:{path:'/persistentData/filter/filterItems',factory:function(I,a){var f=a.getProperty(a.sPath);var v,V,b;v=f.value1;V=f.value2;if(v instanceof Date){b=sap.ui.core.format.DateFormat.getDateInstance();}else if(typeof v==='number'){b=sap.ui.core.format.NumberFormat.getFloatInstance();}if(b){v=v?b.format(v):v;V=V?b.format(V):V;}return new P({key:f.key,columnKey:f.columnKey,exclude:f.exclude,operation:f.operation,value1:v,value2:V});}},beforeNavigationTo:t.setModelFunction(t.getModel())});o.attachUpdateFilterItem(function(e){var d=this.getModel().getData();var a=e.getParameters();var f=a.filterItemData;d.persistentData.filter.filterItems.some(function(b,I){if(b.key===a.key){d.persistentData.filter.filterItems[I]=f;return true;}return false;},this);},this);o.attachAddFilterItem(function(e){var d=this.getModel().getData();var a=e.getParameters();var f=a.filterItemData;d.persistentData.filter.filterItems.forEach(function(b,I){if(b.key===a.key){d.persistentData.filter.filterItems[I]=f;f=null;}},this);if(f){d.persistentData.filter.filterItems.push(f);}this.getModel().setData(d,true);},this);o.attachRemoveFilterItem(function(e){var a=e.getParameters();var d=this.getModel().getData();d.persistentData.filter.filterItems.some(function(f,I){if(f.key===a.key){d.persistentData.filter.filterItems.splice(I,1);this.getModel().setData(d,true);return true;}return false;},this);},this);return o;};F.prototype.syncJsonModel2Table=function(j){var t=this.getTable();var C=t.getColumns();var a=q.extend(true,[],C);this.fireBeforePotentialTableChange();if(t instanceof sap.ui.table.Table){j.filter.filterItems.forEach(function(f){var o=sap.ui.comp.personalization.Util.getColumn(f.columnKey,C);if(o){if(!o.getFiltered()){o.setFiltered(true);}a.splice(a.indexOf(o),1);}});a.forEach(function(o){if(o&&o.getFiltered()){o.setFiltered(false);}});}this.fireAfterPotentialTableChange();};F.prototype.getChangeType=function(p,o){if(!o||!o.filter||!o.filter.filterItems){return sap.ui.comp.personalization.Controller.ChangeType.Unchanged;}var i=JSON.stringify(p.filter.filterItems)!==JSON.stringify(o.filter.filterItems);return i?sap.ui.comp.personalization.Controller.ChangeType.ModelChanged:sap.ui.comp.personalization.Controller.ChangeType.Unchanged;};F.prototype.getChangeData=function(p,o){if(!p||!p.filter||!p.filter.filterItems){return this.createPersistentStructure();}if(!o||!o.filter||!o.filter.filterItems){return{filter:sap.ui.comp.personalization.Util.copy(p.filter)};}if(JSON.stringify(p.filter.filterItems)!==JSON.stringify(o.filter.filterItems)){return{filter:sap.ui.comp.personalization.Util.copy(p.filter)};}return null;};F.prototype.getUnionData=function(p,o){if(!p||!p.filter||!p.filter.filterItems){return this.createPersistentStructure();}if(!o||!o.filter||!o.filter.filterItems){return{filter:sap.ui.comp.personalization.Util.copy(p.filter)};}return{filter:sap.ui.comp.personalization.Util.copy(o.filter)};};F.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t&&t instanceof sap.ui.table.Table){t.detachFilter(this._onFilter,this);}};return F;},true);\n",
	"sap/ui/comp/personalization/GroupController.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/P13nGroupItem','sap/m/P13nGroupPanel','./BaseController'],function(q,P,c,B){'use strict';var G=B.extend('sap.ui.comp.personalization.GroupController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.group);},metadata:{events:{afterGroupModelDataChange:{}}}});G.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(t instanceof sap.ui.table.AnalyticalTable||t instanceof sap.ui.table.Table){t.detachGroup(this._onGroup,this);t.attachGroup(this._onGroup,this);}};G.prototype.getTitleText=function(){return sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('PERSODIALOG_TAB_GROUP');};G.prototype._getTable2Json=function(){var j=this.createPersistentStructure();var t=this.getTable();if(t){var C=[];if(t instanceof sap.ui.table.Table&&t.getGroupBy){C=t.getGroupBy()||[];if(typeof C==='string'){C=[C];}}if(t instanceof sap.ui.table.AnalyticalTable&&t.getGroupedColumns){C=t.getGroupedColumns()||[];}C.forEach(function(o,i){if(typeof o==='string'){o=sap.ui.getCore().byId(o);}if(o.getGrouped()){j.group.groupItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(o),operation:o.getSortOrder&&o.getSortOrder()===sap.ui.table.SortOrder.Ascending?sap.m.P13nConditionOperation.GroupAscending:sap.m.P13nConditionOperation.GroupDescending,showIfGrouped:o.getShowIfGrouped?o.getShowIfGrouped():false});}},this);}return j;};G.prototype.syncTable2TransientModel=function(){var t=this.getTable();var i=[];if(t){if(t instanceof sap.ui.table.AnalyticalTable||t instanceof sap.ui.table.Table){t.getColumns().forEach(function(C){if(sap.ui.comp.personalization.Util.isGroupable(C)){i.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(C),text:C.getLabel().getText(),tooltip:(C.getTooltip()instanceof sap.ui.core.TooltipBase)?C.getTooltip().getTooltip_Text():C.getTooltip_Text()});}},this);}if(t instanceof sap.m.Table){t.getColumns().forEach(function(C){if(sap.ui.comp.personalization.Util.isGroupable(C)){i.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(C),text:C.getHeader().getText(),tooltip:(C.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?C.getHeader().getTooltip().getTooltip_Text():C.getHeader().getTooltip_Text()});}},this);}}var l;try{l=sap.ui.getCore().getConfiguration().getLocale().toString();}catch(e){l=null;}if(l){i.sort(function(a,b){return a.text.localeCompare(b.text,l,{numeric:true});});}i.splice(0,0,{key:null,text:'(none)'});var g=this.getModel().getData().transientData.group.items;if(q(i).not(g).length!==0||q(g).not(i).length!==0){this.getModel().getData().transientData.group.items=i;}};G.prototype._onGroup=function(e){var t=this.getTable();var g=e.mParameters.groupedColumns;this.fireBeforePotentialTableChange();var d=this.getModel().getData();d.persistentData.group.groupItems=[];g.forEach(function(C,i){if(typeof C==='string'){C=sap.ui.getCore().byId(C);}if(t&&t instanceof sap.ui.table.AnalyticalTable){if(C.getGrouped()){d.persistentData.group.groupItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(C),showIfGrouped:C.getShowIfGrouped?C.getShowIfGrouped():false});}}else if(t&&t instanceof sap.ui.table.Table){d.persistentData.group.groupItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(C),showIfGrouped:false});}},this);this.fireAfterPotentialTableChange();this.fireAfterGroupModelDataChange();};G.prototype._hasTableGroupableColumns=function(){var t=this.getTable();if(!t){return false;}var h=false;t.getColumns().some(function(C){if(sap.ui.comp.personalization.Util.isGroupable(C)){h=true;return true;}});return h;};G.prototype.getPanel=function(){if(!this._hasTableGroupableColumns()){return null;}var t=this;var p=new c({maxGroups:this.getTable()instanceof sap.ui.table.AnalyticalTable?'-1':'1',type:sap.m.P13nPanelType.group,title:this.getTitleText(),containerQuery:true,layoutMode:'Desktop',items:{path:'/transientData/group/items',template:new sap.m.P13nItem({columnKey:'{columnKey}',text:'{text}',tooltip:'{tooltip}'})},groupItems:{path:'/persistentData/group/groupItems',template:new P({columnKey:'{columnKey}',operation:'{operation}',showIfGrouped:'{showIfGrouped}'})},beforeNavigationTo:t.setModelFunction(t.getModel())});p.attachAddGroupItem(function(e){var d=this.getModel().getData();var a=e.getParameters();var g={columnKey:a.groupItemData.getColumnKey(),operation:a.groupItemData.getOperation(),showIfGrouped:a.groupItemData.getShowIfGrouped()};if(a.index>=0){d.persistentData.group.groupItems.splice(a.index,0,g);}else{d.persistentData.group.groupItems.push(g);}this.getModel().setData(d,true);},this);p.attachRemoveGroupItem(function(e){var a=e.getParameters();var d=this.getModel().getData();d.persistentData.group.groupItems.splice(a.index,1);},this);return p;};G.prototype.syncJsonModel2Table=function(j){var t=this.getTable();var C=t.getColumns();var a=q.extend(true,[],C);this.fireBeforePotentialTableChange();if(t instanceof sap.ui.table.AnalyticalTable){j.group.groupItems.forEach(function(g){var o=sap.ui.comp.personalization.Util.getColumn(g.columnKey,C);if(!o){return;}if(!o.getGrouped()){o.setGrouped(true);}if(o.setShowIfGrouped()!==g.showIfGrouped){o.setShowIfGrouped(g.showIfGrouped);}a.splice(a.indexOf(o),1);});a.forEach(function(o){if(o&&o.getGrouped()){o.setGrouped(false);o.setShowIfGrouped(false);}});}else if(t instanceof sap.ui.table.Table){if(j.group.groupItems.length>0){j.group.groupItems.some(function(g){var o=sap.ui.comp.personalization.Util.getColumn(g.columnKey,C);if(o){t.setGroupBy(o);return true;}return false;},this);}else{t.setGroupBy(null);}}this.fireAfterPotentialTableChange();};G.prototype.getChangeType=function(p,o){if(!o||!o.group||!o.group.groupItems){return sap.ui.comp.personalization.Controller.ChangeType.Unchanged;}var i=JSON.stringify(p.group.groupItems)!==JSON.stringify(o.group.groupItems);return i?sap.ui.comp.personalization.Controller.ChangeType.ModelChanged:sap.ui.comp.personalization.Controller.ChangeType.Unchanged;};G.prototype.getChangeData=function(p,o){if(!p||!p.group||!p.group.groupItems){return this.createPersistentStructure();}if(!o||!o.group||!o.group.groupItems){return{group:sap.ui.comp.personalization.Util.copy(p.group)};}if(JSON.stringify(p.group.groupItems)!==JSON.stringify(o.group.groupItems)){return{group:sap.ui.comp.personalization.Util.copy(p.group)};}return null;};G.prototype.getUnionData=function(p,o){if(!o||!o.group||!o.group.groupItems){return{group:sap.ui.comp.personalization.Util.copy(p.group)};}return{group:sap.ui.comp.personalization.Util.copy(o.group)};};G.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t&&(t instanceof sap.ui.table.AnalyticalTable||t instanceof sap.ui.table.Table)){t.detachGroup(this._onGroup,this);}};return G;},true);\n",
	"sap/ui/comp/personalization/SortController.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2014 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','./BaseController'],function(q,B){'use strict';var S=B.extend('sap.ui.comp.personalization.SortController',{constructor:function(i,s){B.apply(this,arguments);this.setType(sap.m.P13nPanelType.sort);},metadata:{events:{afterSortModelDataChange:{}}}});S.prototype.setTable=function(t){B.prototype.setTable.apply(this,arguments);if(t instanceof sap.ui.table.Table){t.detachSort(this._onSort,this);t.attachSort(this._onSort,this);}};S.prototype.getTitleText=function(){return sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('PERSODIALOG_TAB_SORT');};S.prototype._getTable2Json=function(){var j=this.createPersistentStructure();var t=this.getTable();if(t){if(t instanceof sap.ui.table.Table){t.getColumns().forEach(function(c){if(c.getSorted()){j.sort.sortItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(c),operation:c.getSortOrder()});}},this);}}return j;};S.prototype.syncTable2TransientModel=function(){var t=this.getTable();var i=[];if(t){if(t instanceof sap.ui.table.Table){t.getColumns().forEach(function(c){if(sap.ui.comp.personalization.Util.isSortable(c)){i.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(c),text:c.getLabel().getText(),tooltip:(c.getTooltip()instanceof sap.ui.core.TooltipBase)?c.getTooltip().getTooltip_Text():c.getTooltip_Text()});}});}if(t instanceof sap.m.Table){t.getColumns().forEach(function(c){if(sap.ui.comp.personalization.Util.isSortable(c)){i.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(c),text:c.getHeader().getText(),tooltip:(c.getHeader().getTooltip()instanceof sap.ui.core.TooltipBase)?c.getHeader().getTooltip().getTooltip_Text():c.getHeader().getTooltip_Text()});}},this);}}var l;try{l=sap.ui.getCore().getConfiguration().getLocale().toString();}catch(e){l=null;}if(l){i.sort(function(a,b){return a.text.localeCompare(b.text,l,{numeric:true});});}i.splice(0,0,{key:null,text:'(none)'});var I=this.getModel().getData().transientData.sort.items;if(q(i).not(I).length!==0||q(I).not(i).length!==0){this.getModel().getData().transientData.sort.items=i;}};S.prototype._onSort=function(e){e.preventDefault();var a=e.mParameters.columnAdded;var t=this.getTable();if(typeof t==='string'){t=sap.ui.getCore().byId(t);}this.fireBeforePotentialTableChange();if(!a){t.getColumns().forEach(function(c,b){if(c.setSorted){c.setSorted(false);}},this);}var c=e.mParameters.column;if(c&&c.setSorted){c.setSorted(true);c.setSortOrder(e.mParameters.sortOrder);}var s=this.getModel().getData().persistentData.sort;if(!a){s.sortItems=[];}var i=sap.ui.comp.personalization.Util.getIndexByKey(s.sortItems,sap.ui.comp.personalization.Util.getColumnKey(c));if(i>-1){s.sortItems.splice(i,1);}s.sortItems.push({columnKey:sap.ui.comp.personalization.Util.getColumnKey(c),operation:e.mParameters.sortOrder});this.fireAfterPotentialTableChange();this.fireAfterSortModelDataChange();};S.prototype._hasTableSortableColumns=function(){var t=this.getTable();if(!t){return false;}var h=false;t.getColumns().some(function(c){if(sap.ui.comp.personalization.Util.isSortable(c)){h=true;return true;}});return h;};S.prototype.getPanel=function(){if(!this._hasTableSortableColumns()){return null;}var t=this;var p=new sap.m.P13nSortPanel({type:sap.m.P13nPanelType.sort,title:this.getTitleText(),containerQuery:true,layoutMode:'Desktop',items:{path:'/transientData/sort/items',template:new sap.m.P13nItem({columnKey:'{columnKey}',text:'{text}',tooltip:'{tooltip}',maxLength:'{maxlength}',type:'{type}'})},sortItems:{path:'/persistentData/sort/sortItems',template:new sap.m.P13nSortItem({columnKey:'{columnKey}',operation:'{operation}'})},beforeNavigationTo:t.setModelFunction(t.getModel())});p.attachAddSortItem(function(e){var d=this.getModel().getData();var a=e.getParameters();var s={columnKey:a.sortItemData.getColumnKey(),operation:a.sortItemData.getOperation()};if(a.index>=0){d.persistentData.sort.sortItems.splice(a.index,0,s);}else{d.persistentData.sort.sortItems.push(s);}this.getModel().setData(d,true);},this);p.attachRemoveSortItem(function(e){var a=e.getParameters();var d=this.getModel().getData();d.persistentData.sort.sortItems.splice(a.index,1);},this);return p;};S.prototype.syncJsonModel2Table=function(j){var t=this.getTable();var c=t.getColumns();var C=q.extend(true,[],c);this.fireBeforePotentialTableChange();if(t instanceof sap.ui.table.Table){j.sort.sortItems.forEach(function(s){var o=sap.ui.comp.personalization.Util.getColumn(s.columnKey,c);if(!o){return;}if(!o.getSorted()){o.setSorted(true);}if(o.getSortOrder()!==s.operation){o.setSortOrder(s.operation);}C.splice(C.indexOf(o),1);});C.forEach(function(o){if(o&&o.getSorted()){o.setSorted(false);}});}this.fireAfterPotentialTableChange();};S.prototype.getChangeType=function(p,P){if(!P||!P.sort||!P.sort.sortItems){return sap.ui.comp.personalization.Controller.ChangeType.Unchanged;}var i=JSON.stringify(p.sort.sortItems)!==JSON.stringify(P.sort.sortItems);return i?sap.ui.comp.personalization.Controller.ChangeType.ModelChanged:sap.ui.comp.personalization.Controller.ChangeType.Unchanged;};S.prototype.getChangeData=function(p,P){if(!p||!p.sort||!p.sort.sortItems){return{sort:{sortItems:[]}};}if(!P||!P.sort||!P.sort.sortItems){return{sort:sap.ui.comp.personalization.Util.copy(p.sort)};}if(JSON.stringify(p.sort.sortItems)!==JSON.stringify(P.sort.sortItems)){return{sort:sap.ui.comp.personalization.Util.copy(p.sort)};}return null;};S.prototype.getUnionData=function(p,P){if(!P||!P.sort||!P.sort.sortItems){return{sort:sap.ui.comp.personalization.Util.copy(p.sort)};}return{sort:sap.ui.comp.personalization.Util.copy(P.sort)};};S.prototype.exit=function(){B.prototype.exit.apply(this,arguments);var t=this.getTable();if(t&&t instanceof sap.ui.table.Table){t.detachSort(this._onSort,this);}};return S;},true);\n",
	"sap/ui/comp/personalization/Util.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/base/Object'],function(B){'use strict';var U={copy:function(o){if(o instanceof Array){return jQuery.extend(true,[],o);}return jQuery.extend(true,{},o);},sort:function(k,A){var r=this.copy(A);r.sort(function(a,b){var t=a[k].toLocaleLowerCase();var T=b[k].toLocaleLowerCase();if(t<T){return-1;}if(t>T){return 1;}return 0;});return r;},semanticEqual:function(i,I){if(!i||!I){return false;}for(var p in i){if(I[p]===undefined||i[p]!==I[p]){return false;}}return true;},hasChangedType:function(c){for(var t in c){if(c[t]===sap.ui.comp.personalization.Controller.ChangeType.ModelChanged||c[t]===sap.ui.comp.personalization.Controller.ChangeType.TableChanged){return true;}}return false;},isTrueForAll:function(o){for(var t in o){if(o[t]===false){return false;}}return true;},getColumn:function(c,C){var r=null;C.some(function(o){if(this.getColumnKey(o)===c){r=o;return true;}},this);return r;},getIndexByKey:function(m,c){var I=-1;m.some(function(M,i){if(M.columnKey===c){I=i;return true;}});return I;},getColumnKey:function(c){return this._getCustomProperty(c,'columnKey')||c.getId();},getColumnType:function(c){return this._getCustomProperty(c,'type');},isGroupable:function(c){if(c.getLeadingProperty&&c.getLeadingProperty()){if(this._getCustomProperty(c,'aggregationRole')!=='measure'){return true;}}if(this._getCustomProperty(c,'leadingProperty')){if(this._getCustomProperty(c,'aggregationRole')!=='measure'){return true;}}if(c instanceof sap.ui.table.Column){return c.getParent().getEnableGrouping();}return false;},isSortable:function(c){if(c.getSortProperty){if(c.getSortProperty()){return true;}}if(this._getCustomProperty(c,'sortProperty')){return true;}return false;},isFilterable:function(c){if(c.getFilterProperty){if(c.getFilterProperty()){return true;}}if(this._getCustomProperty(c,'filterProperty')){return true;}return false;},isConsistent:function(c){if(!c||!c.length){return true;}var C=true;var p=sap.ui.comp.personalization.Util.getColumnKey(c[0])!==c[0].getId();c.some(function(o){var P=sap.ui.comp.personalization.Util.getColumnKey(o)!==o.getId();if(P!==p){C=false;return true;}});return C;},getArrayElementByKey:function(k,K,a){if(!a||!a.length){return null;}var e=null;a.some(function(E){if(E[k]!==undefined&&E[k]===K){e=E;return true;}});return e;},_getCustomProperty:function(c,p){var C=this._getCustomData(c);if(!C||!p){return null;}return C[p];},_getCustomData:function(c){if(!c){return null;}var C=c.data('p13nData');if(typeof C==='string'){try{C=JSON.parse(C);c.data('p13nData',C);}catch(e){}}return C;}};return U;},true);\n",
	"sap/ui/comp/providers/BaseValueListProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/smartfilterbar/ControlConfiguration','sap/ui/model/type/Date'],function(q,C,D){'use strict';var B=function(p){this.oControl=p.control;this.sValueListEntitySetName=null;this.sValueListEntityName=null;this.oODataModel=p.model;this.oFilterModel=p.filterModel;this.oFilterProvider=p.filterProvider;this.oPrimaryValueListAnnotation=p.annotation;this.sDisplayFormat=p.displayFormat;this.bResolveInOutParams=(p.resolveInOutParams===false)?false:true;this.sDisplayBehaviour=p.displayBehaviour;this.sDDLBDisplayBehaviour=this.sDisplayBehaviour;if(!this.sDDLBDisplayBehaviour||this.sDDLBDisplayBehaviour===C.DISPLAYBEHAVIOUR.auto){this.sDDLBDisplayBehaviour=this.oFilterProvider?this.oFilterProvider.sDefaultDropDownDisplayBehaviour:C.DISPLAYBEHAVIOUR.descriptionOnly;}this.sPropertyTypePath='';if(this.bResolveInOutParams&&!this.oFilterModel&&!this.oFilterProvider){this._resolvePropertyPath();}this._resolveAnnotationData(this.oPrimaryValueListAnnotation);if(!sap.ui.comp.smartfilterbar||!sap.ui.comp.smartfilterbar.FilterProvider){q.sap.require('sap.ui.comp.smartfilterbar.FilterProvider');}};B.prototype=q.sap.newObject(sap.ui.base.Object.prototype);B.prototype._resolvePropertyPath=function(){var b=this.oControl.getBindingInfo('value'),p,P,a;if(b&&b.parts){p=b.parts[0]?b.parts[0].path:'';}if(p){a=p.split('/');if(a.length>1){P=a[a.length-1];this.sPropertyTypePath=p.replace('/'+P,'');}}};B.prototype._resolveAnnotationData=function(a){var l=0,i=0,c,f,t,T;if(this.oODataModel&&a){this.bSupportBasicSearch=a.isSearchSupported;this.sValueListTitle=a.valueListTitle||a.qualifier;this.sKey=a.keyField;this._aKeys=a.keys;this.sValueListEntitySetName=a.valueListEntitySetName;this.sValueListEntityName=a.valueListEntityName;this.mInParams=a.inParams;this.mOutParams=a.outParams;this.sTokenDisplayBehaviour=this.sDisplayBehaviour;if(!this.sTokenDisplayBehaviour||this.sTokenDisplayBehaviour===C.DISPLAYBEHAVIOUR.auto){this.sTokenDisplayBehaviour=this.oFilterProvider?this.oFilterProvider.sDefaultTokenDisplayBehaviour:C.DISPLAYBEHAVIOUR.descriptionAndId;}if(!a.descriptionField){this.sTokenDisplayBehaviour=C.DISPLAYBEHAVIOUR.idOnly;}this.sDescription=a.descriptionField||this.sKey;if(this.sValueListEntitySetName&&this.sKey){this._aCols=[];this.aSelect=[];c=a.valueListFields;l=c.length;for(i=0;i<l;i++){f=c[i];t=null;T=null;if(f.type==='Edm.Boolean'){t='boolean';}else if(f.type==='Edm.DateTime'&&f.displayFormat==='Date'){t='date';T=new D();}else if(f.type==='Edm.Decimal'){t='decimal';T=new sap.ui.model.type.Float();}else if(f.type==='Edm.String'){t='string';}this._aCols.push({label:f.fieldLabel,type:t,oType:T,width:this._getWidth(f),template:f.name});this.aSelect.push(f.name);}if(a.descriptionField){this.aSelect.push(a.descriptionField);}}}};B.prototype._getWidth=function(f){var w=f.maxLength||f.precision,W;if(f.type==='Edm.DateTime'&&f.displayFormat==='Date'){w='8em';}else if(w){W=parseInt(w,10);if(!isNaN(W)){if(W>15){W=15;}if(W<=1){W=1.5;}w=W+0.75+'em';}}return w;};B.prototype._calculateFilterInputData=function(){var l,v,d=null;delete this.mFilterInputData;if(this.oFilterProvider&&this.oFilterProvider._oSmartFilter){d=this.oFilterProvider._oSmartFilter.getFilterData();}else if(this.oFilterModel){d=this.oFilterModel.getData();}else if(this.oODataModel&&this.bResolveInOutParams){d=this.oODataModel.getData(this.sPropertyTypePath,this.oControl.getBindingContext());}if(this.mInParams&&d){this.mFilterInputData={};this.aFilterField=[];for(l in this.mInParams){if(l){v=this.mInParams[l];if(v!==this.sKey){if(d[l]){this.mFilterInputData[v]=d[l];this.aFilterField.push(v);}}}}}};B.prototype._calculateAndSetFilterOutputData=function(d){var l,v,f=null,o,e,n,i,F;if(this.mOutParams&&d&&(this.oFilterProvider||this.oFilterModel)){f={};F=function(a){return a.key===n.key;};for(l in this.mOutParams){if(l){v=this.mOutParams[l];if(v!==this.sKey){i=d.length;while(i--){o=d[i];if(o[v]){n={key:o[v]};if(!f[l]){if(!e&&this.oFilterModel){e=this.oFilterModel.getData();}if(e&&e[l]&&e[l].items){f[l]=e[l];}else{f[l]={items:[]};}}if(f[l].items.filter(F).length<=0){f[l].items.push(n);}}}}}}if(f){if(this.oFilterProvider){this.oFilterProvider.setFilterData(f);}else if(this.oFilterModel){this.oFilterModel.setData(f,true);}}}else if(this.oODataModel&&this.bResolveInOutParams){this._calculateAndSetODataModelOutputData(d[0]);}};B.prototype._calculateAndSetODataModelOutputData=function(d){var b,l,v,p,L,V;if(d&&this.mOutParams){b=this.oControl.getBindingContext();for(l in this.mOutParams){if(l){v=this.mOutParams[l];if(v!==this.sKey){V=d[v];if(V){p=this.sPropertyTypePath?this.sPropertyTypePath+'/'+l:l;L=this.oODataModel.resolve(p,b);this.oODataModel.setProperty(L,V);}}}}}};B.prototype.destroy=function(){sap.ui.base.Object.prototype.destroy.apply(this,arguments);this.oControl=null;this.mFilterInputData=null;this.aFilterField=null;this.sValueListEntitySetName=null;this.sValueListEntityName=null;this.oODataModel=null;this.oFilterModel=null;this.oFilterProvider=null;this.oPrimaryValueListAnnotation=null;this.sDisplayFormat=null;this.bSupportBasicSearch=null;this.sValueListTitle=null;this.sKey=null;this._aKeys=null;this.mInParams=null;this.mOutParams=null;this.sDescription=null;this.aSelect=null;this._aCols=null;this.sDDLBDisplayBehaviour=null;this.sTokenDisplayBehaviour=null;this.bIsDestroyed=true;};return B;},true);\n",
	"sap/ui/comp/providers/ControlProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/HBox','sap/m/Input','sap/m/Text','sap/ui/comp/navpopover/SmartLink','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/smartfield/ODataHelper','sap/ui/comp/smartfield/SmartField','sap/ui/model/type/Date','sap/ui/model/type/DateTime','sap/ui/model/type/Float'],function(q,C,a,D,H,I,T,S,M,O,b,c,d,F){'use strict';var e=function(p){if(p){this._oParentODataModel=p.model;this._oMetadataAnalyser=p.metadataAnalyser;this._aODataFieldMetadata=p.fieldsMetadata;this._oDateFormatSettings=p.dateFormatSettings;this._oCurrencyFormatSettings=p.currencyFormatSettings;this._oDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour;this.useSmartField=p.useSmartField==='true';this._sEntitySet=p.entitySet;}if(!this._oMetadataAnalyser&&this._oParentODataModel){this._oMetadataAnalyser=new M(this._oParentODataModel);this._intialiseMetadata();}this._mSmartField={};this._oHelper=new O(this._oMetadataAnalyser.oModel);this._aValueListProvider=[];this._aValueHelpProvider=[];};e.prototype._intialiseMetadata=function(){if(!this._aODataFieldMetadata){this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntity);}};e.prototype.getFieldViewMetadata=function(f,i){var o=this._createFieldMetadata(f);this._createFieldTemplate(o,i);return o;};e.prototype._createFieldTemplate=function(v,i){if(this.useSmartField){v.template=new b({value:{path:v.name},entitySet:this._sEntitySet,editable:{path:'sm4rtM0d3l>/editable',mode:'OneWay'}});this._completeSmartField(v);}else{if(i){v.template=this._createEditableTemplate(v);}else{v.template=this._createDisplayOnlyTemplate(v);}}};e.prototype._completeSmartField=function(v){var o={annotations:{},path:v.name,namespace:this._oMetadataAnalyser.getNamespace()};if(!this._mSmartField.entitySetObject){this._mSmartField.entitySetObject=this._oHelper.getEntitySet(this._sEntitySet);this._mSmartField.entityType=this._oHelper.getEntityType(this._mSmartField.entitySetObject.entityType.replace(o.namespace+'.',''));}o.modelObject=this._oParentODataModel;o.entitySetObject=this._mSmartField.entitySetObject;o.entityType=this._mSmartField.entityType;o.property=this._oHelper.getProperty(o.path,o.namespace,o.entityType.count);o.annotations.uom=this._oHelper.getUnitOfMeasure(o.property,o.path,o.namespace,o.entityType.count);o.annotations.text=this._oHelper.getTextProperty(o.property,o.path,o.namespace,o.entityType.count);o.annotations.lineitem=this._oMetadataAnalyser.getLineItemAnnotation(o.entitySetObject.entityType);o.annotations.semantic=this._oMetadataAnalyser.getSemanticObjectAnnotation(o.namespace+'.'+o.entityType.type.name+'/'+o.property.property.name);o.annotations.valuelist=this._oHelper.getValueListAnnotation(o.namespace,o.entityType.type,o.property,o.property.typePath);this._oHelper.getUOMValueListAnnotation(o);this._oHelper.geValueListEntitySet(o);v.template.data('configdata',{'configdata':o});v.template.data('dateFormatSettings',this._oDateFormatSettings);v.template.data('currencyFormatSettings',this._oCurrencyFormatSettings);v.template.data('defaultDropDownDisplayBehaviour',this._oDefaultDropDownDisplayBehaviour);};e.prototype._createEditableTemplate=function(v,B){var t=null,o;if(v.type==='Edm.DateTime'||v.type==='Edm.DateTimeOffset'){if(v.displayFormat==='Date'){t=new D({dateValue:{path:v.name}});}else{o=new d();}}else if(v.type==='Edm.Decimal'){o=new F();}else if(v.type==='Edm.Boolean'){t=new C({selected:{path:v.name}});}if(v.semanticObject&&(!B)){t=this._createSmartLinkFieldTemplate(v,o,q.proxy(function(){return this._createEditableTemplate(v,true);},this));}if(!t){t=new I({value:{path:v.name,type:o}});if(v.isCurrencyField){t.bindProperty('description',{path:v.unit});t.setTextAlign('End');t.setFieldWidth('80%');}if(v.oValueListAnnotation){this._associateValueHelpAndSuggest(t,v);}}return t;};e.prototype._associateValueHelpAndSuggest=function(o,f){o.setShowValueHelp(true);this._aValueHelpProvider.push(new sap.ui.comp.providers.ValueHelpProvider({annotation:f.oValueListAnnotation,additionalAnnotations:f.additionalAnnotations,control:o,model:this._oParentODataModel,preventInitialDataFetchInValueHelpDialog:true,takeOverInputValue:false,fieldName:f.fieldName,type:f.type,maxLength:f.maxLength,displayFormat:f.displayFormat,displayBehaviour:f.displayBehaviour,title:f.label}));o.setShowSuggestion(true);o.setFilterSuggests(false);this._aValueListProvider.push(new sap.ui.comp.providers.ValueListProvider({annotation:f.oValueListAnnotation,control:o,model:this._oParentODataModel,typeAheadEnabled:true,aggregation:'suggestionRows',displayFormat:f.displayFormat}));};e.prototype._createDisplayOnlyTemplate=function(v,B){var t=null,o=null,A;if(v.type==='Edm.DateTime'||v.type==='Edm.DateTimeOffset'){if(v.displayFormat==='Date'){o=new c(this._oDateFormatSettings);}else{o=new d();}}else if(v.type==='Edm.Decimal'){o=new F();A='End';}if(v.isCurrencyField){t=this._createCurrencyFieldTemplate(v);}else if(v.semanticObject&&(!B)){t=this._createSmartLinkFieldTemplate(v,o,q.proxy(function(){return this._createDisplayOnlyTemplate(v,true);},this));}else{t=new T({wrapping:false,textAlign:A,text:{path:v.name,type:o}});}v.align=A;return t;};e.prototype._createSmartLinkFieldTemplate=function(v,t,f){var o=new S({semanticObject:v.semanticObject,semanticObjectLabel:v.label,fieldName:v.name,text:{path:v.name,type:t}});o.setCreateControlCallback(f);return o;};e.prototype._createCurrencyFieldTemplate=function(v){var t,V,o;if(!this._oCurrencyFormatter){q.sap.require('sap.ui.core.format.NumberFormat');this._oCurrencyFormatter=sap.ui.core.format.NumberFormat.getCurrencyInstance({showMeasure:false});this._FIGURE_SPACE='\\u2007';this._PUNCTUATION_SPACE='\\u2008';this._iMaxCurrencyDigits=3;this._fCurrencyFormatter=q.proxy(function(A,s){var f,i,p;if(A===undefined||A===null||!s||s==='*'){return'';}i=this._oCurrencyFormatter.oLocaleData.getCurrencyDigits(s);f=this._oCurrencyFormatter.format(A,s);if(i===0){f+=this._PUNCTUATION_SPACE;}p=this._iMaxCurrencyDigits-i;if(p){f=q.sap.padRight(f,this._FIGURE_SPACE,f.length+p);}return f;},this);if(this._oCurrencyFormatSettings&&this._oCurrencyFormatSettings.showCurrencySymbol){this._fCurrencySymbolFormatter=q.proxy(function(s){if(!s||s==='*'){return'';}return this._oCurrencyFormatter.oLocaleData.getCurrencySymbol(s);},this);}}V=new T({wrapping:false,textAlign:'End',text:{parts:[{path:v.name,type:new F()},{path:v.unit}],formatter:this._fCurrencyFormatter,useRawValues:true}});o=new T({wrapping:false,textAlign:'Begin',width:'2.5em',text:{path:v.unit,formatter:this._fCurrencySymbolFormatter}});t=new H({justifyContent:'End',items:[V,o]});return t;};e.prototype._createFieldMetadata=function(f){var o={};o.fullName=f.fullName;o.type=f.type;o.name=f.name;o.displayFormat=f.displayFormat;o.maxLength=f.maxLength;o.precision=f.precision;o.scale=f.scale;o.sortable=f.sortable;o.filterable=f.filterable;o.label=f.fieldLabel||f.name;o.quickInfo=f.quickInfo||o.label;o.aggregationRole=f.aggregationRole;o.unit=f.unit;o.isCurrencyField=this._isCurrencyField(f);o.filterType=this._getFilterType(f);o.entityName=f.entityName;this._setAnnotationMetadata(o);return o;};e.prototype._setAnnotationMetadata=function(f){var A=null;if(!this.useSmartField&&f&&f.fullName){A=this._oMetadataAnalyser.getValueListAnnotation(f.fullName);if(A){f.oValueListAnnotation=A.primaryValueListAnnotation;f.additionalAnnotations=A.additionalAnnotations;}A=this._oMetadataAnalyser.getSemanticObjectAnnotation(f.fullName);if(A){f.semanticObject=A.semanticObject;}}};e.prototype._isCurrencyField=function(f){var i=false,o,l,u;if(!this.useSmartField&&this._aODataFieldMetadata){l=this._aODataFieldMetadata.length;while(l--){o=this._aODataFieldMetadata[l];if(o.name===f.unit){u=o;break;}}if(u&&u.semantics==='currency-code'){i=true;}}return i;};e.prototype._getFilterType=function(f){if(f.type==='Edm.Decimal'){return'numeric';}else if(f.type==='Edm.DateTime'&&f.displayFormat==='Date'){return'date';}return undefined;};e.prototype.destroy=function(){var i;if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(this._aValueHelpProvider){i=this._aValueHelpProvider.length;while(i--){this._aValueHelpProvider[i].destroy();}}this._aValueHelpProvider=null;if(this._aValueListProvider){i=this._aValueListProvider.length;while(i--){this._aValueListProvider[i].destroy();}}if(this._oHelper){this._oHelper.destroy();}this._oHelper=null;this._mSmartField=null;this._aValueListProvider=null;this._aODataFieldMetadata=null;this._oCurrencyFormatter=null;this.bIsDestroyed=true;};return e;},true);\n",
	"sap/ui/comp/providers/TableProvider.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/MetadataAnalyser','./ControlProvider'],function(q,M,C){'use strict';var T=function(p){if(p){this._oParentODataModel=p.model;this.sEntitySet=p.entitySet;this._sIgnoredFields=p.ignoredFields;this.isEditableTable=p.isEditableTable;this.useSmartField=p.useSmartField;try{this._oDateFormatSettings=p.dateFormatSettings?JSON.parse(p.dateFormatSettings):undefined;this._oCurrencyFormatSettings=p.currencyFormatSettings?JSON.parse(p.currencyFormatSettings):undefined;this._oDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour;}catch(e){}}this._aODataFieldMetadata=[];this._aTableViewMetadata=[];this._aIgnoredFields=[];this._oMetadataAnalyser=new M(this._oParentODataModel);this._intialiseMetadata();};T.prototype._intialiseMetadata=function(){var t=[],i,l=0,f,o,s,S;this._aODataFieldMetadata=this._oMetadataAnalyser.getFieldsByEntitySetName(this.sEntitySet);this._oLineItemAnnotation=this._oMetadataAnalyser.getLineItemAnnotation(this._oMetadataAnalyser.getEntityTypeNameFromEntitySetName(this.sEntitySet));S=this._oMetadataAnalyser.getEntityContainerAttribute('supported-formats');if(S){this._bSupportsExcelExport=S.indexOf('xlsx')>-1;}this._generateIgnoredFieldsArray();if(this._aODataFieldMetadata){l=this._aODataFieldMetadata.length;}this._oControlProvider=new C({metadataAnalyser:this._oMetadataAnalyser,model:this._oParentODataModel,fieldsMetadata:this._aODataFieldMetadata,dateFormatSettings:this._oDateFormatSettings,currencyFormatSettings:this._oCurrencyFormatSettings,defaultDropDownDisplayBehaviour:this._oDefaultDropDownDisplayBehaviour,useSmartField:this.useSmartField,entitySet:this.sEntitySet});this._oFieldSemanticObjectMap={};for(i=0;i<l;i++){f=this._aODataFieldMetadata[i];if(this._aIgnoredFields.indexOf(f.name)>-1||!f.visible){continue;}o=this._oControlProvider.getFieldViewMetadata(f,this.isEditableTable);this._enrichWithTableViewMetadata(f,o);t.push(o);if(o.semanticObject){this._oFieldSemanticObjectMap[o.name]=o.semanticObject;}}s=function(a,b){if(a.index||a.index===0){if(b.index||b.index===0){return a.index-b.index;}return-1;}if(b.index||b.index===0){return 1;}return 0;};this._aTableViewMetadata=t.sort(s);};T.prototype.getFieldSemanticObjectMap=function(){return this._oFieldSemanticObjectMap;};T.prototype.getTableViewMetadata=function(){return this._aTableViewMetadata;};T.prototype.getSupportsExcelExport=function(){return this._bSupportsExcelExport;};T.prototype.getIsUTCDateHandlingEnabled=function(){return this._oDateFormatSettings?this._oDateFormatSettings.UTC:false;};T.prototype._generateIgnoredFieldsArray=function(){if(this._sIgnoredFields){this._aIgnoredFields=this._sIgnoredFields.split(',');}};T.prototype._enrichWithTableViewMetadata=function(f,F){this._updateLabel(F);F.isInitiallyVisible=this._isInitiallyVisible(f);F.index=this._getIndex(f);F.width=this._getWidth(f);F.summed=f.aggregationRole==='measure';};T.prototype._isInitiallyVisible=function(f){var i=false;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields){i=this._oLineItemAnnotation.fields.indexOf(f.name)>-1;}return i;};T.prototype._getIndex=function(f){var i;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.fields){i=this._oLineItemAnnotation.fields.indexOf(f.name);}if(i>-1){return i;}return undefined;};T.prototype._updateLabel=function(f){var l;if(this._oLineItemAnnotation&&this._oLineItemAnnotation.labels){l=this._oLineItemAnnotation.labels[f.name];}if(l){f.label=l;if(f.template&&f.template.setSemanticObjectLabel){f.template.setSemanticObjectLabel(f.label);}}};T.prototype._getWidth=function(f){var w=f.maxLength||f.precision,W;if(f.type==='Edm.DateTime'&&f.displayFormat==='Date'){w='9em';}else if(w){W=parseInt(w,10);if(!isNaN(W)){if(W>50){W=50;}if(W<=1){W=1.5;}w=W+0.75+'em';}}return w;};T.prototype.destroy=function(){if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;this._aODataFieldMetadata=null;this._aTableViewMetadata=null;this._aIgnoredFields=null;this.bIsDestroyed=true;};return T;},true);\n",
	"sap/ui/comp/providers/ValueHelpProvider.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/List','sap/m/PlacementType','sap/m/ResponsivePopover','sap/m/StandardListItem','./BaseValueListProvider','sap/ui/comp/valuehelpdialog/ValueHelpDialog','sap/ui/model/json/JSONModel'],function(q,L,P,R,S,B,V,J){'use strict';var a=function(p){if(p){this.preventInitialDataFetchInValueHelpDialog=p.preventInitialDataFetchInValueHelpDialog;this.isRangeOnlyDialog=!p.annotation;this.sTitle=p.title;this.sFieldName=p.fieldName;this.bSupportMultiselect=p.supportMultiSelect;this.bSupportRanges=p.supportRanges;this.bIsSingleIntervalRange=p.isSingleIntervalRange;this.bTakeOverInputValue=(p.takeOverInputValue===false)?false:true;if(this.bIsSingleIntervalRange){this.isRangeOnlyDialog=true;this.bSupportRanges=true;}if(p.type==='Edm.Decimal'){this._sType='numeric';}else if(p.type==='Edm.DateTime'&&p.displayFormat==='Date'){this._sType='date';}this._sMaxLength=p.maxLength;this.additionalAnnotations=p.additionalAnnotations;}B.apply(this,arguments);this._onInitialise();};a.prototype=q.sap.newObject(B.prototype);a.prototype._onInitialise=function(){if(this.oControl.attachValueHelpRequest){this._fVHRequested=q.proxy(function(e){this.oControl=e.getSource();this.bForceTriggerDataRetreival=e.getParameter('fromSuggestions');if(this.bTakeOverInputValue||this.bForceTriggerDataRetreival){this.sBasicSearchText=e.getSource().getValue();}this._createValueHelpDialog();},this);this.oControl.attachValueHelpRequest(this._fVHRequested);}};a.prototype._createValueHelpDialog=function(){if(!this.bCreated){this.bCreated=true;this.oValueHelpDialog=new sap.ui.comp.valuehelpdialog.ValueHelpDialog({basicSearchText:this.sBasicSearchText,supportRangesOnly:this.isRangeOnlyDialog,supportMultiselect:this.bSupportMultiselect,title:this.sTitle,supportRanges:this.bSupportRanges,displayFormat:this.sDisplayFormat,ok:q.proxy(this._onOK,this),cancel:q.proxy(this._onCancel,this),afterClose:q.proxy(function(){if(this.oPrimaryValueListAnnotation){this._resolveAnnotationData(this.oPrimaryValueListAnnotation);}this.oValueHelpDialog.destroy();this.bCreated=false;if(this.oControl&&this.oControl.focus){this.oControl.focus();}},this)});if(this.bIsSingleIntervalRange){this.oValueHelpDialog.setIncludeRangeOperations([sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ]);this.oValueHelpDialog.setMaxIncludeRanges(1);this.oValueHelpDialog.setMaxExcludeRanges(0);this._updateInitialInterval();}if(this.oControl.$()&&this.oControl.$().closest('.sapUiSizeCompact').length>0){this.oValueHelpDialog.addStyleClass('sapUiSizeCompact');}if(this.bSupportRanges){this.oValueHelpDialog.setRangeKeyFields([{label:this.sTitle,key:this.sFieldName,type:this._sType,maxLength:this._sMaxLength}]);}if(!this.isRangeOnlyDialog){this._createAdditionalValueHelpControls();this._createCollectiveSearchControls();this.oValueHelpDialog.setModel(this.oODataModel);}if(this.oControl.getTokens){var t=this.oControl.getTokens();this.oValueHelpDialog.setTokens(t);}if(this.bForceTriggerDataRetreival){this._rebindTable();this.bForceTriggerDataRetreival=false;}this.oValueHelpDialog.open();}};a.prototype._updateInitialInterval=function(){var i=this.oControl.getValue(),t,r,v;if(i){t=new sap.m.Token();r={exclude:false,keyField:this.sKey};v=i.split('-');if(v&&v.length===2){r.operation='BT';r.value1=v[0];r.value2=v[1];}else{r.operation='EQ';r.value1=i;}t.data('range',r);}if(t){this.oValueHelpDialog.setTokens([t]);}};a.prototype._createCollectiveSearchControls=function(){var p,l,I,i=0,b=0,o,A,r;if(this.additionalAnnotations&&this.additionalAnnotations.length){o=q.proxy(function(e){var s=e.getParameter('listItem'),c;p.close();if(s){c=s.data('_annotation');if(c){this._triggerAnnotationChange(c);}}},this);l=new L({mode:sap.m.ListMode.SingleSelectMaster,selectionChange:o});r=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');p=new R({placement:P.Bottom,showHeader:true,title:r.getText('COLLECTIVE_SEARCH_SELECTION_TITLE'),content:[l]});I=new S({title:this.oPrimaryValueListAnnotation.valueListTitle});I.data('_annotation',this.oPrimaryValueListAnnotation);l.addItem(I);l.setSelectedItem(I);this.oValueHelpDialog.oSelectionTitle.setText(' - '+this.oPrimaryValueListAnnotation.valueListTitle);b=this.additionalAnnotations.length;for(i=0;i<b;i++){A=this.additionalAnnotations[i];I=new S({title:A.valueListTitle});I.data('_annotation',A);l.addItem(I);}this.oValueHelpDialog.oSelectionButton.setVisible(true);this.oValueHelpDialog.oSelectionTitle.setVisible(true);this.oValueHelpDialog.oSelectionButton.attachPress(function(){p.openBy(this);});}};a.prototype._triggerAnnotationChange=function(A){this.oValueHelpDialog.oSelectionTitle.setText(' - '+A.valueListTitle);this.oValueHelpDialog.resetTableState();this._resolveAnnotationData(A);this._createAdditionalValueHelpControls();};a.prototype._createAdditionalValueHelpControls=function(){var b=null;this.oValueHelpDialog.setKey(this.sKey);this.oValueHelpDialog.setKeys(this._aKeys);this.oValueHelpDialog.setDescriptionKey(this.sDescription);this.oValueHelpDialog.setTokenDisplayBehaviour(this.sTokenDisplayBehaviour);var c=new J();c.setData({cols:this._aCols});this.oValueHelpDialog.setModel(c,'columns');if(this.bSupportBasicSearch){b=this.sKey;}this.oSmartFilterBar=new sap.ui.comp.smartfilterbar.SmartFilterBar({entityType:this.sValueListEntityName,basicSearchFieldName:b,advancedMode:true,expandAdvancedArea:!this.bForceTriggerDataRetreival,search:this._onFilterBarSearchPressed.bind(this),reset:this._onFilterBarResetPressed.bind(this),filterChange:q.proxy(this._onFilterBarFilterChange,this),initialise:q.proxy(this._onFilterBarInitialise,this)});if(this.oFilterProvider){this.oSmartFilterBar.data('dateFormatSettings',this.oFilterProvider._oDateFormatSettings);}this.oSmartFilterBar.isRunningInValueHelpDialog=true;this.oValueHelpDialog.setFilterBar(this.oSmartFilterBar);};a.prototype._onFilterBarFilterChange=function(){var t=this.oValueHelpDialog.theTable;if(t){t.setShowOverlay(true);}this.oValueHelpDialog.TableStateSearchData();};a.prototype._onFilterBarSearchPressed=function(){this._rebindTable();};a.prototype._rebindTable=function(){var f,p,t;f=this.oSmartFilterBar.getFilters();p=this.oSmartFilterBar.getParameters()||{};if(this.aSelect&&this.aSelect.length){p['select']=this.aSelect.toString();}t=this.oValueHelpDialog.theTable;t.setShowOverlay(false);this.oValueHelpDialog.TableStateDataSearching();t.setBusy(true);t.bindRows({path:'/'+this.sValueListEntitySetName,filters:f,parameters:p,sorter:new sap.ui.model.Sorter(this.sKey),events:{dataReceived:q.proxy(function(e){this.oValueHelpDialog.TableStateDataFilled();t.setBusy(false);var b=e.getSource(),i;if(b&&this.oValueHelpDialog&&this.oValueHelpDialog.isOpen()){i=b.getLength();if(i){this.oValueHelpDialog.update();}}},this)}});};a.prototype._onFilterBarResetPressed=function(){this._calculateFilterInputData();if(this.oSmartFilterBar){this.oSmartFilterBar.setFilterData(this.mFilterInputData);}};a.prototype._onFilterBarInitialise=function(){var b=null;this._onFilterBarResetPressed();if(this.oSmartFilterBar&&this.oSmartFilterBar.getBasicSearchControl){b=this.oSmartFilterBar.getBasicSearchControl();if(b){b.setValue(this.sBasicSearchText);}}if(!this.preventInitialDataFetchInValueHelpDialog){this._rebindTable();}};a.prototype._onOK=function(c){var t=c.getParameter('tokens'),r,k,i=0,b=[],o=null;if(this.oControl instanceof sap.m.MultiInput){this.oControl.setTokens(t);i=t.length;while(i--){o=t[i].data('row');if(o){b.push(o);}}}else{if(t[0]){if(this.bIsSingleIntervalRange){r=t[0].data('range');if(r){if(r.operation==='BT'){k=r.value1+'-'+r.value2;}else{k=r.value1;}}}else{k=t[0].getKey();}o=t[0].data('row');if(o){b.push(o);}}this.oControl.setValue(k);this.oControl.fireChange({value:k,validated:true});}this._calculateAndSetFilterOutputData(b);this.oValueHelpDialog.close();this.oValueHelpDialog.setModel(null);};a.prototype._onCancel=function(){this.oValueHelpDialog.close();this.oValueHelpDialog.setModel(null);};a.prototype.destroy=function(){if(this.oControl&&this.oControl.detachValueHelpRequest){this.oControl.detachValueHelpRequest(this._fVHRequested);this._fVHRequested=null;}B.prototype.destroy.apply(this,arguments);if(this.oValueHelpDialog){this.oValueHelpDialog.destroy();this.oValueHelpDialog=null;}if(this.oSmartFilterBar){this.oSmartFilterBar.destroy();this.oSmartFilterBar=null;}this.additionalAnnotations=null;this.sTitle=null;this.sFieldName=null;};return a;},true);\n",
	"sap/ui/comp/providers/ValueListProvider.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Column','sap/m/ColumnListItem','sap/m/Text','sap/m/Token','./BaseValueListProvider','sap/ui/core/Item','sap/ui/model/Filter','sap/ui/model/Sorter','sap/ui/model/json/JSONModel'],function(q,C,a,T,b,B,I,F,S,J){'use strict';var V=function(p){if(p){this.sAggregationName=p.aggregation;this.bTypeAheadEnabled=p.typeAheadEnabled;}B.apply(this,arguments);if(this.sValueListEntitySetName&&this.sKey){this._onInitialise();}};V.prototype=q.sap.newObject(B.prototype);V.prototype._onInitialise=function(){var e;if(!this.bTypeAheadEnabled){this._oTemplate=new I({key:'{'+this.sKey+'}',text:this._getDDLBTextBindingPath()});if(this.sDDLBDisplayBehaviour===sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.idOnly||this.sDDLBDisplayBehaviour===sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.idAndDescription){this._oSorter=new S(this.sKey);}else{this._oSorter=new S(this.sDescription);}e={onAfterRendering:function(){this.oControl.removeEventDelegate(e,this);this._fetchData();}};this.oControl.addEventDelegate(e,this);}else{if(this.oControl.attachSuggest){this._fSuggest=q.proxy(function(E){this.oControl=E.getSource();if(!this.oTemplate||!this.oControl.data('_hassuggestionTemplate')){this._createSuggestionTemplate();}var s=E.getParameter('suggestValue');this._fetchData(s);},this);this.oControl.attachSuggest(this._fSuggest);this.oControl.setMaxSuggestionWidth('90%');this._handleSelect();}}};V.prototype._createSuggestionTemplate=function(){var i=0,l=0,t;this._oTemplate=new a();if(this._aCols){this.oControl.removeAllSuggestionColumns();l=this._aCols.length;for(i=0;i<l;i++){this.oControl.addSuggestionColumn(new C({header:new T({wrapping:false,text:this._aCols[i].label,tooltip:this._aCols[i].label}),width:this._aCols[i].width}));t=null;if(this._aCols[i].type==='string'){t={path:this._aCols[i].template};}this._oTemplate.addCell(new T({wrapping:false,text:{path:this._aCols[i].template,type:this._aCols[i].oType},tooltip:t}));}}this.oControl.data('_hassuggestionTemplate',true);};V.prototype._getDDLBTextBindingPath=function(){var k='{'+this.sKey+'}',d='{'+this.sDescription+'}';return sap.ui.comp.smartfilterbar.FilterProvider.getFormattedExpressionFromDisplayBehaviour(this.sDDLBDisplayBehaviour,k,d);};V.prototype._handleSelect=function(){var h=q.proxy(function(d,c){var k,t,o;if(d){k=d[this.sKey];t=d[this.sDescription];this._calculateAndSetFilterOutputData([d]);}if(k){if(this.oControl.addToken){t=sap.ui.comp.smartfilterbar.FilterProvider.getFormattedExpressionFromDisplayBehaviour(this.sTokenDisplayBehaviour,k,t);o=new b({key:k,text:t,tooltip:t});o.data('row',d);if(c){c(o);}delete this.oControl.__sValidationText;}else{this.oControl.setValue(k);this.oControl.fireChange({value:k,validated:true});}}},this);if(this.oControl.addValidator){this._fValidator=q.proxy(function(d){var r=d.suggestionObject,D,i=d.text,f=[];if(r){D=this.oODataModel.getData(r.getBindingContextPath());h(D,d.asyncCallback);}else if(i){i=q.sap.encodeURL(i.toUpperCase());if(this.oControl.__sValidationText!==i){this.oControl.__sValidationText=i;this.oControl.__bValidatingToken=true;this._calculateFilterInputData();if(this.mFilterInputData&&this.aFilterField){f=sap.ui.comp.smartfilterbar.FilterProvider.generateFilters(this.aFilterField,this.mFilterInputData);}f.push(new F(this.sKey,sap.ui.model.FilterOperator.EQ,i));this.oODataModel.read(this.sValueListEntitySetName,{filters:f,success:q.proxy(function(R,c){var o=R;if(R){if(R.results&&R.results.length===1){o=R.results[0];}if(o&&o[this.sKey]){h(o,d.asyncCallback);}}delete this.oControl.__bValidatingToken;},this)});}}},this);this.oControl.addValidator(this._fValidator);}else if(this.oControl.attachSuggestionItemSelected){this._fSuggestionItemSelected=q.proxy(function(e){var r=e.getParameter('selectedRow'),d;if(r){d=r.getModel().getData(r.getBindingContextPath());h(d);}},this);this.oControl.attachSuggestionItemSelected(this._fSuggestionItemSelected);}};V.prototype._fetchData=function(s){var p={},f=[],l,e;if(this.bTypeAheadEnabled){if(s&&this.sDisplayFormat==='UpperCase'){s=s.toUpperCase();}if(this.bSupportBasicSearch){p['custom']={'search-focus':this.sKey,'search':s};}this._calculateFilterInputData();if(this.mFilterInputData&&this.aFilterField){f=sap.ui.comp.smartfilterbar.FilterProvider.generateFilters(this.aFilterField,this.mFilterInputData);}if(!this.bSupportBasicSearch){f.push(new F(this.sKey,sap.ui.model.FilterOperator.StartsWith,s));}l=10;e={dataReceived:q.proxy(function(E){var o=E.getSource(),i;if(o){i=o.getLength();if(i&&i<=l){this.oControl.setShowTableSuggestionValueHelp(false);}else{this.oControl.setShowTableSuggestionValueHelp(true);}}},this)};}if(this.aSelect&&this.aSelect.length){p['select']=this.aSelect.toString();}this.oControl.bindAggregation(this.sAggregationName,{path:'/'+this.sValueListEntitySetName,length:l,parameters:p,filters:f,sorter:this._oSorter,events:e,template:this._oTemplate});};V.prototype.destroy=function(){if(this.oControl){if(this.oControl.detachSuggest){this.oControl.detachSuggest(this._fSuggest);this._fSuggest=null;}if(this.oControl.removeValidator){this.oControl.removeValidator(this._fValidator);this._fValidator=null;}else if(this.oControl.detachSuggestionItemSelected){this.oControl.detachSuggestionItemSelected(this._fSuggestionItemSelected);this._fSuggestionItemSelected=null;}this.oControl.unbindAggregation(this.sAggregationName);if(this.oControl.removeAllSuggestionColumns){this.oControl.removeAllSuggestionColumns();}this.oControl.data('_hassuggestionTemplate',false);delete this.oControl.__sValidationText;delete this.oControl.__bValidatingToken;}B.prototype.destroy.apply(this,arguments);if(this.oJsonModel){this.oJsonModel.destroy();this.oJsonModel=null;}this._oTemplate=null;this.sAggregationName=null;this.bTypeAheadEnabled=null;this._oSorter=null;};return V;},true);\n",
	"sap/ui/comp/smartfield/BindingUtil.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define([],function(){'use strict';var B=function(){};B.prototype.toBinding=function(I){var o={},n,p,i,l,N={model:true,formatter:true,mode:true,path:true};if(I){if(I.parts&&I.parts.length){l=I.parts.length;o.parts=[];}for(i=0;i<l;i++){p=I.parts[i];o.parts.push(p);}for(n in N){if(I[n]){o[n]=I[n];}}return o;}return null;};B.prototype.toBindingPath=function(I){var o,O='',p,i,l;o=this.toBinding(I);if(o){if(o.model){O=o.model+'>';}if(o.path){O=O+o.path;}else if(o.parts&&o.parts.length>0){l=o.parts.length;for(i=0;i<l;i++){p=o.parts[i];if(p.model){O=O+p.model+'>';}O=O+p.path;}}}return O;};B.prototype.destroy=function(){};return B;},true);\n",
	"sap/ui/comp/smartfield/Configuration.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartfield.Configuration',{metadata:{library:'sap.ui.comp',properties:{controlType:{type:'sap.ui.comp.smartfield.ControlType',group:'Misc',defaultValue:null},displayBehaviour:{type:'sap.ui.comp.smartfield.DisplayBehaviour',group:'Misc',defaultValue:null}}}});return C;},true);\n",
	"sap/ui/comp/smartfield/ControlFactoryBase.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/base/Object','sap/ui/comp/providers/ValueHelpProvider','sap/ui/comp/providers/ValueListProvider','sap/ui/comp/smartfield/BindingUtil'],function(q,B,V,a,b){'use strict';var C=B.extend('sap.ui.comp.smartfield.ControlFactoryBase',{constructor:function(m,p){B.apply(this,arguments);this.sName='ControlFactoryBase';this._oModel=m;this._oParent=p;this._oBinding=new b();this._aProviders=[];}});C.prototype.createControl=function(c){var o=this[this._getCreator(c)]();if(o.onCreate){this[o.onCreate](o.control,o.params);}return o;};C.prototype.addValidations=function(c,m){var s,e,t=this;s=function(S,E){var o,d=E.getSource();if(d){if(d.setValueState){d.setValueState(S);}o=E.getParameter('exception');if(o){if(d.setValueStateText){d.setValueStateText(o.message);}t._oParent.setValueStateText(o.message);}}t._oParent.setValueState(S);if(m){t._oParent[m](S===sap.ui.core.ValueState.Error);}};e=function(E){s(sap.ui.core.ValueState.Error,E);};c.attachFormatError(e);c.attachParseError(e);c.attachValidationError(e);c.attachValidationSuccess(function(E){s(sap.ui.core.ValueState.None,E);});};C.prototype.addValueHelp=function(c,p,v,m){var o,d,e,D;if(v.annotation&&v.annotation.primaryValueListAnnotation){e=this._oParent.getConfiguration();if(e){D=e.getDisplayBehaviour();}if(!D){D=this._oParent.data('defaultDropDownDisplayBehaviour');}if(!v.noDialog){if(c.setFilterSuggests){c.setFilterSuggests(false);}o=new V({annotation:v.annotation.primaryValueListAnnotation,additionalAnnotations:v.annotation.additionalAnnotations,control:c,model:m,preventInitialDataFetchInValueHelpDialog:true,takeOverInputValue:false,supportMultiSelect:false,supportRanges:false,fieldName:p.name,title:v.dialogtitle,displayBehaviour:D});this._aProviders.push(o);}if(c.setShowValueHelp){c.setShowValueHelp(true);}d=new a({control:c,typeAheadEnabled:!v.noTypeAhead,aggregation:v.aggregation,annotation:v.annotation.primaryValueListAnnotation,model:m,displayBehaviour:D});if(c.setShowSuggestion){c.setShowSuggestion(true);}this._aProviders.push(d);}};C.prototype.getAttribute=function(n){var i=this._oParent.getBindingInfo(n);if(i){return this._oBinding.toBindingPath(i);}return this._oParent['get'+n.substring(0,1).toUpperCase()+n.substring(1)]();};C.prototype.createAttributes=function(A,t,N,e){var c=this,n,i,m={};for(n in N){i=this._oParent.getBindingInfo(n);if(i){m[n]=this._oBinding.toBinding(i);}else{m[n]=this._oParent['get'+n.substring(0,1).toUpperCase()+n.substring(1)]();}}if(A){m[A]={model:this._oMetaData.model,path:this._oMetaData.path,type:t?this._oTypes.getType(t):null};}if(e){m[e.event]=function(p){try{c._oParent.fireChange({value:p.mParameters[e.parameter],newValue:p.mParameters[e.parameter]});}catch(d){q.sap.log.warning(d);}};}this.addObjectBinding(m);return m;};C.prototype.addObjectBinding=function(A,o){if(!o){o=this._oParent.getObjectBinding(this._oMetaData.model);}if(A&&o){A.objectBindings={};A.objectBindings[this._oMetaData.model]=o.sPath;}};C.prototype.getFormatSettings=function(f){var F,c,o,l;if(f){F=this._oParent.data(f);if(!F){c=this._oParent.getCustomData();if(c){l=c.length;while(l--){o=c[l];if(o.getKey()===f){F=o.getValue();break;}}}}if(F&&typeof(F)==='string'){try{F=JSON.parse(F);}catch(e){return null;}}}return F;};C.prototype.destroy=function(){var l=this._aProviders.length;while(l--){this._aProviders[l].destroy();}this._oBinding.destroy();this._oBinding=null;this._oParent=null;this._oModel=null;this._aProviders=[];};return C;},true);\n",
	"sap/ui/comp/smartfield/FieldControl.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/smartfield/BindingUtil','sap/ui/model/ParseException'],function(q,B,P){'use strict';var F=function(p){this._oBinding=new B();this._oParent=p;};F.prototype.getControlProperties=function(m,b){var M,n,r={};if(m&&b){for(n in b){M='_get'+n.substring(0,1).toUpperCase()+n.substring(1);if(this[M]){r[n]=this[M](m,this._oParent.getBindingInfo(n));}}}return r;};F.prototype._getEnabled=function(m,b){var p,l=0,i=-1,e=-1,a=-1,o,t=this;o=this._getAttributes(m.entitySet,'extensions',{'updatable':true,'updatable-path':true});if(!b){p=this._oParent.getEnabled();}return{path:function(){var c=[];if(!t._getEnabledStatic(o,m)){return c;}if(m.property.extensions['sap:field-control']){c.push(t._toPath(m,m.property.extensions['sap:field-control']));i=l;l++;}if(o['updatable-path']){c.push(o['updatable-path']);e=l;l++;}if(b){c.push(t._oBinding.toBindingPath(b));a=l;l++;}return c;},formatter:function(c,d,f){var A=[];if(!t._getEnabledStatic(o,m)){return false;}if(i>-1){A.push(arguments[i]!==1);}if(e>-1){A.push(!!arguments[e]);}if(a>-1){A.push(!!arguments[a]);}else{A.push(p);}return t._compare(A,false,true);}};};F.prototype._getEnabledStatic=function(p,m){if(p.updatable==='false'){return false;}if(m.property.extensions['sap:updatable']==='false'){return false;}return true;};F.prototype._compare=function(a,p,d){var i,l=a.length;for(i=0;i<l;i++){if(a[i]===p){return p;}}return d;};F.prototype._getVisible=function(m,b){var p,l=0,i=-1,a=-1,t=this;if(!b){p=this._oParent.getVisible();}return{path:function(){var c=[];if(m.property.extensions['sap:field-control']){c.push(t._toPath(m,m.property.extensions['sap:field-control']));a=l;l++;}if(b){c.push(t._oBinding.toBindingPath(b));i=l;l++;}if(l>0){return c;}return[''];},formatter:function(c,d){var A=[];if(l>0){if(a>-1){A.push(arguments[a]!==0);}if(i>-1){A.push(!!arguments[i]);}else{A.push(p);}return t._compare(A,false,true);}if(m.property.extensions['sap:visible']){return(m.property.extensions['sap:visible']==='true');}return true;}};};F.prototype._getMandatory=function(m,b){var p,l=0,i=-1,a=-1,t=this;if(!b){p=this._oParent.getMandatory();}return{path:function(){var c=[];if(m.property.extensions['sap:field-control']){c.push(t._toPath(m,m.property.extensions['sap:field-control']));a=l;l++;}if(b){c.push(t._oBinding.toBindingPath(b));i=l;l++;}if(l>0){return c;}return[''];},formatter:function(c,d){var A=[];if(l>0){if(a>-1){A.push(arguments[a]===7);}if(i>-1){A.push(!!arguments[i]);}else{A.push(p);}return t._compare(A,true,false);}if(m.property.property.nullable&&m.property.property.nullable==='false'){return true;}return false;}};};F.prototype._toPath=function(m,p){if(m.property.complex){return m.path.replace(m.property.property.name,p);}return p;};F.prototype._getAttributes=function(o,a,p){var r={},n,c=0,l,A;if(o&&a&&p){l=o[a].length;for(n in p){if(p[n]){c++;}}while(l--){if(c===0){return r;}A=o[a][l];if(p[A.name]){r[A.name]=A.value;c--;}}}return r;};F.prototype.getMandatoryCheck=function(p){var r,t=this;if(p){switch(p.property.type){case'Edm.DateTimeOffset':case'Edm.DateTime':case'Edm.String':r=function(v){if(t._oParent.getMandatory()&&!v){throw new P(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('VALUEHELPVALDLG_FIELDMESSAGE'));}};break;case'Edm.Decimal':case'Edm.Double':case'Edm.Float':case'Edm.Single':case'Edm.Int16':case'Edm.Int32':case'Edm.Int64':case'Edm.Byte':case'Edm.SByte':r=function(v){if(t._oParent.getMandatory()&&(v===null||v===undefined)){throw new P(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('VALUEHELPVALDLG_FIELDMESSAGE'));}};break;default:break;}}return r;};F.prototype.destroy=function(){if(this._oBinding){this._oBinding.destroy();}this._oBinding=null;this._oParent=null;};return F;},true);\n",
	"sap/ui/comp/smartfield/JSONControlFactory.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/Input','sap/m/Text','sap/ui/comp/smartfield/ControlFactoryBase','sap/ui/comp/smartfield/JSONTypes'],function(q,C,a,D,I,T,b,J){'use strict';var c=b.extend('sap.ui.comp.smartfield.JSONControlFactory',{constructor:function(m,p,M){b.apply(this,[m,p]);this.sName='JSONControlFactory';this._oMetaData=M;this._oTypes=new J();}});c.prototype._getCreator=function(){var m={'Boolean':'_createBoolean','Date':'_createDate','DateTime':'_createString','Float':'_createString','Integer':'_createString','String':'_createString'};if(!this._oParent.getEditable()||!this._oParent.getEnabled()){if(this._oParent.getJsontype()==='Boolean'){return'_createBoolean';}return'_createDisplay';}return m[this._oParent.getJsontype()]||'_createString';};c.prototype._createString=function(){var n,N,m={width:true,textAlign:true,placeholder:true,name:true,maxLength:true};n=!this._oParent.getShowValueHelp();N=!this._oParent.getShowSuggestion();if(n){if(((this._oParent.data('controlType')==='dropDownList'))){return this._createComboBox({annotation:null,noDialog:n,noTypeAhead:true});}}return{control:new I(this.createAttributes('value',this._oParent.getJsontype(),m,{event:'change',parameter:'value'})),onCreate:'_onCreate',noDialog:n,noTypeAhead:N,params:{getValue:'getValue'}};};c.prototype._createComboBox=function(v){var n={width:true,textAlign:true,placeholder:true,name:true};return{control:new a(this.createAttributes('value',this._oParent.getJsontype(),n,{event:'selectionChange',parameter:'selectedItem'})),onCreate:'_onCreate',params:{valuehelp:v,getValue:'getValue'}};};c.prototype._createBoolean=function(){var A=this.createAttributes('selected',this._oParent.getJsontype(),{},{event:'select',parameter:'selected'});A.enabled=this._oParent.getEditable()&&this._oParent.getEnabled();return{control:new C(A),onCreate:'_onCreate',params:{getValue:'getSelected'}};};c.prototype._createDate=function(){var n={width:true,textAlign:true,placeholder:true,name:true};return{control:new D(this.createAttributes('value',this._oParent.getJsontype(),n,{event:'change',parameter:'value'})),onCreate:'_onCreate',params:{getValue:'getValue'}};};c.prototype._createDisplay=function(){var n={width:true,textAlign:true};return{control:new T(this.createAttributes('text',this._oParent.getJsontype(),n))};};c.prototype._onCreate=function(o,p){var g;this.addValidations(o);if(p.getValue){g=p.getValue;p.getValue=function(){return o[g]();};}};c.prototype.destroy=function(){this._oTypes.destroy();this._oTypes=null;this._oMetaData=null;b.prototype.destroy.apply(this,[]);};return c;},true);\n",
	"sap/ui/comp/smartfield/JSONTypes.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/type/Boolean','sap/ui/model/type/Date','sap/ui/model/type/Float','sap/ui/model/type/Integer','sap/ui/model/type/String'],function(q,B,D,F,I,S){'use strict';var J=function(){};J.prototype.getType=function(t){if(t){switch(t){case'Boolean':return new B();case'Date':return new D();case'Float':return new F();case'Integer':return new I();default:return new S();}}return null;};J.prototype.destroy=function(){};return J;},true);\n",
	"sap/ui/comp/smartfield/ODataControlFactory.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/CheckBox','sap/m/ComboBox','sap/m/DatePicker','sap/m/FlexItemData','sap/m/HBox','sap/m/Input','sap/m/Text','sap/ui/comp/navpopover/SmartLink','sap/ui/comp/smartfield/ControlFactoryBase','sap/ui/comp/smartfield/FieldControl','sap/ui/comp/smartfield/ODataHelper','sap/ui/comp/smartfield/ODataTypes'],function(q,C,a,D,F,H,I,T,S,b,c,O,d){'use strict';var f=b.extend('sap.ui.comp.smartfield.ODataControlFactory',{constructor:function(m,p,M){b.apply(this,[m,p]);this.sName='ODataControlFactory';this._oMetaData={annotations:{}};if(m){this._oHelper=new O(m);}this._oFieldControl=new c(p);this._oTypes=new d(p);this._init(M);this._bInitialized=false;this._bMetaData=!m;}});f.prototype._init=function(m){var t,p,e=this;this._oMetaData.model=m.model;this._oMetaData.path=m.path;this._oMetaData.namespace=m.namespace||this._oHelper.getNameSpace();this._oMetaData.entitySet=m.entitySetObject||this._oHelper.getEntitySet(m.entitySet.replace(this._oMetaData.namespace+'.',''));t=m.entityType||this._oHelper.getEntityType(this._oMetaData.entitySet.entityType.replace(this._oMetaData.namespace+'.',''));this._oMetaData.entityType=t.type;this._oMetaData.typecount=t.count;if(this._oHelper){if(!this._oHelper.checkNavigationProperty(this._oMetaData)){this._oMetaData.property=this._oHelper.getProperty(m.path,this._oMetaData.namespace,t.count);}if(this._oMetaData.navigationPath){p=this._oMetaData.path.replace(this._oMetaData.navigationPath,'');}else{p=e._oMetaData.path;}this._oMetaData.annotations.text=this._oHelper.getTextProperty(this._oMetaData.property,p,this._oMetaData.namespace,this._oMetaData.typecount);this._oMetaData.annotations.uom=this._oHelper.getUnitOfMeasure(this._oMetaData.property,p,this._oMetaData.namespace,t.count);this._oMetaData.annotations.valuelist=this._oHelper.getValueListAnnotation(this._oMetaData.namespace,this._oMetaData.entityType,this._oMetaData.property,this._oMetaData.property.typePath);this._oMetaData.annotations.lineitem=this._oHelper.oAnalyzer.getLineItemAnnotation(this._oMetaData.entitySet.entityType);this._oMetaData.annotations.semantic=this._oHelper.oAnalyzer.getSemanticObjectAnnotation(this._oMetaData.namespace+'.'+this._oMetaData.entityType.name+'/'+this._oMetaData.property.property.name);this._oHelper.getUOMValueListAnnotation(this._oMetaData);this._oHelper.geValueListEntitySet(this._oMetaData);}else{this._oMetaData.modelObject=m.modelObject;this._oMetaData.property=m.property;this._oMetaData.annotations.text=m.annotations.text;this._oMetaData.annotations.uom=m.annotations.uom;this._oMetaData.annotations.valuelist=m.annotations.valuelist;this._oMetaData.annotations.lineitem=m.annotations.lineitem;this._oMetaData.annotations.semantic=m.annotations.semantic;this._oMetaData.annotations.valuelistuom=m.annotations.valuelistuom;this._oMetaData.annotations.valuelistentityset=m.annotations.valuelistentityset;}};f.prototype._createEdmDisplay=function(){var A,o,n={width:true,textAlign:true};if(this._checkCheckBox()){return this._createCheckBox();}A=this.createAttributes(null,this._oMetaData.property,n);if(this._checkDatePicker()){o=this.getFormatSettings('dateFormatSettings');A.text={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,o,{displayFormat:'Date'})};}else{A.text={model:this._oMetaData.model,path:this._getEdmDisplayPath(),type:this._oTypes.getType(this._oMetaData.property)};}return{control:new T(A),onCreate:'_onCreate',params:{noValidations:true}};};f.prototype._getEdmDisplayPath=function(){if(this._oMetaData.annotations.text){return this._oMetaData.path.replace(this._oMetaData.property.property.name,this._oMetaData.annotations.text.property.name);}return this._oMetaData.path;};f.prototype._createEdmString=function(){var n,N,A,o,e,m={width:true,textAlign:true,placeholder:true,name:true};o=this._checkComboBox('input');if(o.combobox){return this._createComboBox({annotation:o.annotation,noDialog:true,noTypeAhead:true});}if(this._checkCheckBox()){return this._createCheckBox();}n=!this._oParent.getShowValueHelp();N=!this._oParent.getShowSuggestion();A=this.createAttributes('value',this._oMetaData.property,m);e=new I(A);this._handleEventingForEdmString(e);return{control:e,onCreate:'_onCreate',params:{valuehelp:{annotation:o.annotation,noDialog:n,noTypeAhead:N,aggregation:'suggestionRows'},getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};f.prototype._checkConfig=function(t){var o=this._oParent.getConfiguration();if(o&&o.getControlType()===t){return true;}return false;};f.prototype._handleEventingForEdmString=function(o){var u,t=this,g=false,v=false,h;var k=false;if(o){u=this._oTypes.isDisplayFormatUpperCase(this._oMetaData.property);h=u?false:true;o.attachBrowserEvent('focusout',function(){if(v){o._lastValue='';g=true;}else{if(u){g=false;}else{g=(k)?false:true;}}}).attachBrowserEvent('keydown',function(e){if(e.which===13){h=true;k=true;}}).attachBrowserEvent('keyup',function(e){var V=o.getValue();k=false;if(e.which===13){v=false;if(h){try{t._oParent.fireChange({value:V,newValue:V});}catch(i){q.sap.log.warning(i);}}}else if(u){o.setValue(V.toUpperCase());v=true;}h=false;}).attachChange(function(e){try{if(e.mParameters.validated||g){h=false;g=false;v=false;t._oParent.fireChange({value:e.mParameters.value,newValue:e.mParameters.value,validated:e.mParameters.validated});}else{h=true;}}catch(i){q.sap.log.warning(i);}});}};f.prototype._createComboBox=function(v){var A,t=this,n={width:true,textAlign:true,placeholder:true,name:true};A=this.createAttributes(null,this._oMetaData.property,n);A.selectionChange=function(p){var k,i;try{i=p.getParameter('selectedItem');if(i&&i.getKey){k=i.getKey();}t._oParent.fireChange({value:k,newValue:k});}catch(e){q.sap.log.warning(e);}};A.selectedKey={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)};if(A.width===''){A.width='100%';}return{control:new a(A),onCreate:'_onCreate',params:{valuehelp:{annotation:v.annotation,aggregation:'items',noDialog:v.noDialog,noTypeAhead:v.noTypeAhead},getValue:'getSelectedKey',type:{type:A.selectedKey.type,property:this._oMetaData.property}}};};f.prototype._createCheckBox=function(){var A=this.createAttributes('selected',null,{},{event:'select',parameter:'selected'});A.enabled=(this._oParent.getEditable()&&this._oParent.getEnabled());A.selected.type=this._oTypes.getAbapBoolean();return{control:new C(A),onCreate:'_onCreate',params:{getValue:'getSelected'}};};f.prototype._createEdmDateTime=function(){var A,o,n={width:true,textAlign:true,placeholder:true,name:true};A=this.createAttributes(null,this._oMetaData.property,n,{event:'change',parameter:'value'});o=this.getFormatSettings('dateFormatSettings');if(this._checkDatePicker()){A.value={path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,o,{displayFormat:'Date'}),model:this._oMetaData.model};if(o&&o.style){A.displayFormat=o.style;}return{control:new D(A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};}A.value={path:this._oMetaData.path,model:this._oMetaData.model,type:this._oTypes.getType(this._oMetaData.property,o)};return{control:new I(A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};f.prototype._checkDatePicker=function(){if(this._oMetaData.property.extensions['sap:display-format']==='Date'){return true;}return this._checkConfig('datePicker');};f.prototype._createEdmDateTimeOffset=function(){var o,A,n={width:true,textAlign:true,placeholder:true,name:true};o=this.getFormatSettings('dateFormatSettings');A=this.createAttributes(null,this._oMetaData.property,n,{event:'change',parameter:'value'});A.value={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property,o)};return{control:new I(A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};f.prototype._createEdmNumeric=function(){var A,n={width:true,textAlign:true,placeholder:true,name:true};A=this.createAttributes(null,this._oMetaData.property,n,{event:'change',parameter:'value'});A.value={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)};return{control:new I(A),onCreate:'_onCreate',params:{getValue:'getValue',type:{type:A.value.type,property:this._oMetaData.property}}};};f.prototype._createEdmUOM=function(){var n,i,t,A,o,p,e=this,g=function(P){try{e._oParent.fireChange({value:P.mParameters.value,newValue:P.mParameters.value});}catch(h){q.sap.log.warning(h);}};A=this._createEdmUOMAttributes(g);o=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(A,o);i=new I(A);n=this._oParent.data('suppressUnit');if(n&&n==='true'){p={getValue:'getValue'};if(!this._oMetaData.annotations.uom||this._oMetaData.annotations.uom.semantics!=='currency-code'){p.type={type:A.value.type,property:this._oMetaData.property};}return{control:i,onCreate:'_onCreate',params:p};}A={value:{model:this._oMetaData.model,path:this._getUOMPath(this._oMetaData.path,this._oMetaData.property.property.name,this._oMetaData.annotations.uom),type:this._oTypes.getType(this._oMetaData.annotations.uom.property)},change:g,width:'5rem',textAlign:sap.ui.core.TextAlign.End};this.addObjectBinding(A,o);t=new I(A);this._handleEventingForEdmString(t);i.addStyleClass('smartFieldPaddingRight');i.setLayoutData(new F({growFactor:10}));t.setLayoutData(new F({shrinkFactor:0}));return{control:new H({justifyContent:sap.m.FlexJustifyContent.End,items:[i,t],fitContainer:true,width:this._oParent.getWidth()}),onCreate:'_onCreateUOM',params:{getValue:true,valuehelp:true,type:{type:A.value.type,property:this._oMetaData.annotations.uom}}};};f.prototype._createEdmUOMAttributes=function(e){var A={textAlign:sap.ui.core.TextAlign.End,placeholder:this.getAttribute('placeholder'),name:this.getAttribute('name'),change:e};if(this._oMetaData.annotations.uom&&this._oMetaData.annotations.uom.semantics==='currency-code'){A.value={parts:[{path:this._oMetaData.path},{path:this._getUOMPath(this._oMetaData.path,this._oMetaData.property.property.name,this._oMetaData.annotations.uom)}],model:this._oMetaData.model,type:this._oTypes.getCurrencyType(this._oMetaData.property)};}else{A.value={model:this._oMetaData.model,path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)};}return A;};f.prototype._createEdmUOMDisplay=function(){var n,v,o,p,e,A;n=this._oParent.data('suppressUnit');if(n&&n==='true'){return this._createEdmDisplay();}p=this._getUOMPath(this._oMetaData.path,this._oMetaData.property.property.name,this._oMetaData.annotations.uom);A={text:{parts:[{path:this._oMetaData.path,type:this._oTypes.getType(this._oMetaData.property)},{path:p}],model:this._oMetaData.model,formatter:this._oTypes.getCurrencyDisplayFormatter(),useRawValues:true},textAlign:sap.ui.core.TextAlign.End};e=this._oParent.getObjectBinding(this._oMetaData.model);this.addObjectBinding(A,e);v=new T(A);A={text:{path:p},textAlign:sap.ui.core.TextAlign.End};this.addObjectBinding(A,e);o=new T(A);return{control:new H({justifyContent:sap.m.FlexJustifyContent.Left,items:[v,o],width:this._oParent.getWidth()})};};f.prototype._getUOMPath=function(p,P,u){var s=(u.text&&u.text.name)?u.text.name:u.unit;if(s){return p.replace(P,s);}return null;};f.prototype._createEdmSemantic=function(){var p,i=this._oParent.getBindingInfo('value');p=i.parts[0].path;var l=this._oMetaData.property.property.fieldLabel;if(this._oMetaData.annotations.lineitem&&this._oMetaData.annotations.lineitem.labels&&this._oMetaData.annotations.lineitem.labels[p]){l=this._oMetaData.annotations.lineitem.labels[p];}return{control:new S({semanticObject:this._oMetaData.annotations.semantic.semanticObject,semanticObjectLabel:l,fieldName:p,text:{path:p,model:this._oMetaData.model},width:this.getAttribute('width'),createControlCallback:q.proxy(function(){var o=this.createControl(true);if(o){return o.control;}return null;},this)}),onCreate:'_onCreate',params:{getValue:'getInnerControlValue'}};};f.prototype._createEdmBoolean=function(){var A,o;o=this._checkComboBox();if(o.combobox){return this._createComboBox({annotation:o.annotation,noDialog:true,noTypeAhead:true});}A=this.createAttributes('selected',this._oMetaData.property,{},{event:'select',parameter:'selected'});A.enabled=(this._oParent.getEditable()&&this._oParent.getEnabled());return{control:new C(A),onCreate:'_onCreate',params:{getValue:'getSelected'}};};f.prototype._checkComboBox=function(t){var A,r={};if(this._oMetaData.annotations.valuelist&&this._oMetaData.annotations.valuelist.primaryValueListAnnotation){r.annotation=this._oMetaData.annotations.valuelist;}if(!r.annotation){return r;}if(t&&this._checkConfig(t)){return r;}if(this._oHelper&&this._oMetaData.annotations.valuelistentityset){A=this._oHelper.getAttributes(this._oMetaData.annotations.valuelistentityset,'extensions',{'semantics':'http://www.sap.com/Protocols/SAPData'});}if(A&&A.semantics==='fixed-values'){r.combobox=true;}if(!r.combobox){r.annotation=this._oMetaData.annotations.valuelist;r.combobox=this._checkConfig('dropDownList');}return r;};f.prototype._checkCheckBox=function(){var B,m;if(this._oMetaData.property.property.type==='Edm.String'){B=this._oParent.getBindingInfo('value');m=this._oTypes.getMaxLength(this._oMetaData.property,B);if(m===1){if(this._checkConfig('checkBox')){return true;}}}return false;};f.prototype._getCreator=function(B){var m={'Edm.Decimal':'_createEdmNumeric','Edm.Double':'_createEdmNumeric','Edm.Float':'_createEdmNumeric','Edm.Single':'_createEdmNumeric','Edm.Int16':'_createEdmNumeric','Edm.Int32':'_createEdmNumeric','Edm.Int64':'_createEdmNumeric','Edm.Byte':'_createEdmNumeric','Edm.DateTimeOffset':'_createEdmDateTimeOffset','Edm.DateTime':'_createEdmDateTime','Edm.Boolean':'_createEdmBoolean','Edm.String':'_createEdmString'};if(this._oMetaData.annotations&&this._oMetaData.annotations.semantic&&!B){return'_createEdmSemantic';}if(!this._oParent.getEditable()||!this._oParent.getEnabled()){if(this._oMetaData.annotations&&this._oMetaData.annotations.uom){return'_createEdmUOMDisplay';}return(this._oMetaData.property.property.type==='Edm.Boolean')?'_createEdmBoolean':'_createEdmDisplay';}if(this._oMetaData.annotations&&this._oMetaData.annotations.uom){return'_createEdmUOM';}return m[this._oMetaData.property.property.type]||'_createEdmString';};f.prototype._onCreate=function(o,p){var g,e,v=true;if(p){if(p.noValidation){v=false;}if(p.valuehelp){this._getValueHelpDialogTitle(p.valuehelp);this.addValueHelp(o,this._oMetaData.property.property,p.valuehelp,this._oModel||this._oMetaData.modelObject);}if(p.getValue){g=p.getValue;p.getValue=function(){return o[g]();};}if(p.type){e=this._oFieldControl.getMandatoryCheck(p.type.property);if(e){p.type.type.oFieldControl=e;}}}if(v){this.addValidations(o,'setSimpleClientError');}};f.prototype._getValueHelpDialogTitle=function(v){var A,l;l=this._oParent.getTextLabel();if(l){v.dialogtitle=l;}else{if(this._oHelper){A=this._oHelper.getAttributes(this._oMetaData.property.property,'extensions',{'label':'http://www.sap.com/Protocols/SAPData'});}if(A&&A.label){v.dialogtitle=A.label;}else{v.dialogtitle=this._oMetaData.property.property.name;}}};f.prototype._onCreateUOM=function(o,p){var i,v,e,m,l;i=o.getItems();l=i.length;while(l--){if(l===0){m='setComplexClientErrorFirstOperand';}else{m='setComplexClientErrorSecondOperand';}this.addValidations(i[l],m);}if(p.valuehelp){v={annotation:this._oMetaData.annotations.valuelistuom,aggregation:'suggestionRows'};this._getValueHelpDialogTitle(v);this.addValueHelp(i[1],this._oMetaData.annotations.uom.property.property,v,this._oModel||this._oMetaData.modelObject);}if(p&&p.getValue){p.getValue=function(){return i[0].getValue();};}p.uom=function(){return i[1].getValue();};p.uomset=function(V){i[1].setValue(V);};if(p.type){e=this._oFieldControl.getMandatoryCheck(p.type.property.property);if(e){p.type.type.oFieldControl=e;}}};f.prototype.bind=function(){var t=this,n;if(this._oParent.data('configdata')){n={enabled:true};}else{n={enabled:true,visible:true,mandatory:true};}if(!this._bInitialized){this._bInitialized=true;if(this._bMetaData||this._oModel.oMetadata.bLoaded){this._bind(n);}else{this._oModel.getMetaModel().loaded().then(function(){t._bind(n);});}}};f.prototype._bind=function(B){var n,o,m,p;m=this._oFieldControl.getControlProperties(this._oMetaData,B);for(n in m){o=m[n];if(o){p=o.path();if(p.length>0){this._oParent.bindProperty(n,{parts:p,model:this._oMetaData.model,formatter:o.formatter});}else{this._oParent.bindProperty(n,{path:'',model:this._oMetaData.model,formatter:o.formatter});}}}this._oParent.fireInitialise();};f.prototype.getDataProperty=function(){return this._oMetaData.property;};f.prototype.destroy=function(){this._oFieldControl.destroy();this._oTypes.destroy();if(!this._bMetaData){this._oHelper.destroy();}this._oHelper=null;this._oFieldControl=null;this._oTypes=null;this._oMetaData=null;b.prototype.destroy.apply(this,[]);};return f;},true);\n",
	"sap/ui/comp/smartfield/ODataHelper.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/odata/MetadataAnalyser'],function(q,M){'use strict';var O=function(m){if(m){this._oMeta=m.getMetaModel();this.oAnalyzer=new M(m);}};O.prototype.checkNavigationProperty=function(m,o){var p,n,l,N=[];if(m){if(o&&o.sPath){n=this.getNavigationProperty(o.sPath,m.typecount);if(n){this._updateNavigationProperty(m,n);}}p=m.path.split('/');l=p.length;if(l>1){while(l--){n=this.getNavigationProperty(p[0],m.typecount);if(n){this._updateNavigationProperty(m,n);}else{this._getProperty(m,p,N);return true;}N.push(p.shift());}}}return false;};O.prototype._getProperty=function(m,p,n){m.property=this.getProperty(p.join('/'),m.namespace,m.typecount);if(n.length>0){m.navigationPath=n.join('/')+'/';}};O.prototype._updateNavigationProperty=function(m,n){var a,t,T;a=this.getAssociation(n.relationship);t=this.getAssociationTarget(a,n);m.entitySet=this.getEntitySet(t);T=this.getEntityType(m.entitySet.entityType.replace(m.namespace+'.',''));m.entityType=T.type;m.typecount=T.count;};O.prototype.getNavigationProperty=function(n,t){if(n){return this._getTypeProperty(n,'/navigationProperty',t);}return null;};O.prototype.getProperty=function(p,n,t){var l,P,o;if(p&&n){P=p.split('/');l=P.length;if(l>1){o=this._getTypeProperty(P[0],'/property',t);return this._getComplex(o,n,P,l);}o=this._getTypeProperty(p,'/property',t);return{property:o,typePath:p,extensions:this._toMap(o,'extensions')};}return null;};O.prototype._toMap=function(p,a){var A,o,b={},l,P,n={'http://www.sap.com/Protocols/SAPData':'sap:'};if(p&&p[a]){A=p[a];}if(A&&A.length){l=A.length;}else{return b;}while(l--){o=A[l];P=n[o.namespace];if(P){b[P+o.name]=o.value;}else{b[o.name]=o.value;}}return b;};O.prototype._getComplex=function(p,n,P,l){var o=p,t;while(l--){if(o){if(l===0){o=this._getNamedProperty(P[0],'property',o);return{typePath:t+'/'+P[0],property:o,complex:true,extensions:this._toMap(o,'extensions')};}o=this.getComplexType(o.type.replace(n+'.',''));t=this._getComplexPath(t,o);}P.shift();}};O.prototype._getComplexPath=function(t,o){if(t){return t+'/'+o.name;}return o.name;};O.prototype._getNamedProperty=function(n,a,p){var r;q.each(p[a],function(i,e){if(e.name===n){r=e;return false;}});return r;};O.prototype._getTypeProperty=function(n,c,t){var p,o;o=this._oMeta.getObject('/dataServices/schema/0/entityType/'+t+c);if(o){q.each(o,function(i,e){if(e.name===n){p=e;return false;}});}return p;};O.prototype.getEntityType=function(n){var c,o,t=null;if(n){o=this._oMeta.getObject('/dataServices/schema/0/entityType');if(o){q.each(o,function(i,e){if(e.name===n){t=e;c=i;return false;}});}}return{count:c,type:t};};O.prototype.getComplexType=function(n){var t;if(n){q.each(this._oMeta.getObject('/dataServices/schema/0/complexType'),function(i,e){if(e.name===n){t=e;return false;}});}return t;};O.prototype.getEntitySet=function(n){var s=null;if(n){q.each(this._oMeta.getObject('/dataServices/schema/0/entityContainer/0/entitySet'),function(i,e){if(e.name===n){s=e;return false;}});}return s;};O.prototype.getAssociation=function(n){var a=null;if(n){q.each(this._oMeta.getObject('/dataServices/schema/0/entityContainer/0/associationSet'),function(i,e){if(e.association===n){a=e;return false;}});}return a;};O.prototype.getAssociationTarget=function(a,n){var l,e;if(a&&n){l=a.end.length;while(l--){e=a.end[l];if(e.role===n.toRole){return e.entitySet;}}}return null;};O.prototype.getNameSpace=function(){return this._oMeta.getObject('/dataServices/schema/0/namespace');};O.prototype.getUnitOfMeasure=function(p,P,n,t){var u,c,s;if(p&&P&&n){u=p.extensions['sap:unit'];if(u){c=this.getProperty(P.replace(p.property.name,u),n,t);s=c.extensions['sap:semantics'];if(s==='currency-code'||s==='unit-of-measure'){return{unit:u,text:c.extensions['currency-text']?c.extensions['currency-text']:null,semantics:s,property:c};}}}return null;};O.prototype.getTextProperty=function(p,P,n,t){var T;if(p&&P&&n){T=p.extensions['sap:text'];if(T){return this.getProperty(P.replace(p.property.name,T),n,t);}}return null;};O.prototype.getValueListAnnotation=function(n,e,p,P){var s;if(p.complex){s=n+'.'+p.typePath;}else{s=n+'.'+e.name+'/'+P;}if(this.oAnalyzer){return this.oAnalyzer.getValueListAnnotation(s);}return null;};O.prototype.getUOMValueListAnnotation=function(m){var p;if(m.annotations.uom){if(m.property.complex){p=m.namespace+'.'+m.property.typePath;p=p.replace(m.property.property.name,m.annotations.uom.property.property.name);}else{p=m.namespace+'.'+m.entityType.name+'/'+m.annotations.uom.property.property.name;}}if(this.oAnalyzer&&p){m.annotations.valuelistuom=this.oAnalyzer.getValueListAnnotation(p);}};O.prototype.getAttributes=function(o,a,p){var r={},n,c=0,l,A,P;if(o&&a&&p){l=o[a].length;for(n in p){if(p[n]){c++;}}while(l--){if(c===0){return r;}A=o[a][l];P=p[A.name];if(A&&P&&A.namespace===P){r[A.name]=A.value;c--;}}}return r;};O.prototype.geValueListEntitySet=function(m){if(m&&m.annotations&&m.annotations.valuelist){if(m.annotations.valuelist.primaryValueListAnnotation&&m.annotations.valuelist.primaryValueListAnnotation.valueListEntitySetName){m.annotations.valuelistentityset=this.getEntitySet(m.annotations.valuelist.primaryValueListAnnotation.valueListEntitySetName);}}};O.prototype.destroy=function(){if(this.oAnalyzer){this.oAnalyzer.destroy();}this._oMeta=null;this._oAnalyzer=null;};return O;},true);\n",
	"sap/ui/comp/smartfield/ODataTypes.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/core/format/NumberFormat','sap/ui/model/odata/type/Boolean','sap/ui/comp/smartfield/type/DateTime','sap/ui/comp/smartfield/type/DateTimeOffset','sap/ui/comp/smartfield/type/Decimal','sap/ui/comp/smartfield/type/Int16','sap/ui/comp/smartfield/type/Int32','sap/ui/comp/smartfield/type/SByte','sap/ui/comp/smartfield/type/String','sap/ui/comp/smartfield/type/AbapBool','sap/ui/model/type/Currency'],function(q,N,B,D,a,b,I,c,S,d,A,C){'use strict';var O=function(p){this._oParent=p;};O.prototype.getType=function(p,f,m){var o;if(p&&p.property&&p.property.type){switch(p.property.type){case'Edm.Boolean':return new B();case'Edm.Decimal':case'Edm.Double':case'Edm.Float':case'Edm.Single':o=this._getDecimalConstraints(p);return new b(f,o);case'Edm.Int16':return new I();case'Edm.Int32':case'Edm.Int64':return new c();case'Edm.Byte':case'Edm.SByte':return new S();case'Edm.DateTimeOffset':return new a(f,o);case'Edm.DateTime':o=this._getDateTimeConstraints(p,m);return new D(f,o);case'Edm.String':o=this._getStringConstraints(p);return new d(f,o);default:return null;}}return null;};O.prototype._getDateTimeConstraints=function(p,m){var o={},n;if(p.extensions['sap:display-format']==='Date'){o={displayFormat:'Date'};}for(n in m){o[n]=m[n];}return o;};O.prototype.getMaxLength=function(p,o){var P,v=[],l,V,f,r=0;if(o&&o.constraints){if(o.constraints.maxLength&&o.constraints.maxLength>-1){v.push(o.constraints.maxLength);}}if(o&&o.type&&o.type.oConstraints){if(o.type.oConstraints.maxLength&&o.type.oConstraints.maxLength>-1){v.push(o.type.oConstraints.maxLength);}}if(p&&p.property&&p.property.maxLength){P=parseInt(p.property.maxLength,10);if(P>-1){v.push(P);}}f=this._oParent.getMaxLength();if(f>0){v.push(f);}l=v.length;while(l--){V=v[l];if(V>0){if(r>0){if(V<r){r=V;}}else{r=V;}}}return r;};O.prototype._getDecimalConstraints=function(p){var m=null;if(p.property.precision){m={};m.precision=parseInt(p.property.precision,10);}if(p.property.scale){if(!m){m={};}m.scale=parseInt(p.property.scale,10);}return m;};O.prototype._getStringConstraints=function(p){var m,e,o,f;o=this._oParent.getBindingInfo('value');m=this.getMaxLength(p,o);if(o&&o.type&&o.type.oConstraints){if(o.type.oConstraints.equals){e=o.type.oConstraints.equals;}}if(m>0||e){f={};if(m>0){f.maxLength=m;}if(e){f.equals=e;}}return f;};O.prototype.isDisplayFormatUpperCase=function(p){if(p&&p.extensions){return p.extensions['sap:display-format']==='UpperCase';}return false;};O.prototype.getCurrencyDisplayFormatter=function(){var f=N.getCurrencyInstance({showMeasure:false});return function(o,s){var v,i,p;if(!o||!s||s==='*'){return'';}i=f.oLocaleData.getCurrencyDigits(s);v=f.format(o,s);if(i===0){v+='\\u2008';}p=3-i;if(p){v=q.sap.padRight(v,'\\u2007',v.length+p);}return v;};};O.prototype.getCurrencyType=function(p){var o;if(p){o=this._getDecimalConstraints(p);return new C({showMeasure:false},o);}return null;};O.prototype.getAbapBoolean=function(){return new A();};O.prototype.destroy=function(){this._oParent=null;};return O;},true);\n",
	"sap/ui/comp/smartfield/SmartField.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./JSONControlFactory','./ODataControlFactory','sap/ui/core/Control','sap/ui/model/ParseException','sap/ui/model/ValidateException'],function(q,l,J,O,C,P,V){'use strict';var S=C.extend('sap.ui.comp.smartfield.SmartField',{metadata:{library:'sap.ui.comp',properties:{value:{type:'any',group:'Misc',defaultValue:null},enabled:{type:'boolean',group:'Misc',defaultValue:true},entitySet:{type:'string',group:'Misc',defaultValue:null},editable:{type:'boolean',group:'Misc',defaultValue:true},width:{type:'sap.ui.core.CSSSize',group:'Misc',defaultValue:null},textAlign:{type:'sap.ui.core.TextAlign',group:'Misc',defaultValue:null},placeholder:{type:'string',group:'Misc',defaultValue:null},name:{type:'string',group:'Misc',defaultValue:null},valueState:{type:'sap.ui.core.ValueState',group:'Appearance',defaultValue:sap.ui.core.ValueState.None},valueStateText:{type:'string',group:'Appearance',defaultValue:null},showValueStateMessage:{type:'boolean',group:'Appearance',defaultValue:true},jsontype:{type:'sap.ui.comp.smartfield.JSONType',group:'Misc',defaultValue:null},mandatory:{type:'boolean',group:'Misc',defaultValue:false},maxLength:{type:'int',group:'Misc',defaultValue:0},showSuggestion:{type:'boolean',group:'Misc',defaultValue:true},showValueHelp:{type:'boolean',group:'Misc',defaultValue:true},showLabel:{type:'boolean',group:'Appearance',defaultValue:true},textLabel:{type:'string',group:'Misc',defaultValue:null},tooltipLabel:{type:'string',group:'Misc',defaultValue:null}},aggregations:{_content:{type:'sap.ui.core.Control',multiple:false,visibility:'hidden'},configuration:{type:'sap.ui.comp.smartfield.Configuration',multiple:false}},events:{entitySetFound:{},change:{},initialise:{},visibleChanged:{}}}});S.prototype.init=function(){this._oFactory=null;this._oControl={display:null,edit:null,current:null};this._oValue={display:null,edit:null,uom:null,uomset:null};this._oError={bComplex:false,bFirst:false,bSecond:false};this._oValueBind=null;};S.prototype.setVisible=function(v,s){C.prototype.setVisible.apply(this,arguments);this.fireVisibleChanged({visible:v});return this;};S.prototype.setEditable=function(v){this.setProperty('editable',v,true);this._toggleControl();return this;};S.prototype.setEntitySet=function(v){this.setProperty('entitySet',v,true);this.fireEntitySetFound({entitySet:v});return this;};S.prototype.setEnabled=function(v){this.setProperty('enabled',v,true);this._toggleControl();return this;};S.prototype.getValue=function(){var p,f;p=this._getMode();f=this._oValue[p];if(f){return f();}return this.getProperty('value');};S.prototype.updateBindingContext=function(s,b,m,u){this._init(m);if(this._oFactory){if(this._oFactory.bind){this._oFactory.bind();}else{this._toggleControl();}}C.prototype.updateBindingContext.apply(this,[s,b,m,u]);};S.prototype._getMode=function(){return this.getEditable()&&this.getEnabled()?'edit':'display';};S.prototype._toggleControl=function(){var m,v,c=true;m=this._getMode();if(m==='edit'){this._createControl(m);}else{v=this.getValue();if(this.data('configdata')){if(v===null||v===''){c=false;}}if(c){this._createControl(m);}else{this.setAggregation('_content',null);this._oControl.current='display';}}};S.prototype.setValue=function(v){var r=this.setProperty('value',v);this._toggleControl();return r;};S.prototype._createControl=function(m){var c;if(this._oFactory){if(m!==this._oControl.current||!this._oControl[m]){if(!this._oControl[m]){c=this._oFactory.createControl();this._oControl[m]=c.control;if(c.params&&c.params.getValue){this._oValue[m]=c.params.getValue;}if(c.params&&c.params.uom){this._oValue.uom=c.params.uom;}if(c.params&&c.params.uomset){this._oValue.uomset=c.params.uomset;}}this._oControl.current=m;this.setAggregation('_content',this._oControl[m]);}}};S.prototype._init=function(m){var M,b,c;if(!this._oFactory){b=this._getBindingInfo(m,'value');if(b){c=this.data('configdata');if(!c){M=this.getModel(m);}if(c||M){this._oFactory=this._createFactory(m,M,b,c);}}}};S.prototype._createFactory=function(m,M,b,c){var e,p;if(M&&M instanceof sap.ui.model.json.JSONModel){return new J(M,this,{model:m,path:b.path});}if(!c){e=this._getEntitySet(m);}if(e||c){if(c){p=c.configdata;}else{p={entitySet:e,model:m,path:b.path};}return new O(M,this,p);}return null;};S.prototype._getEntitySet=function(m){var b,e;e=this.getEntitySet();if(e&&!m){return e;}b=this.getBindingContext(m);if(b){if(!b.sPath||(b.sPath&&b.sPath==='/undefined')){return null;}e=this._parseEntity(b);this.fireEntitySetFound({entitySet:e});return e;}return null;};S.prototype._parseEntity=function(c){var r,m,e;r=/\\((.+)\\)/;m=r.exec(c.sPath);if(m){e=c.sPath.replace(m[0],'');}else{e=c.sPath;}return e.replace('/','');};S.prototype._getBindingInfo=function(m,n){if(!this._oValueBind){this._oValueBind=this.getBindingInfo(n);try{this._oValueBind=this._oValueBind.parts[0];}catch(e){}}if(this._oValueBind){if(!this._oValueBind.model&&!m){return this._oValueBind;}if(this._oValueBind.model===m){return this._oValueBind;}}return null;};S.prototype.updateMessages=function(n,m){if(m&&m.length>0){this.setValueState(m[0].type);this.setValueStateText(m[0].message);}else{this.setValueState(sap.ui.core.ValueState.None);this.setValueStateText('');}};S.prototype.getDataType=function(){var p;if(this._oFactory){if(this._oFactory.getDataProperty){p=this._oFactory.getDataProperty();if(p){return p.property.type;}}return this.getJsonType();}return null;};S.prototype.getDataProperty=function(){if(this._oFactory){if(this._oFactory.getDataProperty){return this._oFactory.getDataProperty();}return null;}return null;};S.prototype.getUnitOfMeasure=function(){if(this._oValue.uom){return this._oValue.uom();}return null;};S.prototype.setUnitOfMeasure=function(u){if(u&&this._oValue.uomset){this._oValue.uomset(u);}};S.prototype.setSimpleClientError=function(e){this._oError.bFirst=e;};S.prototype.setComplexClientErrorFirstOperand=function(e){this._oError.bComplex=true;this._oError.bFirst=e;};S.prototype.setComplexClientErrorSecondOperand=function(e){this._oError.bComplex=true;this._oError.bSecond=e;};S.prototype._hasClientError=function(){if(this._oError.bComplex){return this._oError.bFirst||this._oError.bSecond;}return this._oError.bFirst;};S.prototype.checkClientError=function(){var c,a;if(this._getMode()==='display'){return false;}if(this._hasClientError()){return true;}c=this.getInnerControls();a=c.length;while(a--){this._checkClientError(c[a]);}return this._hasClientError();};S.prototype._checkClientError=function(c){var b,m,p,a={'sap.m.Input':'value','sap.m.DatePicker':'value','sap.m.ComboBox':'selectedKey'};p=a[c.getMetadata()._sClassName];if(p){b=c.getBinding(p);}if(b){try{m='get'+p.substring(0,1).toUpperCase()+p.substring(1);b.setExternalValue(c[m]());}catch(e){if(e instanceof P){c.fireParseError({exception:e});}if(e instanceof V){c.fireValidationError({exception:e});}}}};S.prototype.getInnerControls=function(){var c,f,m={'sap.m.HBox':function(o){return o.getItems();},'sap.ui.comp.navpopover.SmartLink':function(o){var i=o.getAggregation('innerControl');if(!i){return[];}return i;}};c=this.getAggregation('_content');f=m[c.getMetadata()._sClassName];if(f){return f(c);}return[c];};S.prototype.exit=function(){var i=null;if(this._oFactory){this._oFactory.destroy();}if(this._getMode()==='edit'){i=this._oControl['display'];}else{i=this._oControl['edit'];}if(i&&i.destroy){i.destroy();}this._oError=null;this._oValue=null;this._oFactory=null;this._oControl=null;this._oValueBind=null;};return S;},true);\n",
	"sap/ui/comp/smartfield/SmartFieldRenderer.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var S={};S.render=function(r,c){r.write('<div ');r.writeControlData(c);r.addClass('sapUiCompSmartField');r.writeClasses();r.write('>');r.renderControl(c.getAggregation('_content'));r.write('</div>');};return S;},true);\n",
	"sap/ui/comp/smartfield/SmartLabel.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','sap/ui/comp/library','./BindingUtil'],function(q,L,l,B){'use strict';var S=L.extend('sap.ui.comp.smartfield.SmartLabel',{metadata:{library:'sap.ui.comp'}});S.prototype.init=function(){this._oSmartField=null;this._sSmartFieldId=null;};S.prototype._bindProperties=function(){var b=new B();var i=this._oSmartField.getBindingInfo('visible');if(i){this.bindProperty('visible',b.toBinding(i));}else{this.setVisible(this._oSmartField.getVisible());}i=this._oSmartField.getBindingInfo('mandatory');if(i){this.bindProperty('required',b.toBinding(i));}else{this.setRequired(this._oSmartField.getMandatory());}i=this._oSmartField.getBindingInfo('textLabel');if(i){this.bindProperty('text',b.toBinding(i));}else{this.setText(this._oSmartField.getTextLabel());}i=this._oSmartField.getBindingInfo('tooltipLabel');if(i){this.bindProperty('tooltip',b.toBinding(i));}else{this.setTooltip(this._oSmartField.getTooltipLabel());}};S.prototype.getLabelInfo=function(){var m,o;if(this._oSmartField){this._bindProperties();m=this._oSmartField.getDataProperty();if(m){o=this._getLabelInfo(m);if(o){if(o.text){if(!this._oSmartField.getTextLabel()){this.setText(o.text);}}if(o.quickinfo){if(!this._oSmartField.getTooltipLabel()){this.setTooltip(o.quickinfo);}}}}if(!o||!o.quickinfo){if(!this._oSmartField.getTooltipLabel()){this.setTooltip(this.getText());}}}};S.prototype.setLabelFor=function(s){if(s){if(typeof s==='string'){this._oSmartField=sap.ui.getCore().getControl(s);if(!this._oSmartField){this._sSmartFieldId=s;}}else{this._oSmartField=s;}this._setLabelFor();}};S.prototype._setLabelFor=function(){var d;if(this._oSmartField){if(this._oSmartField.getDataProperty){d=this._oSmartField.getDataProperty();if(d){this.getLabelInfo();}else{this._oSmartField.attachInitialise(q.proxy(this.getLabelInfo,this));}}sap.m.Label.prototype.setLabelFor.apply(this,[this._oSmartField]);}};S.prototype._getLabelInfo=function(p){if(p){var t=null;if(p.extensions['sap:label']){t=p.extensions['sap:label'].value?p.extensions['sap:label'].value:p.extensions['sap:label'];}var Q=null;if(p.extensions['sap:quickinfo']){Q=p.extensions['sap:quickinfo'].value?p.extensions['sap:quickinfo'].value:p.extensions['sap:quickinfo'];}return{text:t?t:null,quickinfo:Q?Q:null};}};S.prototype.onBeforeRendering=function(){if(this._sSmartFieldId){this._oSmartField=sap.ui.getCore().getControl(this._sSmartFieldId);this._setLabelFor();this._sSmartFieldId=null;}};S.prototype.destroy=function(s){this._oSmartField=null;this._sSmartFieldId=null;L.prototype.destroy.apply(this,[s]);};return S;},true);\n",
	"sap/ui/comp/smartfield/SmartLabelRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/LabelRenderer'],function(q,L){'use strict';var S={};S.render=function(r,c){L.render.call('',r,c);};return S;},true);\n",
	"sap/ui/comp/smartfield/type/AbapBool.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/model/FormatException','sap/ui/model/ParseException','sap/ui/model/SimpleType'],function(q,F,P,S){'use strict';var A=S.extend('sap.ui.comp.smartfield.type.AbapBool',{constructor:function(){S.apply(this,arguments);this.sName='sap.ui.comp.smartfield.type.AbapBool';}});A.prototype.formatValue=function(v,t){if(v===undefined||v===null){return null;}switch(t){case'boolean':case'any':return v==='X';default:throw new F(\"Don't know how to format Boolean to \"+t);}};A.prototype.parseValue=function(v,s){switch(s){case'boolean':return(v===true)?'X':'';default:throw new P(\"Don't know how to parse Boolean from \"+s);}};A.prototype.validateValue=function(v){if(v!==null&&v!==undefined){if(v!=='X'&&v!==''){throw new P('Invalid Boolean '+v);}}};return A;},true);\n",
	"sap/ui/comp/smartfield/type/DateTime.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/DateTime'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.DateTime',{constructor:function(f,c){D.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.DateTime';};return a;});\n",
	"sap/ui/comp/smartfield/type/DateTimeOffset.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/DateTimeOffset'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.DateTimeOffset',{constructor:function(f,c){D.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.DateTimeOffset';};return a;});\n",
	"sap/ui/comp/smartfield/type/Decimal.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Decimal'],function(D){'use strict';var a=D.extend('sap.ui.comp.smartfield.type.Decimal',{constructor:function(f,c){D.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=D.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Decimal';};return a;});\n",
	"sap/ui/comp/smartfield/type/Int16.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Int16'],function(I){'use strict';var a=I.extend('sap.ui.comp.smartfield.type.Int16',{constructor:function(f,c){I.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=I.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Int16';};return a;});\n",
	"sap/ui/comp/smartfield/type/Int32.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/Int32'],function(I){'use strict';var a=I.extend('sap.ui.comp.smartfield.type.Int32',{constructor:function(f,c){I.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=I.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.Int32';};return a;});\n",
	"sap/ui/comp/smartfield/type/SByte.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/SByte'],function(S){'use strict';var a=S.extend('sap.ui.comp.smartfield.type.SByte',{constructor:function(f,c){S.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=S.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.SByte';};return a;});\n",
	"sap/ui/comp/smartfield/type/String.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['sap/ui/model/odata/type/String'],function(S){'use strict';var a=S.extend('sap.ui.comp.smartfield.type.String',{constructor:function(f,c){S.apply(this,[f,c]);this.oFieldControl=null;}});a.prototype.parseValue=function(v,s){var r=S.prototype.parseValue.apply(this,[v,s]);this.oFieldControl(v,s);return r;};a.prototype.getName=function(){return'sap.ui.comp.smartfield.type.String';};return a;});\n",
	"sap/ui/comp/smartfilterbar/AdditionalConfigurationHelper.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var A=function(c,g){this.controlConfiguration=[];this.groupConfiguration=[];this._initialize(c,g);};A.prototype._initialize=function(c,g){var i,l,G,C,o,d,D,j,a,b;if(!c){c=[];}if(!g){g=[];}l=c.length;for(i=0;i<l;i++){C=c[i];o={};o.key=C.getKey();o.groupId=C.getGroupId();o.index=C.getIndex();o.label=C.getLabel();o.isVisible=C.getVisible();o.mandatory=C.getMandatory();o.width=C.getWidth();o.hasValueHelpDialog=C.getHasValueHelpDialog();o.hasTypeAhead=C.getHasTypeAhead();o.controlType=C.getControlType();o.filterType=C.getFilterType();o.customControl=C.getCustomControl();o.visibleInAdvancedArea=C.getVisibleInAdvancedArea();o.preventInitialDataFetchInValueHelpDialog=C.getPreventInitialDataFetchInValueHelpDialog();o.displayBehaviour=C.getDisplayBehaviour();o.defaultFilterValues=[];d=C.getDefaultFilterValues();if(d&&d.length){a=d.length;for(j=0;j<a;j++){D=d[j];b={};b.sign=D.getSign();b.operator=D.getOperator();b.low=D.getLow();b.high=D.getHigh();o.defaultFilterValues.push(b);}}this.controlConfiguration.push(o);}l=g.length;for(i=0;i<l;i++){G=g[i];o={key:G.getKey(),index:G.getIndex(),label:G.getLabel()};this.groupConfiguration.push(o);}};A.prototype.getControlConfigurationByKey=function(k){var i,l;l=this.controlConfiguration.length;for(i=0;i<l;i++){if(this.controlConfiguration[i].key===k){return this.controlConfiguration[i];}}return undefined;};A.prototype.getControlConfiguration=function(){return this.controlConfiguration;};A.prototype.getGroupConfiguration=function(){return this.groupConfiguration;};A.prototype.getGroupConfigurationByKey=function(k){var i,l;l=this.groupConfiguration.length;for(i=0;i<l;i++){if(this.groupConfiguration[i].key===k){return this.groupConfiguration[i];}}return undefined;};return A;},true);\n",
	"sap/ui/comp/smartfilterbar/ControlConfiguration.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var C=E.extend('sap.ui.comp.smartfilterbar.ControlConfiguration',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},groupId:{type:'string',group:'Misc',defaultValue:null},label:{type:'string',group:'Misc',defaultValue:null},visible:{type:'boolean',group:'Misc',defaultValue:true},hasValueHelpDialog:{type:'boolean',group:'Misc',defaultValue:true},controlType:{type:'string',group:'Misc',defaultValue:'auto'},filterType:{type:'string',group:'Misc',defaultValue:'auto'},index:{type:'any',group:'Misc',defaultValue:undefined},hasTypeAhead:{type:'boolean',group:'Misc',defaultValue:true},mandatory:{type:'string',group:'Misc',defaultValue:'auto'},width:{type:'string',group:'Misc',defaultValue:null},visibleInAdvancedArea:{type:'boolean',group:'Misc',defaultValue:false},preventInitialDataFetchInValueHelpDialog:{type:'boolean',group:'Misc',defaultValue:true},displayBehaviour:{type:'string',group:'Misc',defaultValue:'auto'}},aggregations:{defaultFilterValues:{type:'sap.ui.comp.smartfilterbar.SelectOption',multiple:true,singularName:'defaultFilterValue'},customControl:{type:'sap.ui.core.Control',multiple:false}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});C.prototype.setFilterType=function(f){if(!C.FILTERTYPE[f]){throw'FilterType '+f+' is invalid';}this.setProperty('filterType',f);};C.prototype.setControlType=function(c){if(!C.CONTROLTYPE[c]){throw'ControlType '+c+' is invalid';}this.setProperty('controlType',c);};C.prototype.setMandatory=function(m){if(!C.MANDATORY[m]){throw'Mandatory state '+m+' is invalid';}this.setProperty('mandatory',m);};C.prototype.setVisible=function(i){this.setProperty('visible',i);this.fireChange({propertyName:'visible'});};C.prototype.setLabel=function(L){this.setProperty('label',L);this.fireChange({propertyName:'label'});};C.prototype.setVisibleInAdvancedArea=function(v){this.setProperty('visibleInAdvancedArea',v);this.fireChange({propertyName:'visibleInAdvancedArea'});};C.prototype.setDisplayBehaviour=function(d){if(!C.DISPLAYBEHAVIOUR[d]){throw'DisplayBehaviour '+d+' is invalid';}this.setProperty('displayBehaviour',d);};C.FILTERTYPE={auto:'auto',single:'single',multiple:'multiple',interval:'interval'};C.CONTROLTYPE={auto:'auto',input:'input',dropDownList:'dropDownList',date:'date'};C.MANDATORY={auto:'auto',mandatory:'mandatory',notMandatory:'notMandatory'};C.DISPLAYBEHAVIOUR={auto:'auto',descriptionOnly:'descriptionOnly',descriptionAndId:'descriptionAndId',idOnly:'idOnly',idAndDescription:'idAndDescription'};return C;},true);\n",
	"sap/ui/comp/smartfilterbar/FilterProvider.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/ComboBox','sap/m/DatePicker','sap/m/DateRangeSelection','sap/m/Input','sap/m/MultiComboBox','sap/m/MultiInput','sap/m/SearchField','sap/m/Token','sap/ui/comp/odata/MetadataAnalyser','sap/ui/comp/providers/ValueHelpProvider','sap/ui/comp/providers/ValueListProvider','sap/ui/model/Filter','sap/ui/model/json/JSONModel','sap/ui/model/type/Float'],function(q,C,D,a,I,M,b,S,T,c,V,d,F,J,e){'use strict';var f=function(p){if(p){this._oParentODataModel=p.model;this._sServiceURL=p.serviceUrl;this._sBasicSearchFieldName=p.basicSearchFieldName;this.sEntityType=p.entityType;this._isRunningInValueHelpDialog=p.isRunningInValueHelpDialog;this._oAdditionalConfiguration=p.additionalConfiguration;this.sDefaultDropDownDisplayBehaviour=p.defaultDropDownDisplayBehaviour;if(!this.sDefaultDropDownDisplayBehaviour||this.sDefaultDropDownDisplayBehaviour===sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.auto){this.sDefaultDropDownDisplayBehaviour=sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.descriptionOnly;}this.sDefaultTokenDisplayBehaviour=p.defaultTokenDisplayBehaviour;if(!this.sDefaultTokenDisplayBehaviour||this.sDefaultTokenDisplayBehaviour===sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.auto){this.sDefaultTokenDisplayBehaviour=sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.descriptionAndId;}if(typeof p.dateFormatSettings==='string'){try{this._oDateFormatSettings=p.dateFormatSettings?JSON.parse(p.dateFormatSettings):undefined;}catch(g){}}else{this._oDateFormatSettings=p.dateFormatSettings;}this._oSmartFilter=p.smartFilter;}this.sFilterModelName=f.FILTER_MODEL_NAME;this._sBasicFilterAreaID=f.BASIC_FILTER_AREA_ID;this._aFilterBarViewMetadata=[];this._aFilterBarMultiValueFieldMetadata=[];this._aFilterBarDateFieldNames=[];this._aFieldGroupAnnotation=[];this._oMetadataAnalyser=new c(this._oParentODataModel||this._sServiceURL);this.oModel=new J();this._aValueListProvider=[];this._aValueHelpDialogProvider=[];this._intialiseMetadata();};f.FILTER_MODEL_NAME='fi1t3rM0d31';f.BASIC_FILTER_AREA_ID='_BASIC';f.BASIC_SEARCH_FIELD_ID='_BASIC_SEARCH_FIELD';f.CUSTOM_FIELDS_MODEL_PROPERTY='_CUSTOM';f.prototype._intialiseMetadata=function(){var g,h,o,O,i,j,k,G,l,m;this._aFilterBarViewMetadata.push({groupName:this._sBasicFilterAreaID,index:0,fields:[]});this.sEntityTypeName=this._oMetadataAnalyser.removeNamespace(this.sEntityType);O=this._oMetadataAnalyser.getAllFilterableFieldsByEntityTypeName(this.sEntityType);if(O){this._aFieldGroupAnnotation=this._oMetadataAnalyser.getFieldGroupAnnotation(this.sEntityType);if(this._aFieldGroupAnnotation){g=this._aFieldGroupAnnotation.length;for(i=0;i<g;i++){o=this._aFieldGroupAnnotation[i];G=this._createGroupMetadata(o);G.index=this._aFilterBarViewMetadata.length;this._aFilterBarViewMetadata.push(G);}}g=O.length;for(i=0;i<g;i++){o=O[i];h=o.fields.length;G=this._createGroupMetadata(o);this._aFilterBarViewMetadata.push(G);for(j=0;j<h;j++){k=this._createFieldMetadata(o.fields[j]);G.fields.push(k);}}}m=this._getAdditionalConfigurationForCustomGroups(O);g=m.length;for(j=0;j<g;j++){G=this._createGroupMetadataForCustomGroup(m[j]);if(G){this._aFilterBarViewMetadata.push(G);}}l=this._getAdditionalConfigurationForCustomFilterFields();h=l.length;for(j=0;j<h;j++){k=this._createFieldMetadataForCustomFilterFields(l[j]);if(k){this._aFilterBarViewMetadata[0].fields.push(k);}}if(this._hasBasicSearch()){k=this._createBasicSearchFieldMetadata();this._aFilterBarViewMetadata[0].fields.push(k);}this._applyGroupId();this._applyIndexes();this._createInitialModel(true);};f.prototype._hasBasicSearch=function(){return!!this._sBasicSearchFieldName;};f.prototype._getAdditionalConfigurationForCustomFilterFields=function(){var g,l,n,i,r,j,h,o;if(!this._oAdditionalConfiguration){return[];}g=this._oAdditionalConfiguration.getControlConfiguration();o=this._oMetadataAnalyser.getAllFilterableFieldNamesByEntityTypeName(this.sEntityType);if(!o||!o.length){return g;}r=[];n=o.length;l=g.length;for(i=0;i<l;i++){h=false;for(j=0;j<n;j++){if(o[j]===g[i].key){h=true;break;}}if(!h){r.push(g[i]);}}return r;};f.prototype._getAdditionalConfigurationForCustomGroups=function(o){var g,l,n,i,r,j,h;if(!this._oAdditionalConfiguration){return[];}g=this._oAdditionalConfiguration.getGroupConfiguration();if(!o||!o.length){return g;}r=[];n=o.length;l=g.length;for(i=0;i<l;i++){h=false;for(j=0;j<n;j++){if(o[j].groupName===g[i].key){h=true;break;}}if(!h){r.push(g[i]);}}return r;};f.prototype._createInitialModelForField=function(j,o,u){var g,h,H=false,i=false,l=null,s=null,L,k=null,m=[],r=[];if(!o||o.isCustomFilterField){return;}if(o.filterRestriction!==sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.multiple){i=true;}if(u){g=o.defaultFilterValues;H=g&&g.length;}if(o.filterRestriction===sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.single){if(H){h=g[0];l=h.low;}j[o.fieldName]=l;}else if(o.filterRestriction===sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.interval){if(H){h=g[0];l=h.low;s=h.high;}j[o.fieldName]={low:l,high:s};}else{if(H){L=g.length;while(L--){h=g[L];if(i){k={'exclude':h.sign==='E','operation':h.operator,'keyField':o.fieldName,'value1':h.low,'value2':h.high};}else{k={key:h.low,text:h.low};}m.push(k);}}this._aFilterBarMultiValueFieldMetadata.push(o);j[o.fieldName]={value:null};if(i){r=m.slice(0);m=[];j[o.fieldName].ranges=r;}j[o.fieldName].items=m;this._updateMultiValueControl(o.control,m,r);}};f.prototype._createInitialModel=function(u){var o,g,h,G,j,i;o={};this._aFilterBarMultiValueFieldMetadata=[];if(this._aFilterBarViewMetadata){g=this._aFilterBarViewMetadata.length;for(i=0;i<g;i++){G=this._aFilterBarViewMetadata[i];h=G.fields.length;for(j=0;j<h;j++){this._createInitialModelForField(o,G.fields[j],u);}}}this.oModel.setData(o);};f.prototype._updateMultiValueControl=function(o,g,r){var i=0,t=null,h=null,R=null,s=null,k=null;if(o&&g){i=g.length;if(o instanceof b){t=[];while(i--){s=g[i].text||g[i].key;t.push(new T({key:g[i].key,text:s,tooltip:s}));}if(r){i=r.length;while(i--){R=r[i];s=f.getFormattedRangeText(R.operation,R.value1,R.value2,R.exclude);h=new T({key:s,text:s,tooltip:s});h.data('range',R);t.push(h);}}o.setTokens(t);}if(o instanceof M){k=[];while(i--){k.push(g[i].key);}o.setSelectedKeys(k);}}};f.prototype._applyIndexes=function(){var g,i;if(!this._aFilterBarViewMetadata){return;}this._aFilterBarViewMetadata=this._sortByIndex(this._aFilterBarViewMetadata);g=this._aFilterBarViewMetadata.length;for(i=0;i<g;i++){if(this._aFilterBarViewMetadata[i].fields){this._aFilterBarViewMetadata[i].fields=this._sortByIndex(this._aFilterBarViewMetadata[i].fields);}}};f.prototype._sortByIndex=function(A){var g,i,l,j,h,r;if(!A||!A.length){return A;}r=[];g=[];l=A.length;for(i=0;i<l;i++){if(parseInt(A[i].index,10)||A[i].index===0){if(g.length===0){g.push(A[i]);}else{h=g.length;for(j=0;j<h;j++){if(g[j].index>A[i].index){g.splice(j,0,A[i]);break;}else if(j+1===g.length){g.push(A[i]);break;}}}}else{r.push(A[i]);}}l=g.length;for(i=0;i<l;i++){if(g[i].index>r.length){r.push(g[i]);}else{r.splice(g[i].index,0,g[i]);}}return r;};f.prototype._applyGroupId=function(){var g,i,h,j,o,n,k;g=this._aFilterBarViewMetadata.length;for(i=0;i<g;i++){if(!this._aFilterBarViewMetadata[i].fields){continue;}h=this._aFilterBarViewMetadata[i].fields.length;for(j=0;j<h;j++){o=this._aFilterBarViewMetadata[i].fields[j];if(o&&o.groupId&&o.groupId!==this._aFilterBarViewMetadata[i].groupName){n=undefined;for(k=0;k<g;k++){if(this._aFilterBarViewMetadata[k].groupName===o.groupId){n=this._aFilterBarViewMetadata[k];break;}}if(n){this._aFilterBarViewMetadata[i].fields.splice(j,1);j--;h--;n.fields=n.fields||[];n.fields.push(o);}}}}};f.prototype._createGroupMetadata=function(o){var g,G;G=this._oAdditionalConfiguration.getGroupConfigurationByKey(o.groupName);g={};g.groupName=o.groupName;g.groupLabel=this._getGroupLabel(o,G);g.fields=[];g.index=this._getGroupIndex(G);return g;};f.prototype._createGroupMetadataForCustomGroup=function(g){var G;G={};G.groupName=g.key;G.groupLabel=g.label;G.fields=[];G.index=this._getGroupIndex(g);return G;};f.prototype._createControl=function(o){var g,t,i=false,h,j;if(o.customControl){return o.customControl;}if(o.type==='Edm.Decimal'){if(o.precision||o.scale){h={};if(o.precision){h['maxIntegerDigits']=parseInt(o.precision,10);}if(o.scale){h['maxFractionDigits']=parseInt(o.scale,10);}}t=new e(h);}g=new o.fControlConstructor();if(o.fControlConstructor===a){g.bindProperty('dateValue',this.sFilterModelName+'>/'+o.fieldName+'/low');g.bindProperty('secondDateValue',this.sFilterModelName+'>/'+o.fieldName+'/high');}else if(o.fControlConstructor===C){if(g.setForceSelection){g.setForceSelection(true);}this._associateValueList(g,'items',o);g.bindProperty('selectedKey',this.sFilterModelName+'>/'+o.fieldName);}else if(o.fControlConstructor===M){this._associateValueList(g,'items',o);g.attachSelectionChange(q.proxy(function(E){var k=E.getSource(),s=null,K=[],l;s=k.getSelectedItems();if(s){l=s.length;while(l--){K.push({key:s[l].getKey(),text:s[l].getText()});}}if(this.oModel){this.oModel.setProperty('/'+o.fieldName+'/items',K);}k.fireChange({value:''});},this));g.bindProperty('value',this.sFilterModelName+'>/'+o.fieldName+'/value');}else if(o.fControlConstructor===b){if(o.hasValueHelpDialog){this._associateValueHelpDialog(g,o,o.filterRestriction!==sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.multiple,true);}else{g.setShowValueHelp(false);}g.bindProperty('value',{path:this.sFilterModelName+'>/'+o.fieldName+'/value',type:t});}else if(o.fControlConstructor===I){if(o.filterRestriction===sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.interval){i=true;g.bindProperty('value',this.sFilterModelName+'>/'+o.fieldName+'/low');if(!this.oResourceBundle){this.oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}if(!this.sIntervalPlaceholder){this.sIntervalPlaceholder=this.oResourceBundle.getText('INTERVAL_PLACEHOLDER_TEXT');}g.setPlaceholder(this.sIntervalPlaceholder);}else{g.bindProperty('value',{path:this.sFilterModelName+'>/'+o.fieldName,type:t});}if(o.hasValueHelpDialog){g.setShowValueHelp(true);this._associateValueHelpDialog(g,o,false,false);}}else if(o.fControlConstructor===D){g.bindProperty('dateValue',this.sFilterModelName+'>/'+o.fieldName);}if(this._oDateFormatSettings&&this._oDateFormatSettings.style&&g instanceof D){g.setDisplayFormat(this._oDateFormatSettings.style);}if(o.hasTypeAhead){g.setShowSuggestion(true);g.setFilterSuggests(false);this._associateValueList(g,'suggestionRows',o,true);}if(o.displayFormat==='UpperCase'&&g.attachChange&&g.setValue){g.attachChange(function(){var v=g.getValue();if(v){g.setValue(v.toUpperCase());}});}if(g instanceof I){if(!o.oValueListAnnotation&&!i&&o.maxLength){g.setMaxLength(parseInt(o.maxLength,10));}if(t){j=q.proxy(function(E){var B,k,s;if(E.getParameter('newValue')===''){s=sap.ui.core.ValueState.None;if(E.getParameter('property')==='value'){B=g.getBindingInfo('value');if(B&&B.binding){this.oModel.setProperty(B.binding.getPath(),null);}}}else{s=sap.ui.core.ValueState.Error;k=E.getParameter('exception');if(k){if(g.setValueStateText){g.setValueStateText(k.message);}}}if(g&&g.setValueState){g.setValueState(s);}},this);g.attachParseError(j);g.attachFormatError(j);g.attachValidationError(j);g.attachValidationSuccess(function(E){if(g&&g.setValueState){g.setValueState(sap.ui.core.ValueState.None);}});}}return g;};f.prototype._getControlConstructor=function(o){var g=I,h,i;if(o.isCustomFilterField){return;}h=(o.filterRestriction===sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.single);i=(o.filterRestriction===sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.interval);if(o.controlType===sap.ui.comp.smartfilterbar.ControlConfiguration.CONTROLTYPE.date){g=(i)?a:D;if(!i){o.filterRestriction=sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.single;}this._aFilterBarDateFieldNames.push(o.fieldName);}else if(o.controlType===sap.ui.comp.smartfilterbar.ControlConfiguration.CONTROLTYPE.dropDownList){g=(h)?C:M;if(!h){o.filterRestriction=sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.multiple;}}else if(!h&&!i){g=b;}return g;};f.prototype._associateValueHelpDialog=function(o,g,s,h){var v;v=new V({annotation:g.oValueListAnnotation,additionalAnnotations:g.additionalAnnotations,control:o,filterModel:this.oModel,filterProvider:this,model:this._oParentODataModel,preventInitialDataFetchInValueHelpDialog:g.preventInitialDataFetchInValueHelpDialog,supportMultiSelect:h,supportRanges:s,isSingleIntervalRange:g.filterRestriction===sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.interval,fieldName:g.fieldName,type:g.type,maxLength:g.maxLength,displayFormat:g.displayFormat,displayBehaviour:g.displayBehaviour,title:g.label});this._aValueHelpDialogProvider.push(v);if(h){o.attachTokenChange(q.proxy(function(E){var t=E.getSource().getTokens(),i=[],l,j=null,r=null,R=[];if(t){l=t.length;while(l--){j=t[l];r=j.data('range');if(r){R.push(r);}else{i.push({key:j.getKey(),text:j.getText()});}}}if(this.oModel){this.oModel.setProperty('/'+g.fieldName+'/items',i);this.oModel.setProperty('/'+g.fieldName+'/ranges',R);}o.fireChange({value:''});},this));}};f.prototype._associateValueList=function(o,A,g,h){if(g.oValueListAnnotation){this._aValueListProvider.push(new d({control:o,typeAheadEnabled:h,aggregation:A,displayFormat:g.displayFormat,displayBehaviour:g.displayBehaviour,annotation:g.oValueListAnnotation,filterModel:this.oModel,filterProvider:this,model:this._oParentODataModel}));}};f.prototype._createFieldMetadata=function(o){var g,h;o.fieldName=this._getFieldName(o);h=this._oAdditionalConfiguration.getControlConfigurationByKey(o.fieldName);g={};g.fullName=o.fullName;g.fieldName=o.fieldName;g.type=o.type;g.name=o.name;g.displayFormat=o.displayFormat;g.maxLength=o.maxLength;g.precision=o.precision;g.scale=o.scale;g.filterRestriction=this._getFilterRestriction(o,h);this._setAnnotationMetadata(g);g.hasValueHelpDialog=this._hasValueHelpDialog(g,h);g.preventInitialDataFetchInValueHelpDialog=h?h.preventInitialDataFetchInValueHelpDialog:true;g.controlType=this._getControlType(g,h);g.displayBehaviour=h?h.displayBehaviour:undefined;g.isCustomFilterField=!!(h&&h.customControl);g.visibleInAdvancedArea=!!(h&&h.visibleInAdvancedArea);g.label=this._getLabel(o,h);g.quickInfo=o.quickInfo;g.isMandatory=this._isMandatory(o,h);g.width=this._getWidth(h);g.isVisible=this._isVisible(h);g.groupId=this._getGroupID(o,h);g.index=this._getIndex(o,h);g.fControlConstructor=this._getControlConstructor(g);g.hasTypeAhead=this._hasTypeAhead(g,o,h);g.customControl=h?h.customControl:undefined;g.control=this._createControl(g);this._applyWidth(g);g.defaultFilterValues=h?h.defaultFilterValues:undefined;return g;};f.prototype._createBasicSearchFieldMetadata=function(){var o;o={};o.filterRestriction=sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.single;o.name=f.BASIC_SEARCH_FIELD_ID;o.fieldName=f.BASIC_SEARCH_FIELD_ID;o.label=undefined;o.isMandatory=false;o.isVisible=true;o.groupId=f.BASIC_FILTER_AREA_ID;o.index=0;o.control=new S({width:'28rem',showSearchButton:false});o.control.bindProperty('value',this.sFilterModelName+'>/'+o.fieldName);return o;};f.prototype._applyWidth=function(o){if(o&&o.width&&o.control&&o.control.setWidth&&(typeof o.control.setWidth==='function')){o.control.setWidth(o.width);}};f.prototype._setAnnotationMetadata=function(o){var A=null;if(o){A=this._oMetadataAnalyser.getValueListAnnotation(o.fullName);o.oValueListAnnotation=A.primaryValueListAnnotation;o.additionalAnnotations=A.additionalAnnotations;}};f.prototype._createFieldMetadataForCustomFilterFields=function(o){var g;if(!o||!o.customControl){return undefined;}g={};g.name=o.key;g.fieldName=o.key;g.label=o.label;g.visibleInAdvancedArea=!!(o&&o.visibleInAdvancedArea);g.isVisible=this._isVisible(o);g.groupId=o.groupId;g.isMandatory=this._isMandatory(undefined,o);g.index=o.index;g.width=this._getWidth(o);g.control=o.customControl;g.isCustomFilterField=true;this._applyWidth(g);return g;};f.prototype._getFieldName=function(o){if(o.entityName===this.sEntityTypeName){return o.name;}else{return o.entityName+'.'+o.name;}};f.prototype._hasValueHelpDialog=function(o,g){var v=true;if(g){if(g.controlType===sap.ui.comp.smartfilterbar.ControlConfiguration.CONTROLTYPE.dropDownList){v=false;}else if(g.hasValueHelpDialog!==true){v=false;}}if(o&&!o.oValueListAnnotation){if(o.filterRestriction===sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.single||o.filterRestriction===sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.multiple){v=false;}}return v;};f.prototype._isVisible=function(o){if(o&&o.isVisible===false){return false;}return true;};f.prototype._getWidth=function(o){if(o&&o.width){return o.width;}return undefined;};f.prototype._isMandatory=function(o,g){if(g&&g.mandatory!==sap.ui.comp.smartfilterbar.ControlConfiguration.MANDATORY.auto){return g.mandatory===sap.ui.comp.smartfilterbar.ControlConfiguration.MANDATORY.mandatory;}if(o){return o.requiredField;}return false;};f.prototype._getFilterRestriction=function(o,g){var s;if(g&&g.filterType&&g.filterType!==sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.auto){s=g.filterType;}else if(o.filterRestriction==='single-value'){s=sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.single;}else if(o.filterRestriction==='multi-value'){s=sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.multiple;}else if(o.filterRestriction==='interval'){s=sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.interval;}else{s=sap.ui.comp.smartfilterbar.ControlConfiguration.FILTERTYPE.auto;}return s;};f.prototype._getControlType=function(o,g){var s;if(g&&g.controlType&&g.controlType!==sap.ui.comp.smartfilterbar.ControlConfiguration.CONTROLTYPE.auto){s=g.controlType;}else if(o.type==='Edm.DateTime'&&o.displayFormat==='Date'){s=sap.ui.comp.smartfilterbar.ControlConfiguration.CONTROLTYPE.date;}else if(o.oValueListAnnotation&&o.oValueListAnnotation.semantics==='fixed-values'){s=sap.ui.comp.smartfilterbar.ControlConfiguration.CONTROLTYPE.dropDownList;}else{s=sap.ui.comp.smartfilterbar.ControlConfiguration.CONTROLTYPE.input;}return s;};f.prototype._getGroupID=function(o,g){if(g&&g.groupId){return g.groupId;}else if(o&&o.requiredField){return this._sBasicFilterAreaID;}return this._getGroupIDFromFieldGroup(o);};f.prototype._getGroupIDFromFieldGroup=function(o){var l=0,g=null,G;if(o&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){l=this._aFieldGroupAnnotation.length;while(l--){g=this._aFieldGroupAnnotation[l];if(g&&g.fields&&g.fields.indexOf(o.name)>-1){G=g.groupName;break;}}}return G;};f.prototype._getLabel=function(o,g){if(g&&g.label){return g.label;}return this._getLabelFromFieldGroup(o)||o.fieldLabel||o.fieldName;};f.prototype._getLabelFromFieldGroup=function(o){var l=0,g=null,L;if(o&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){l=this._aFieldGroupAnnotation.length;while(l--){g=this._aFieldGroupAnnotation[l];if(g&&g.fields&&g.fields.indexOf(o.name)>-1){L=g.labels[o.name];break;}}}return L;};f.prototype._getIndex=function(o,g){if(g&&(g.index||g.index===0)){return g.index;}return this._getIndexFromFieldGroup(o);};f.prototype._getIndexFromFieldGroup=function(o){var l=0,g=null,i;if(o&&this._aFieldGroupAnnotation&&this._aFieldGroupAnnotation.length){l=this._aFieldGroupAnnotation.length;while(l--){g=this._aFieldGroupAnnotation[l];if(g&&g.fields){i=g.fields.indexOf(o.name);if(i>-1){break;}i=undefined;}}}return i;};f.prototype._getGroupIndex=function(g){if(g&&(g.index||g.index===0)){return g.index;}};f.prototype._getGroupLabel=function(o,g){if(g&&g.label){return g.label;}return o.groupLabel||o.groupName;};f.prototype._hasTypeAhead=function(o,g,h){var H;H=true;if(h){H=h.hasTypeAhead;}else if(g.type!=='Edm.String'){return false;}if(!(o.fControlConstructor===I||o.fControlConstructor===b)){return false;}return H;};f.prototype.getModel=function(){return this.oModel;};f.prototype.getFilterBarViewMetadata=function(){return this._aFilterBarViewMetadata;};f.prototype.getParameters=function(){var p,B=null;if(this.oModel){B=this.oModel.getProperty('/'+f.BASIC_SEARCH_FIELD_ID);}if(this._sBasicSearchFieldName||B){p={custom:{'search-focus':this._sBasicSearchFieldName,'search':B||''}};}return p;};f.prototype.getFilters=function(g){var o=null;if(this.oModel){o=this.oModel.getData();}return f.generateFilters(g,o,this._oDateFormatSettings);};f.prototype.getFilterData=function(){return this.oModel?this.oModel.getData():null;};f.prototype.getFilterDataAsString=function(){return this.oModel?this.oModel.getJSON():null;};f.prototype.getFilledFilterData=function(g){var o,h={},i,s,v;o=this.oModel?this.oModel.getData():null;if(o&&g){i=g.length;while(i--){s=g[i];if(s&&s!==f.BASIC_SEARCH_FIELD_ID){v=o[s];if(v&&v.hasOwnProperty('low')){if(v.low){h[s]=v;}}else if(v&&v.hasOwnProperty('items')){if(v.value&&typeof v.value==='string'){v.value=v.value.trim();}if(v.items.length||(v.ranges&&v.ranges.length)||v.value){h[s]=v;}}else if(v){if(typeof v==='string'){v=v.trim();}if(v){h[s]=v;}}}if(i===0){s=f.CUSTOM_FIELDS_MODEL_PROPERTY;v=o[s];if(v){h[s]=v;}}}}return q.extend(true,{},h);};f.prototype.getFilledFilterDataAsString=function(g){return JSON.stringify(this.getFilledFilterData(g));};f.prototype.setFilterData=function(j,r){var o=null,g=null,k=null;if(this.oModel&&j){if(r){this._createInitialModel(false);}o=this._parseFilterData(j,r);if(o){this.oModel.setData(o,true);g=[];for(k in o){g.push(k);}this._handleFilterDataUpdate(g);}}};f.prototype.setFilterDataAsString=function(j,r){if(j){this.setFilterData(JSON.parse(j),r);}};f.prototype._parseFilterData=function(j,r){return f.parseFilterData(this.oModel.getData(),j,this._aFilterBarDateFieldNames,r);};f.prototype._handleFilterDataUpdate=function(g){var i=0,o,h,j;if(this._aFilterBarMultiValueFieldMetadata){i=this._aFilterBarMultiValueFieldMetadata.length;while(i--){if(!h){h=this.oModel.getData();}if(h){o=this._aFilterBarMultiValueFieldMetadata[i];if(g.indexOf(o.fieldName)>-1){j=h[o.fieldName];if(j){this._updateMultiValueControl(o.control,j.items,j.ranges);}}}}}};f.prototype.clear=function(){this._createInitialModel(false);};f.prototype.reset=function(){this._createInitialModel(true);};f.generateFilters=function(g,o,h){var i=[],A=null,E=null,j=null,s=null,v=null,k,l,m=null,L=0,n=0;if(g&&o){n=g.length;while(n--){s=g[n];if(s&&s!==f.BASIC_SEARCH_FIELD_ID){v=o[s];if(v&&v.hasOwnProperty('low')){if(v.low&&v.high){k=v.low;l=v.high;if(h&&h.UTC&&k instanceof Date&&l instanceof Date){k=f.getDateInUTCOffset(k);l=f.getDateInUTCOffset(l);}i.push(new F(s.replace('.','/'),sap.ui.model.FilterOperator.BT,k,l));}else if(v.low){m=v.low.split('-');if(m&&m.length===2){i.push(new F(s.replace('.','/'),sap.ui.model.FilterOperator.BT,m[0],m[1]));}else{i.push(new F(s.replace('.','/'),sap.ui.model.FilterOperator.EQ,v.low));}}}else if(v&&v.hasOwnProperty('items')){A=[];j=[];E=null;if(v&&v.hasOwnProperty('ranges')){m=v.ranges;L=m.length;while(L--){if(m[L].exclude){if(m[L].operation===sap.ui.model.FilterOperator.EQ){j.push(new F(s.replace('.','/'),sap.ui.model.FilterOperator.NE,m[L].value1));}}else{A.push(new F(s.replace('.','/'),m[L].operation,m[L].value1,m[L].value2));}}if(j.length){E=new F(j,true);}}m=v.items;L=m.length;while(L--){A.push(new F(s.replace('.','/'),sap.ui.model.FilterOperator.EQ,m[L].key));}if(v.value||v.value===0){if(typeof v.value==='string'){v.value=v.value.trim();}if(v.value||v.value===0){A.push(new F(s.replace('.','/'),sap.ui.model.FilterOperator.EQ,v.value));}}if(A.length){if(E){i.push(new F([new F(A,false),E],true));}else{i.push(new F(A,false));}}else if(E){i.push(E);}}else if(v||v===0){if(typeof v==='string'){v=v.trim();}if(h&&h.UTC&&v instanceof Date){v=f.getDateInUTCOffset(v);}if(v||v===0){i.push(new F(s.replace('.','/'),sap.ui.model.FilterOperator.EQ,v));}}}}}return(i.length>1)?[new F(i,true)]:i;};f.parseFilterData=function(o,i,g,r){var R={},s=null,v=null,n,j;if(!g){g=[];}if(o&&i){j=q.extend({},i,true);for(s in j){if(o.hasOwnProperty(s)&&s!==f.CUSTOM_FIELDS_MODEL_PROPERTY){v=o[s];n=j[s];if(v&&v.hasOwnProperty('low')){if(n.low&&n.high){R[s]=n;if(!(n.low instanceof Date)){R[s].low=new Date(n.low);}if(!(n.high instanceof Date)){R[s].high=new Date(n.high);}}else if(n.low&&!n.high){R[s]={low:n.low,high:null};}}else if(v&&v.hasOwnProperty('items')){if(n.items||n.ranges){R[s]=n;}else if(typeof n==='string'||typeof n==='number'){R[s]={value:n,items:[]};}}else{R[s]=null;if(typeof n==='string'||n instanceof Date){if(typeof n==='string'&&g.indexOf(s)>-1){R[s]=new Date(n);}else{R[s]=n;}}else if(n&&(n.value||n.value===0)){R[s]=n.value;}else if(n&&n.items&&n.items.length){R[s]=n.items[0].key;}}}else if(r||s===f.CUSTOM_FIELDS_MODEL_PROPERTY){R[s]=j[s];}}}return R;};f.getDateInUTCOffset=function(o){return new Date(o.valueOf()-o.getTimezoneOffset()*60*1000);};f.getFormattedExpressionFromDisplayBehaviour=function(s,i,g){var t=null;switch(s){case sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.descriptionAndId:t=g+' ('+i+')';break;case sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.idAndDescription:t=i+' ('+g+')';break;case sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.descriptionOnly:t=g;break;default:t=i;break;}return t;};f.getFormattedRangeText=function(o,v,s,E){var t='';if(v){switch(o){case sap.ui.model.FilterOperator.EQ:t='='+v;break;case sap.ui.model.FilterOperator.GT:t='>'+v;break;case sap.ui.model.FilterOperator.GE:t='>='+v;break;case sap.ui.model.FilterOperator.LT:t='<'+v;break;case sap.ui.model.FilterOperator.LE:t='<='+v;break;case sap.ui.model.FilterOperator.Contains:t='*'+v+'*';break;case sap.ui.model.FilterOperator.StartsWith:t=v+'*';break;case sap.ui.model.FilterOperator.EndsWith:t='*'+v;break;case sap.ui.model.FilterOperator.BT:if(s){t=v+'...'+s;}break;}}if(E&&t){t='!('+t+')';}return t;};f.prototype.destroy=function(){var i=0;this._aFilterBarViewMetadata=null;this._aFilterBarDateFieldNames=null;this._aFilterBarMultiValueFieldMetadata=null;this._aFieldGroupAnnotation=null;if(this._oMetadataAnalyser&&this._oMetadataAnalyser.destroy){this._oMetadataAnalyser.destroy();}this._oMetadataAnalyser=null;if(this._aValueHelpDialogProvider){i=this._aValueHelpDialogProvider.length;while(i--){this._aValueHelpDialogProvider[i].destroy();}}this._aValueHelpDialogProvider=null;if(this._aValueListProvider){i=this._aValueListProvider.length;while(i--){this._aValueListProvider[i].destroy();}}this._aValueListProvider=null;this.oResourceBundle=null;this.sIntervalPlaceholder=null;this.sDefaultDropDownDisplayBehaviour=null;this.sDefaultTokenDisplayBehaviour=null;this._oSmartFilter=null;this.bIsDestroyed=true;};return f;},true);\n",
	"sap/ui/comp/smartfilterbar/GroupConfiguration.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var G=E.extend('sap.ui.comp.smartfilterbar.GroupConfiguration',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},index:{type:'any',group:'Misc',defaultValue:undefined},label:{type:'any',group:'Misc',defaultValue:undefined}},events:{change:{parameters:{propertyName:{type:'string'}}}}}});G.prototype.setLabel=function(L){this.setProperty('label',L);this.fireChange({propertyName:'label'});};return G;},true);\n",
	"sap/ui/comp/smartfilterbar/SelectOption.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var S=E.extend('sap.ui.comp.smartfilterbar.SelectOption',{metadata:{library:'sap.ui.comp',properties:{sign:{type:'string',group:'Misc',defaultValue:'I'},operator:{type:'string',group:'Misc',defaultValue:'EQ'},low:{type:'string',group:'Misc',defaultValue:null},high:{type:'string',group:'Misc',defaultValue:null}}}});S.SIGN={I:'I',include:'I',E:'E',exclude:'E'};S.OPERATOR={EQ:'EQ',NE:'NE',CP:'CP',GT:'GT',GE:'GE',LT:'LT',LE:'LE',NP:'NP',BT:'BT',NB:'NB'};return S;},true);\n",
	"sap/ui/comp/smartfilterbar/SmartFilterBar.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/MessageBox','sap/ui/comp/filterbar/FilterBar','sap/ui/comp/filterbar/FilterGroupItem','sap/ui/comp/filterbar/FilterItem','sap/ui/comp/library','./AdditionalConfigurationHelper','./ControlConfiguration','./FilterProvider','./GroupConfiguration','sap/ui/comp/smartvariants/PersonalizableInfo','sap/ui/comp/smartvariants/SmartVariantManagement'],function(q,M,F,a,b,l,A,C,c,G,P,S){'use strict';var d=F.extend('sap.ui.comp.smartfilterbar.SmartFilterBar',{metadata:{library:'sap.ui.comp',properties:{entityType:{type:'string',group:'Misc',defaultValue:null},resourceUri:{type:'string',group:'Misc',defaultValue:null},basicSearchFieldName:{type:'string',group:'Misc',defaultValue:null}},aggregations:{controlConfiguration:{type:'sap.ui.comp.smartfilterbar.ControlConfiguration',multiple:true,singularName:'controlConfiguration'},groupConfiguration:{type:'sap.ui.comp.smartfilterbar.GroupConfiguration',multiple:true,singularName:'groupConfiguration'}}}});d.prototype.init=function(){this._aFilterBarViewMetadata=null;this.isRunningInValueHelpDialog=false;F.prototype.init.apply(this);};d.prototype._initializeMetadata=function(){if(!this.isInitialised){this._createFilterProvider();if(this._oFilterProvider){this._aFilterBarViewMetadata=this._oFilterProvider.getFilterBarViewMetadata();if(this._aFilterBarViewMetadata){this._attachAdditionalConfigurationChanged();this.isInitialised=true;this.setModel(this._oFilterProvider.oModel,this._oFilterProvider.sFilterModelName);this._createFilterBar();this.registerGetFiltersWithValues(q.proxy(this.getFiltersWithValues,this));this.registerFetchData(q.proxy(this.getFilterDataAsString,this,true));this.registerApplyData(q.proxy(function(j){this.setFilterDataAsString(j,true);},this));this._initializeVariantManagement();}}}};d.prototype.getFilterBarViewMetadata=function(){return this._aFilterBarViewMetadata;};d.prototype._createFilterProvider=function(){var r,m,e,B,o;B=this.getBasicSearchFieldName();r=this.getResourceUri();e=this.getEntityType();o=this.getAdditionalConfiguration();m=this.getModel();if(m&&m.bLoadMetadataAsync&&!m.oMetadata.isLoaded()){if(!this._bMetadataLoadAttached){m.attachMetadataLoaded(q.proxy(this._initializeMetadata,this));this._bMetadataLoadAttached=true;}return;}if((m||r)&&e){this._oFilterProvider=new sap.ui.comp.smartfilterbar.FilterProvider({basicSearchFieldName:B,entityType:e,serviceUrl:r,isRunningInValueHelpDialog:this.isRunningInValueHelpDialog,model:m,additionalConfiguration:o,defaultDropDownDisplayBehaviour:this.data('defaultDropDownDisplayBehaviour'),defaultTokenDisplayBehaviour:this.data('defaultTokenDisplayBehaviour'),dateFormatSettings:this.data('dateFormatSettings'),smartFilter:this});}};d.prototype._attachAdditionalConfigurationChanged=function(){var e,g,i,f;g=this.getGroupConfiguration();f=g.length;for(i=0;i<f;i++){g[i].attachChange(this._handleGroupConfigurationChanged.bind(this));}e=this.getControlConfiguration();f=e.length;for(i=0;i<f;i++){e[i].attachChange(this._handleControlConfigurationChanged.bind(this));}};d.prototype._handleControlConfigurationChanged=function(e){var p,o,f,k,v;p=e.getParameter('propertyName');o=e.oSource;if(!o){return;}k=o.getKey();f=this._getFilterItemByName(k);if(!f){return;}if(p==='visible'){v=o.getVisible();f.setVisible(v);}else if(p==='label'){v=o.getLabel();f.setLabel(v);}else if(p==='visibleInAdvancedArea'){v=o.getVisibleInAdvancedArea();if(f.setVisibleInAdvancedArea){f.setVisibleInAdvancedArea(v);}}};d.prototype._handleGroupConfigurationChanged=function(e){var p,g;p=e.getParameter('propertyName');g=e.oSource;if(p==='label'){this._handleGroupConfigurationLabelChanged(g);}};d.prototype._handleGroupConfigurationLabelChanged=function(g){var f,k,L;if(!g){return;}L=g.getLabel();k=g.getKey();f=this._getFilterGroupItemByGroupName(k);if(f){f.setGroupTitle(L);}};d.prototype._getFilterItemByName=function(n){var f,e,i;f=this.getFilterItems();f.push.apply(f,this.getFilterGroupItems());e=f.length;for(i=0;i<e;i++){if(f[i].getName()===n){return f[i];}}};d.prototype._getFilterGroupItemByGroupName=function(n){var f,e,i;f=this.getFilterGroupItems();e=f.length;for(i=0;i<e;i++){if(f[i].getGroupName()===n){return f[i];}}};d.prototype.getAdditionalConfiguration=function(){return new A(this.getControlConfiguration(),this.getGroupConfiguration());};d.prototype.setEntityType=function(e){this.setProperty('entityType',e);this._initializeMetadata();};d.prototype.setResourceUri=function(r){this.setProperty('resourceUri',r);this._initializeMetadata();};d.prototype.updateBindingContext=function(){F.prototype.updateBindingContext.apply(this,arguments);this._initializeMetadata();};d.prototype._createFilterBar=function(){var f,i,j,L=0,e=0,g,o;if(!this._aFilterBarViewMetadata){return this;}L=this._aFilterBarViewMetadata.length;for(i=0;i<L;i++){f=this._aFilterBarViewMetadata[i];g=f.fields;e=g.length;for(j=0;j<e;j++){o=g[j];if(f.groupName===c.BASIC_FILTER_AREA_ID){this._createFieldInBasicArea(o);}else{this._createFieldInAdvancedArea(f.groupName,f.groupLabel,o);}if(o.name!==c.BASIC_SEARCH_FIELD_ID){this._handleEnter(o.control);this._handleChange(o.control);this._handleError(o.control);}else{this._attachToBasicSearch(o.control);}}}return this;};d.prototype._handleError=function(o){if(o){var O=q.proxy(function(){this._bInError=false;if(o&&o.getValueState&&o.getValueState()===sap.ui.core.ValueState.Error){this._bInError=true;}this.setSearchEnabled(!this._bInError);},this);o.attachParseError(O);o.attachFormatError(O);o.attachValidationError(O);o.attachValidationSuccess(q.proxy(function(){this._bInError=false;this.setSearchEnabled(true);},this));}};d.prototype._attachToBasicSearch=function(B){if(B){B.attachSearch(q.proxy(function(){this.search();},this));B.attachLiveChange(q.proxy(this._onChange,this));}};d.prototype._onChange=function(e){var o=e.getSource();if(!this._bInError&&(!o||(o&&!o.__bValidatingToken))){this.setSearchEnabled(true);this.fireFilterChange(e);}};d.prototype._handleChange=function(o){if(o){if(o.attachChange){o.attachChange(q.proxy(this._onChange,this));}}};d.prototype._handleEnter=function(o){o.attachBrowserEvent('keydown',function(e){if(e.which===13){o.__bSuggestInProgress=(o._oSuggestionPopup&&o._oSuggestionPopup.isOpen());}});o.attachBrowserEvent('keyup',q.proxy(function(e){if(!this._bInError&&(e.which===13&&!o.__bSuggestInProgress&&!o.__bValidatingToken)){this.search();}},this));};d.prototype._createFieldInBasicArea=function(f){var o;o=new b({labelTooltip:f.quickInfo,label:f.label,name:f.fieldName,control:f.control,mandatory:f.isMandatory,visible:f.isVisible});if(f.isCustomFilterField){o.data('isCustomField',true);}this.addFilterItem(o);};d.prototype._createFieldInAdvancedArea=function(g,s,f){var o;o=new a({labelTooltip:f.quickInfo,label:f.label,name:f.fieldName,groupName:g,groupTitle:s,mandatory:f.isMandatory,visible:f.isVisible,visibleInAdvancedArea:f.visibleInAdvancedArea,control:f.control});if(f.isCustomFilterField){o.data('isCustomField',true);}this.addFilterGroupItem(o);};d.prototype.getFilters=function(){var f=this._getVisibleFieldNames();return this._oFilterProvider?this._oFilterProvider.getFilters(f):[];};d.prototype.getParameters=function(){return this._oFilterProvider?this._oFilterProvider.getParameters():{};};d.prototype.getControlByKey=function(k){var f;f=this._getFilterItemByName(k);if(f){return this.determineControlByFilterItem(f);}};d.prototype._getVisibleFieldNames=function(){var f=[],v=this.getAllFilterItems(true),L=v.length,i;L=v.length;while(L--){i=v[L];if(i){f.push(i.getName());}}return f;};d.prototype.getFilterData=function(e){var D=null;if(this._oFilterProvider){if(e){D=this._oFilterProvider.getFilterData();}else{D=this._oFilterProvider.getFilledFilterData(this._getVisibleFieldNames());}}return D;};d.prototype._checkHasValueData=function(o){if(o){if(typeof o==='boolean'){return o;}else if(typeof o==='string'){if(o.toLowerCase()==='true'){return true;}}}return false;};d.prototype._checkForValues=function(D,f,o){var v=null;if(D&&f&&o){if(!f.data('isCustomField')){v=D[f.getName()];}else{var e=o.data('hasValue');if((e!==undefined)&&(e!=null)){return this._checkHasValueData(e);}else{if(o.getValue){v=o.getValue();}else if(o.getSelectedKey){v=o.getSelectedKey();}}}}return v?true:false;};d.prototype.getFiltersWithValues=function(){var f=[];var e=this.getAllFilterItems(),o,D=this.getFilterData(),L=0,g;if(e&&D){L=e.length;while(L--){o=e[L];g=this.determineControlByFilterItem(o);if(this._checkForValues(D,o,g)){f.push(o);}}}return f;};d.prototype.getFilterDataAsString=function(e){var D=null;if(this._oFilterProvider){if(e){D=this._oFilterProvider.getFilterDataAsString();}else{D=this._oFilterProvider.getFilledFilterDataAsString(this._getVisibleFieldNames());}}return D;};d.prototype.setFilterData=function(j,r){if(this._oFilterProvider){this._oFilterProvider.setFilterData(j,r);}};d.prototype.setFilterDataAsString=function(j,r){if(this._oFilterProvider){this._oFilterProvider.setFilterDataAsString(j,r);}};d.prototype.fireClear=function(){this._clearFilterFields();this.fireEvent('clear',arguments);};d.prototype._clearFilterFields=function(){if(this._oFilterProvider){this._oFilterProvider.clear();}};d.prototype.fireReset=function(){this._resetFilterFields();this.fireEvent('reset',arguments);};d.prototype._resetFilterFields=function(){if(this._oFilterProvider){this._oFilterProvider.reset();}};d.prototype.search=function(){var p=[];var o={};o.selectionSet=this._retrieveCurrentSelectionSet();p.push(o);var e=this._validateMandatoryFields();if(e){o.selectionSet=this._retrieveCurrentSelectionSet();p.push(o);this.fireSearch(p);}else{if(!this._oResourceBundle){this._oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');}if(!this._sMandatoryErrorMessage){this._sMandatoryErrorMessage=this._oResourceBundle.getText('EMPTY_MANDATORY_MESSAGE');this._sMandatoryTitle=this._oResourceBundle.getText('EMPTY_MANDATORY_CHECK_TITLE');}M.show(this._sMandatoryErrorMessage,{icon:M.Icon.ERROR,title:this._sMandatoryTitle,styleClass:!!(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});if(this._bExpandAdvancedFilterArea&&this.rerenderFilters){this.rerenderFilters(true);}}return e;};d.prototype._validateMandatoryFields=function(){var f=true,e=this.determineMandatoryFilterItems(),o,D=this.getFilterData(),L=0,g;this._bExpandAdvancedFilterArea=false;if(e&&D){L=e.length;while(L--){o=e[L];g=this.determineControlByFilterItem(o);if(g&&g.setValueState){if(this._checkForValues(D,o,g)){g.setValueState(sap.ui.core.ValueState.None);}else{f=false;g.setValueState(sap.ui.core.ValueState.Error);if(o.getGroupName){this._bExpandAdvancedFilterArea=true;}}}}}return f;};d.prototype._createVariantManagement=function(){this._oSmartVariantManagement=null;if(this.getAdvancedMode()){return F.prototype._createVariantManagement.apply(this);}this._oSmartVariantManagement=new S({showExecuteOnSelection:true,showShare:false});return this._oSmartVariantManagement;};d.prototype._initializeVariantManagement=function(){if(!this.isRunningInValueHelpDialog&&this._oSmartVariantManagement&&this.getPersistencyKey()){var p=new P({type:'filterBar',keyName:'persistencyKey',dataSource:this.getEntityType()});p.setControl(this);this._oSmartVariantManagement.addPersonalizableControl(p);var v=this._checkHasValueData(this.data('executeStandardVariantOnSelect'));if(v){this._oSmartVariantManagement._executeOnSelectForStandardVariant(v);}F.prototype._initializeVariantManagement.apply(this,arguments);}else{this.fireInitialise();}};d.prototype.getBasicSearchControl=function(){return this.getControlByKey(c.BASIC_SEARCH_FIELD_ID);};d.prototype.addFieldToAdvancedArea=function(k){var f;f=this._getFilterItemByName(k);if(f&&f.setVisibleInAdvancedArea){f.setVisibleInAdvancedArea(true);}};d.prototype.destroy=function(){F.prototype.destroy.apply(this,arguments);if(this._oFilterProvider&&this._oFilterProvider.destroy){this._oFilterProvider.destroy();}this._oFilterProvider=null;this._aFilterBarViewMetadata=null;this._bExpandAdvancedFilterArea=null;this._oResourceBundle=null;this._sMandatoryErrorMessage=null;this._sMandatoryTitle=null;this._oSmartVariantManagement=null;};return d;},true);\n",
	"sap/ui/comp/smartfilterbar/SmartFilterBarRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/filterbar/FilterBarRenderer'],function(q,F){'use strict';var S={};S.render=function(r,c){F.render.call(this,r,c);};return S;},true);\n",
	"sap/ui/comp/smartform/Group.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','sap/ui/fl/registry/ChangeRegistry','sap/ui/fl/registry/SimpleChanges','sap/ui/layout/ResponsiveFlowLayoutData','sap/ui/layout/form/FormContainer'],function(q,l,C,a,S,R,F){'use strict';var G=C.extend('sap.ui.comp.smartform.Group',{metadata:{library:'sap.ui.comp',properties:{label:{type:'string',group:'Misc',defaultValue:null},expandable:{type:'boolean',group:'Misc',defaultValue:false}},defaultAggregation:'groupElements',aggregations:{groupElements:{type:'sap.ui.comp.smartform.GroupElement',multiple:true,singularName:'groupElement'},layout:{type:'sap.ui.layout.GridData',multiple:false}}}});G.prototype.init=function(){if(!G._bHasRegisteredToFlexibilityServices){var c=a.getInstance();c.registerControlForSimpleChange(this.getMetadata().getElementName(),S.hideControl);c.registerControlForSimpleChange(this.getMetadata().getElementName(),S.unhideControl);c.registerControlForSimpleChange(this.getMetadata().getElementName(),S.renameGroup);c.registerControlForSimpleChange(this.getMetadata().getElementName(),S.addField);c.registerControlForSimpleChange(this.getMetadata().getElementName(),S.moveFields);G._bHasRegisteredToFlexibilityServices=true;}var r=new R({'linebreak':true,'linebreakable':true});this._oFormContainer=new F({'expandable':this.getExpandable(),'layoutData':r});this._updateFormContainerLabel();};G._bHasRegisteredToFlexibilityServices=false;G.prototype.setEditMode=function(e){var g=this.getGroupElements();g.forEach(function(o){o.setEditMode(e);});return this;};G.prototype._updateFormContainerLabel=function(){var t;t=new sap.ui.core.Title({text:this.getLabel()});this._oFormContainer.setTitle(t);};G.prototype.setProperty=function(p,v){var r;r=C.prototype.setProperty.apply(this,arguments);if(p==='label'){this._updateFormContainerLabel();}if(p==='expandable'){this._oFormContainer.setExpandable(v);}if(p==='visible'){this._oFormContainer.setVisible(v);}return r;};G.prototype.getFormContainer=function(){return this._oFormContainer;};G.prototype.setFormContainer=function(f){this._oFormContainer=f;};G.prototype.addAggregation=function(A,o){if(A==='groupElements'){this._oFormContainer.addFormElement(o.getFormElement());}return C.prototype.addAggregation.apply(this,arguments);};G.prototype.setAggregation=function(A,o){if(A==='layout'){if(this._oFormContainer){this._oFormContainer.setAggregation('layoutData',o);}}else{return C.prototype.setAggregation.apply(this,arguments);}};G.prototype.addGroupElement=function(g){this._oFormContainer.addFormElement(g.getFormElement());return this.addAggregation('groupElements',g);};G.prototype.addCustomData=function(c){C.prototype.addCustomData.apply(this,arguments);var g=this.getGroupElements();g.forEach(function(o){o.addCustomData(c.clone());});return this;};G.prototype.insertGroupElement=function(g,i){this._oFormContainer.insertFormElement(g.getFormElement(),i);return this.insertAggregation('groupElements',g,i);};G.prototype.removeGroupElement=function(g){var o=null;var b=[];var i=0;if(g instanceof sap.ui.comp.smartform.GroupElement){o=g;}else{b=this.getGroupElements();if(typeof g==='number'){o=b[g];}else if(typeof g==='string'){for(i;i<b.length;i++){if(b[i].sId===g){o=b[i];break;}}}}if(o){this._oFormContainer.removeFormElement(o.getFormElement());return this.removeAggregation('groupElements',o);}else{return null;}};G.prototype.removeAllGroupElements=function(){this._oFormContainer.removeAllFormElements();return this.removeAllAggregation('groupElements');};G.prototype.destroyGroupElements=function(){this._oFormContainer.destroyFormElements();return this.destroyAggregation('groupElements');};return G;},true);\n",
	"sap/ui/comp/smartform/GroupElement.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Label','sap/ui/comp/library','sap/ui/core/Control','sap/ui/fl/registry/ChangeRegistry','sap/ui/fl/registry/SimpleChanges'],function(q,L,l,C,a,S){'use strict';var G=C.extend('sap.ui.comp.smartform.GroupElement',{metadata:{library:'sap.ui.comp',properties:{label:{type:'string',group:'Misc',defaultValue:null},elementForLabel:{type:'int',group:'Misc',defaultValue:0}},defaultAggregation:'elements',aggregations:{elements:{type:'sap.ui.core.Control',multiple:true,singularName:'element'}}}});G.prototype.init=function(){if(!G._bHasRegisteredToFlexibilityServices){var c=a.getInstance();c.registerControlForSimpleChange(this.getMetadata().getElementName(),S.renameField);c.registerControlForSimpleChange(this.getMetadata().getElementName(),S.hideControl);c.registerControlForSimpleChange(this.getMetadata().getElementName(),S.unhideControl);G._bHasRegisteredToFlexibilityServices=true;}this.oFormElement=new sap.ui.layout.form.FormElement();this._oView=null;this._sViewBindingPath='';this._bLayoutApplied=false;this._sLabelBindingPath='';this._sEditMode=false;this._oLabel=null;};G._bHasRegisteredToFlexibilityServices=false;G.prototype.updateLabelOfFormElement=function(){var f=this.oFormElement.getFields();var i=this.getElementForLabel();if(!this._oLabel){if(f.length>i&&f[i].getMetadata().getName()==='sap.ui.comp.smartfield.SmartField'){if(f[i].getShowLabel()){if(this.getLabel()){f[i].setTextLabel(this.getLabel());}this._oLabel=new sap.ui.comp.smartfield.SmartLabel();this._oLabel.setLabelFor(f[i]);}}else{this._oLabel=new L();if(this.getLabel()){this._oLabel.setText(this.getLabel());}}}else if(this.getLabel()){if(f.length>i&&f[i].getMetadata().getName()==='sap.ui.comp.smartfield.SmartField'){f[i].setTextLabel(this.getLabel());this._oLabel=new sap.ui.comp.smartfield.SmartLabel();this._oLabel.setLabelFor(f[i]);}else{this._oLabel.setText(this.getLabel());}}if(this._oLabel){this.oFormElement.setLabel(this._oLabel);}};G.prototype.setEditMode=function(e){this._bEditMode=e;var E=this.getElements();var i=[];E.forEach(function(o){if(o.getMetadata().getName()==='sap.m.VBox'){i=o.getItems();i.forEach(function(I){if(I.getMetadata().getName()==='sap.ui.comp.smartfield.SmartField'){if(!(I.data('editable')===false)){I.setEditable(e);}}});}else if(o.getMetadata().getName()==='sap.ui.comp.smartfield.SmartField'){if(!(o.data('editable')===false)){o.setEditable(e);}}});return this;};G.prototype._updateFormElementVisibility=function(){if(this.getVisible()===false){return;}var f=this.oFormElement.getFields();var v=f.some(function(F){return F.getVisible();});if(this.oFormElement.getVisible()!=v){this.oFormElement.setVisible(v);}};G.prototype.getLabelText=function(){if(this._oLabel){if(this._oLabel.getText){return this._oLabel.getText();}}};G.prototype.getLabel=function(){var s=this.getProperty('label');if(!s&&this._oLabel){s=this._oLabel.getText();}return s;};G.prototype.onAfterRendering=function(){this._bLayoutApplied=false;};G.prototype.onBeforeRendering=function(){var f=this.oFormElement.getFields();if(this.getParent().getParent().getProperty('useHorizontalLayout')&&!this._bLayoutApplied){this._bLayoutApplied=true;this.oFormElement.removeAllFields();this.oFormElement.addField(new sap.m.VBox({'items':[this._oLabel].concat(f)}));}};G.prototype.setProperty=function(p,v){var r;r=C.prototype.setProperty.apply(this,arguments);if(p==='label'){this.updateLabelOfFormElement();}if(p==='visible'){this.oFormElement.setVisible(v);this._updateFormElementVisibility();}return r;};G.prototype.getFormElement=function(){return this.oFormElement;};G.prototype.addElement=function(e){var t=this;if(e.getEditable){if(!e.getEditable()){e.data('editable',false);}}if(e.attachVisibleChanged){e.attachVisibleChanged(function(E){t._updateFormElementVisibility();});}this.oFormElement.addField(e);this.updateLabelOfFormElement();};G.prototype.addCustomData=function(c){C.prototype.addCustomData.apply(this,arguments);var e=this.getFormElement().getFields();e.forEach(function(E){if(E.getMetadata().getName()==='sap.ui.comp.smartfield.SmartField'){if(c.getKey()==='defaultDropDownDisplayBehaviour'){var o=E.getConfiguration();if(!o){o=new sap.ui.comp.smartfield.Configuration();E.setConfiguration(o);}if(o.getDisplayBehaviour()==='auto'){o.setDisplayBehaviour(c.getValue());}}E.addCustomData(c.clone());}});return this;};G.prototype.getAggregation=function(A){if(A==='elements'){return this.getElements();}return C.prototype.getAggregation.apply(this,arguments);};G.prototype.insertElement=function(e,i){this.oFormElement.insertField.apply(this.oFormElement,arguments);return this;};G.prototype.removeElement=function(e){return this.oFormElement.removeField.apply(this.oFormElement,arguments);};G.prototype.removeAllElements=function(){return this.oFormElement.removeAllFields.apply(this.oFormElement,arguments);};G.prototype.getElements=function(){return this.oFormElement.getFields();};G.prototype.destroyElements=function(){this.oFormElement.destroyFields();return this;};G.prototype.indexOfElement=function(e){return this.oFormElement.indexOfField(e);};return G;},true);\n",
	"sap/ui/comp/smartform/GroupElementRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var G={};G.render=function(r,c){};return G;},true);\n",
	"sap/ui/comp/smartform/GroupRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var G={};G.render=function(r,c){c.getGroupElements().forEach(function(g){r.renderControl(g);});};return G;},true);\n",
	"sap/ui/comp/smartform/Layout.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var L=E.extend('sap.ui.comp.smartform.Layout',{metadata:{library:'sap.ui.comp',properties:{labelSpanL:{type:'int',group:'Misc',defaultValue:null},labelSpanM:{type:'int',group:'Misc',defaultValue:null},labelSpanS:{type:'int',group:'Misc',defaultValue:null},emptySpanL:{type:'int',group:'Misc',defaultValue:null},emptySpanM:{type:'int',group:'Misc',defaultValue:null},emptySpanS:{type:'int',group:'Misc',defaultValue:null},columnsL:{type:'int',group:'Misc',defaultValue:null},columnsM:{type:'int',group:'Misc',defaultValue:null},breakpointL:{type:'int',group:'Misc',defaultValue:null},breakpointM:{type:'int',group:'Misc',defaultValue:null}}}});return L;},true);\n",
	"sap/ui/comp/smartform/SmartForm.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control','sap/ui/fl/registry/ChangeRegistry','sap/ui/fl/registry/SimpleChanges','sap/ui/layout/form/Form','sap/ui/fl/Utils','sap/ui/fl/registry/Settings','sap/m/Label','sap/m/Button','sap/m/ButtonType','sap/m/Panel','sap/m/Toolbar','sap/m/ToolbarSpacer','sap/m/ToolbarSeparator'],function(q,l,C,a,S,F,U,b,L,B,c,P,T,d,e){'use strict';var f=C.extend('sap.ui.comp.smartform.SmartForm',{metadata:{library:'sap.ui.comp',properties:{title:{type:'string',group:'Misc',defaultValue:null},useHorizontalLayout:{type:'boolean',group:'Misc',defaultValue:null},checkButton:{type:'boolean',group:'Misc',defaultValue:false},entityType:{type:'string',group:'Misc',defaultValue:null},expandable:{type:'boolean',group:'Misc',defaultValue:false},expanded:{type:'boolean',group:'Misc',defaultValue:null},editTogglable:{type:'boolean',group:'Misc',defaultValue:false},editable:{type:'boolean',group:'Misc',defaultValue:false},ignoredFields:{type:'string',group:'Misc',defaultValue:null}},defaultAggregation:'groups',aggregations:{groups:{type:'sap.ui.comp.smartform.Group',multiple:true,singularName:'group'},content:{type:'sap.ui.core.Control',multiple:false,visibility:'hidden'},layout:{type:'sap.ui.comp.smartform.Layout',multiple:false},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false},customToolbar:{type:'sap.m.Toolbar',multiple:false},toolbar:{type:'sap.m.Toolbar',multiple:false,visibility:'hidden'}},events:{editToggled:{},checked:{}}}});f.prototype.init=function(){if(!f._bHasRegisteredToFlexibilityServices){var o=a.getInstance();o.registerControlForSimpleChange(this.getMetadata().getElementName(),S.removeGroup);o.registerControlForSimpleChange(this.getMetadata().getElementName(),S.addGroup);o.registerControlForSimpleChange(this.getMetadata().getElementName(),S.moveGroups);o.registerControlForSimpleChange(this.getMetadata().getElementName(),S.renameField);f._bHasRegisteredToFlexibilityServices=true;}this._sEditToggleId='';this._oForm=null;this._oPanel=null;this._oTitle=new L(this.getId()+'-title-sfmain').addStyleClass('title');this._bUpdateToolbar=true;this._sResizeListenerId='';this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');};f._bHasRegisteredToFlexibilityServices=false;f.prototype.onBeforeRendering=function(){var g=null;var o=null;var h=[];var G=[];var t=null;var i=0;var j=this;if(this._bUpdateToolbar){if(this._oCustomToolbar){this._cleanToolbar();this._addHeaderToToolbar();this._addSeparatorToToolbar();this._addEditTogglableToToolbar();this._addCheckToToolbar();this._addChangeModeToToolbar();this._removeSeparatorFromToolbar();}else{this._createToolbar();this._oToolbar.addStyleClass('titleBar');this._addHeaderToToolbar();this._addEditTogglableToToolbar();this._addCheckToToolbar();this._addChangeModeToToolbar();if(this._oToolbar.getContent().length===1&&!this.getExpandable()){this._oToolbar.destroyContent();this._oToolbar.destroy();this._oToolbar=null;this.setAggregation('toolbar',null);}}this._bUpdateToolbar=false;}var k=null;if(!this._oForm){if(this.mProperties['useHorizontalLayout']){k=new sap.ui.layout.form.ResponsiveLayout();}else{k=this._getLayout();}o=new F({'editable':this.getEditable(),'layout':[k]});this._oForm=o;}G=this.getAggregation('groups');if(G){for(i;i<G.length;i++){g=G[i];this._oForm.insertFormContainer(g.getFormContainer(),i);}}h=this.getCustomData();if(h.length>0){G.forEach(function(g){h.forEach(function(m){g.addCustomData(m.clone());});});}G.forEach(function(g){g.setEditMode(j.mProperties['editable']);});t=this._oCustomToolbar||this._oToolbar;if(this.mProperties['expandable']){this._oPanel=new P({'expanded':this.mProperties['expanded'],'expandable':true,'headerText':this.getTitle(),'headerToolbar':t});this._oPanel.attachExpand(function(E){j.setProperty('expanded',E.getParameters()['expand'],false);});this._oPanel.addContent(this._oForm);this.setAggregation('content',this._oPanel);}else{if(t){t.addStyleClass('titleBar');}this.setAggregation('content',this._oForm);}};f.prototype.onAfterRendering=function(){var i=0,I,g;var s='',v='';var t=this;if(this._sResizeListenerId){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId);}this._sResizeListenerId=sap.ui.core.ResizeHandler.register(this._oForm.getDomRef(),function(o){t.onAfterRendering();});var E=window.document.getElementsByClassName('sapUiRFLContainer');for(i=0;i<E.length;i++){if(E[i].id.indexOf('element')!=-1&&E[i].id.indexOf('cont')!=-1){I=E[i].style.cssText.indexOf('width');g=E[i].style.cssText.indexOf('%',I);if((g-I)>10){I=E[i].style.cssText.indexOf('width',I+1);g=E[i].style.cssText.indexOf('%',I);}if((g-I)<=10){v=E[i].style.cssText.substring(I+6,g);if(parseInt(v,10)>25){s=E[i].style.cssText.substring(0,I-1);s=s+E[i].style.cssText.substring(g+2);E[i].style.cssText=s;}}}}};f.prototype._getLayout=function(){var o=this.getAggregation('layout');var g=null;var G=this.getGroups();if(o){g=new sap.ui.layout.form.ResponsiveGridLayout({'labelSpanL':o.mProperties['labelSpanL']?o.mProperties['labelSpanL']:4,'labelSpanM':o.mProperties['labelSpanM']?o.mProperties['labelSpanM']:4,'emptySpanL':o.mProperties['emptySpanL']?o.mProperties['emptySpanL']:0,'emptySpanM':o.mProperties['emptySpanM']?o.mProperties['emptySpanM']:0,'columnsL':o.mProperties['columnsL']?o.mProperties['columnsL']:3,'columnsM':o.mProperties['columnsM']?o.mProperties['columnsM']:2,'breakpointL':o.mProperties['breakpointL']?o.mProperties['breakpointL']:1024,'breakpointM':o.mProperties['breakpointL']?o.mProperties['breakpointL']:600});}else{g=new sap.ui.layout.form.ResponsiveGridLayout({'labelSpanL':4,'labelSpanM':4,'emptySpanL':0,'emptySpanM':0,'columnsL':3,'columnsM':2,'breakpointL':1024,'breakpointM':600});}if(G&&G.length<g.getColumnsL()){g.setColumnsL(G.length);}return g;};f.prototype._createToolbar=function(){if(this._oToolbar){var o=this._oToolbar.removeContent(this.getId()+'-button-sfmain-editToggle');if(o){o.destroy();}o=this._oToolbar.removeContent(this.getId()+'-button-sfmain-check');if(o){o.destroy();}o=this._oToolbar.removeContent(this.getId()+'-AdaptationButton');if(o){o.destroy();}this._oToolbar.removeContent(this.getId()+'-title-sfmain');}this._oToolbar=new T({'height':'3rem'});this.setAggregation('toolbar',this._oToolbar);};f.prototype._cleanToolbar=function(){var o=this._oCustomToolbar.removeContent(this.getId()+'-button-sfmain-editToggle');if(o){o.destroy();}o=this._oCustomToolbar.removeContent(this.getId()+'-button-sfmain-check');if(o){o.destroy();}o=this._oCustomToolbar.removeContent(this.getId()+'-AdaptationButton');if(o){o.destroy();}this._oCustomToolbar.removeContent(this.getId()+'-title-sfmain');};f.prototype._addHeaderToToolbar=function(){var t=this._oCustomToolbar||this._oToolbar;var g=[];var i=0;var o=null;if(this.getProperty('title')||this.mBindingInfos['title']){t.insertContent(this._oTitle,0);}if(this._oToolbar){t.insertContent(new d(),1);}else{g=t.getContent();for(i;i<g.length;i++){if(g[i].getMetadata().getName()==='sap.m.ToolbarSpacer'){o=g[i];}}if(!o){t.addContent(new d());}}};f.prototype._addEditTogglableToToolbar=function(){var t=this._oCustomToolbar||this._oToolbar;var g=this;var o=null;var i=this.getProperty('editable')?'sap-icon://display':'sap-icon://edit';if(this.getEditTogglable()){o=new B(this.getId()+'-button-sfmain-editToggle',{type:c.Default,icon:i,press:function(){f.prototype._toggleEditMode(g);}});this._sEditToggleId=o.getId();t.addContent(o);}};f.prototype._toggleEditMode=function(s){var t=s._oCustomToolbar||s._oToolbar;s.setEditable(!s.mProperties['editable']);s.fireEditToggled({editable:s.mProperties['editable']});var i=s.getProperty('editable')?'sap-icon://display':'sap-icon://edit';t.getContent().forEach(function(I){if(I.sId===s._sEditToggleId){I.setIcon(i);}});var g=s.getGroups();g.forEach(function(G){G.setEditMode(s.mProperties['editable']);});};f.prototype._addChangeModeToToolbar=function(){var t=this;var s=U.getComponentClassName(this);var g=b.getInstance(s).then(function(o){var h=t._oCustomToolbar||t._oToolbar;if(o.isFlexChangeMode()&&o.isKeyUser()&&U.checkControlId(t)){if(!h){t._createToolbar();t._oToolbar.addStyleClass('titleBar');t._addHeaderToToolbar();h=t._oToolbar;t.invalidate();}h.addContent(new sap.m.Button(t.getId()+'-AdaptationButton',{type:sap.m.ButtonType.Default,icon:'sap-icon://action-settings',press:function(){q.sap.require('sap.ui.comp.smartform.flexibility.FormP13nHandler');var i=new sap.ui.comp.smartform.flexibility.FormP13nHandler();i.init(t);i.show();}}));}},function(E){});return g||Promise.resolve();};f.prototype._addCheckToToolbar=function(){if(!this.getEditable()){return;}var t=this._oCustomToolbar||this._oToolbar;var g=this;if(this.getCheckButton()){t.addContent(new sap.m.Button(this.getId()+'-button-sfmain-check',{type:sap.m.ButtonType.Default,text:this._oRb.getText('SMART_FORM_CHECK'),press:function(){var E=[];E=g.check();g.fireChecked({erroneousFields:E});}}));}};f.prototype.check=function(){var E=this._checkClientError();return E;};f.prototype._checkClientError=function(){var g=this.getSmartFields();var E=[];g.forEach(function(o){if(o.checkClientError()){E.push(o.getId());}});return E;};f.prototype._addSeparatorToToolbar=function(){var t=this._oCustomToolbar||this._oToolbar;t.addContent(new e());};f.prototype._removeSeparatorFromToolbar=function(){var t=this._oCustomToolbar||this._oToolbar;var o=t.getContent();var g=null;var r=[];var i=0;g=o[o.length-1];if(g.getMetadata().getName()==='sap.m.ToolbarSeparator'){t.removeContent(g);}g=null;for(i;i<o.length;i++){if(o[i].getMetadata().getName()==='sap.m.ToolbarSeparator'&&g.getMetadata().getName()!='sap.m.Button'){r.push(o[i]);}g=o[i];}for(i=0;i<r.length;i++){t.removeContent(r[i]);}};f.prototype.setEditable=function(E){C.prototype.setProperty.apply(this,['editable',E]);if(this._oForm){this._oForm.setEditable(E);}this._bUpdateToolbar=true;return this;};f.prototype.setEditTogglable=function(t){C.prototype.setProperty.apply(this,['editTogglable',t]);this._bUpdateToolbar=true;return this;};f.prototype.setTitle=function(t){C.prototype.setProperty.apply(this,['title',t]);this._oTitle.setText(t);return this;};f.prototype.getVisibleProperties=function(){var p=[];var g=this.getGroups();g.forEach(function(G){var h=G.getGroupElements();h.forEach(function(o){var i=o.getFormElement().getFields();i.forEach(function(j){if(j.getVisible()){var s=j.getBindingPath('value');if(s){p.push(s);}}});});});return p;};f.prototype.setCustomToolbar=function(o){this._oCustomToolbar=o;this._bUpdateToolbar=true;return this;};f.prototype.getCustomToolbar=function(){return this._oCustomToolbar;};f.prototype.insertGroup=function(g,i){var h=[];var o=g.getFormContainer();if(o){h=o.getFormElements();}var D={'expanded':o?o.getExpanded():true,'expandable':g.getExpandable(),'visible':g.getVisible(),'formElements':h,'title':g.getLabel()};g.setFormContainer(new sap.ui.layout.form.FormContainer(D));this.insertAggregation('groups',g,i);return this;};f.prototype.removeAllGroups=function(){if(this._oForm){this._oForm.removeAllFormContainers();}return this.removeAllAggregation('groups');};f.prototype.getSmartFields=function(){var s=[];var g=this.getGroups();g.forEach(function(G){var h=G.getGroupElements();h.forEach(function(o){var i=o.getFormElement().getFields();i.forEach(function(j){if(j.getMetadata().getName()==='sap.ui.comp.smartfield.SmartField'){s.push(j);}});});});return s;};f.prototype.exit=function(){if(this._oForm){this._oForm.destroy();}if(this._oPanel){this._oPanel.destroy();}if(this._oTitle){this._oTitle.destroy();}this._sEditToggleId='';this._oForm=null;this._oPanel=null;this._oTitle=null;this._bUpdateToolbar=true;this._sResizeListenerId='';this._oRb=null;};return f;},true);\n",
	"sap/ui/comp/smartform/SmartFormRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/layout/form/Form'],function(q,F){'use strict';var S={};S.render=function(r,c){c.getGroups().forEach(function(g){r.renderControl(g);});var t=c._oCustomToolbar||c._oToolbar;if(c.mProperties['expandable']){r.write('<div');r.writeControlData(c);r.addClass('sapUiCompSmartForm');r.writeClasses();r.write('>');r.renderControl(c._oPanel);r.write('</div>');}else{r.write('<div');r.writeControlData(c);r.addClass('sapUiCompSmartForm');r.writeClasses();r.write('>');if(t){r.renderControl(t);}r.renderControl(c._oForm);r.write('</div>');}};return S;},true);\n",
	"sap/ui/comp/smartform/flexibility/DialogContent.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Button','sap/m/FlexAlignItems','sap/m/FlexAlignSelf','sap/m/FlexDirection','sap/m/FlexItemData','sap/m/FlexJustifyContent','sap/m/HBox','sap/m/VBox','sap/ui/comp/library','sap/ui/comp/odata/FieldSelector','./FieldList','sap/ui/core/Control','sap/ui/core/ResizeHandler','sap/ui/fl/registry/Settings','sap/ui/layout/Grid'],function(q,B,F,a,b,c,d,H,V,l,e,f,C,R,S,G){'use strict';var D=C.extend('sap.ui.comp.smartform.flexibility.DialogContent',{metadata:{library:'sap.ui.comp',aggregations:{content:{type:'sap.ui.core.Control',multiple:false}}}});D.prototype.init=function(){this._oScrollView=new sap.m.ScrollContainer();var s=sap.ui.getCore().byId('smartFormPersDialog');if(s){this._oResizeDialogHandlerId=R.register(s,q.proxy(this._handleResizeDialog,this));}this._textResources=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._constructLayout();this._createButtons();this._createFieldList();this._createFieldSelector();this._initiateBinding();this.addStyleClass('sapUiSizeCompact');this._sFirstIdPart=undefined;};D.prototype._handleResizeDialog=function(){if(this._oScrollView){var h=q('#smartFormPersDialog-cont').height();var g=q('#smartFormPersDialogFieldListHeader').height();this._oScrollView.setHeight(h-g+'px');}};D.prototype._initiateBinding=function(){this._oFieldList.bindAggregation('nodes',{path:'/children',factory:this._createNodeFactoryFunction.bind(this)});this._oFieldList.attachSelectionChanged(this._onSelectionChanged.bind(this));this._oBtnMoveDown.bindProperty('enabled',{path:'/isMoveDownButtonEnabled'});this._oBtnMoveUp.bindProperty('enabled',{path:'/isMoveUpButtonEnabled'});this._oBtnMoveBottom.bindProperty('enabled',{path:'/isMoveBottomButtonEnabled'});this._oBtnMoveTop.bindProperty('enabled',{path:'/isMoveTopButtonEnabled'});};D.prototype.setViewId=function(i){this._sViewId=i;};D.prototype.initialiseODataFieldSelector=function(o,E,s,i){var O;var g=false;O=this._oFieldSelector;if(O){S.getInstance(s).then(function(h){if(h.isModelS){g=h.isModelS();}O.setModel(o,E,g,i);});}};D.prototype._createNodeFactoryFunction=function(i,o){var n,N;n={label:{path:'label'},nodes:{path:o.getPath()+'/children',factory:this._createNodeFactoryFunction.bind(this)},isSelected:{path:'isSelected'},isVisible:{path:'isVisible'}};N=new sap.ui.comp.smartform.flexibility.FieldListNode(i,n);return N;};D.prototype._onSelectionChanged=function(E){var s,n;s=E.getParameter('node');n=s.getBindingContext().getObject();this._changeSelection(n);this.getModel().updateBindings();};D.prototype._changeSelection=function(n){if(this._oSelectedFieldListNodeData){this._oSelectedFieldListNodeData.isSelected=false;}this._oSelectedFieldListNodeData=n;this._oSelectedFieldListNodeData.isSelected=true;this._readDataFromModelAndUpdateMoveButtonEnabledState();this.getModel().updateBindings();};D.prototype._readDataFromModelAndUpdateMoveButtonEnabledState=function(){var o;o=this._getDataFromModel();this._updateMoveButtonEnabledState(o);};D.prototype._updateMoveButtonEnabledState=function(o){var g,i,I,h,j;g=function(n,k,A){var m;m=A[k-1].indexOf(n.parent);i=n.parent.children.length-1>n.index;i=i||(A[k-1].length-1>m);I=(n.index>0)||(m>0);h=i;j=I;};if(this._oSelectedFieldListNodeData){this._findNodeInDataModel(o,this._oSelectedFieldListNodeData.id,g);}else{i=false;I=false;h=false;j=false;}o.isMoveDownButtonEnabled=i;o.isMoveUpButtonEnabled=I;o.isMoveBottomButtonEnabled=h;o.isMoveTopButtonEnabled=j;};D.prototype._constructLayout=function(){this.oLayout=new H({direction:b.Row});this.oLayoutLeft=new V({direction:b.Column,layoutData:new c({order:1,growFactor:2})});this.oLayoutLeft.addStyleClass('sapUiCompDialogContentFieldListContainer');this.oLayoutMiddle=new V({direction:b.Column,layoutData:new c({order:2,growFactor:1})});this.oLayoutMiddle.addStyleClass('sapUiCompDialogContentMiddle');this.oLayoutTopLeft=new G('smartFormPersDialogFieldListHeader');this.oLayoutTopLeft.addStyleClass('sapUiCompDialogContentFieldListContainerTop');this.oLayoutLeft.addItem(this.oLayoutTopLeft);this.oLayoutRight=new V({direction:b.Column,layoutData:new c({order:3,growFactor:9})});this.oLayout.addItem(this.oLayoutLeft);this.oLayout.addItem(this.oLayoutMiddle);this.oLayout.addItem(this.oLayoutRight);this.setContent(this.oLayout);};D.prototype._createFieldList=function(){this._oScrollView.setWidth('100%');this._oScrollView.setVertical(true);this._oFieldList=new f(this.getId()+'-FieldList');this._oScrollView.addContent(this._oFieldList);this._handleResizeDialog();this.oLayoutLeft.addItem(this._oScrollView);};D.prototype._createFieldSelector=function(){this._oFieldSelector=new e({layoutData:new c({order:3,growFactor:9})});this.oLayoutRight.addItem(this._oFieldSelector);};D.prototype._createButtons=function(){var t,T;this._oBtnMoveBottom=new B(this.getId()+'-MoveBottomButton',{layoutData:new sap.ui.layout.GridData({span:'L2 M3 S3'})});this._oBtnMoveBottom.setIcon('sap-icon://expand-group');this._oBtnMoveBottom.attachPress(this._onMoveBottomClick.bind(this));T=this._textResources.getText('FORM_PERS_DIALOG_MOVE_BOTTOM');this._oBtnMoveBottom.setTooltip(T);this.oLayoutTopLeft.addContent(this._oBtnMoveBottom);this._oBtnMoveDown=new B(this.getId()+'-MoveDownButton',{layoutData:new sap.ui.layout.GridData({span:'L2 M3 S3'})});this._oBtnMoveDown.setIcon('sap-icon://slim-arrow-down');this._oBtnMoveDown.attachPress(this._onMoveDownClick.bind(this));T=this._textResources.getText('FORM_PERS_DIALOG_MOVE_DOWN');this._oBtnMoveDown.setTooltip(T);this.oLayoutTopLeft.addContent(this._oBtnMoveDown);this._oBtnMoveUp=new B(this.getId()+'-MoveUpButton',{layoutData:new sap.ui.layout.GridData({span:'L2 M3 S3'})});this._oBtnMoveUp.setIcon('sap-icon://slim-arrow-up');this._oBtnMoveUp.attachPress(this._onMoveUpClick.bind(this));T=this._textResources.getText('FORM_PERS_DIALOG_MOVE_UP');this._oBtnMoveUp.setTooltip(T);this.oLayoutTopLeft.addContent(this._oBtnMoveUp);this._oBtnMoveTop=new B(this.getId()+'-MoveTopButton',{layoutData:new sap.ui.layout.GridData({span:'L2 M3 S3'})});this._oBtnMoveTop.setIcon('sap-icon://collapse-group');this._oBtnMoveTop.attachPress(this._onMoveTopClick.bind(this));T=this._textResources.getText('FORM_PERS_DIALOG_MOVE_TOP');this._oBtnMoveTop.setTooltip(T);this.oLayoutTopLeft.addContent(this._oBtnMoveTop);this._oBtnAddGroup=new B(this.getId()+'-AddGroupButton',{layoutData:new sap.ui.layout.GridData({span:'L4 M12 S12'})});t=this._textResources.getText('FORM_PERS_DIALOG_ADD_GROUP');this._oBtnAddGroup.setText(t);this._oBtnAddGroup.attachPress(this._onAddGroupClick.bind(this));T=this._textResources.getText('FORM_PERS_DIALOG_ADD_GROUP');this._oBtnAddGroup.setTooltip(T);this.oLayoutTopLeft.addContent(this._oBtnAddGroup);this._oBtnAddField=new B(this.getId()+'-AddFieldButton');this._oBtnAddField.setIcon('sap-icon://slim-arrow-left');this._oBtnAddField.attachPress(this._onAddFieldClick.bind(this));T=this._textResources.getText('FORM_PERS_DIALOG_ADD_FIELD');this._oBtnAddField.setTooltip(T);this.oLayoutMiddle.addItem(this._oBtnAddField);};D.prototype._onMoveUpClick=function(){var m,o,i;m=this.getModel();if(m){i=this._getIdOfSelectedFieldListNode();o=this._getDataFromModel();this._executeMoveUp(o,i);this._updateMoveButtonEnabledState(o);m.setData(o);}};D.prototype._onMoveDownClick=function(){var o,i,m;m=this.getModel();if(m){i=this._getIdOfSelectedFieldListNode();o=this._getDataFromModel();this._executeMoveDown(o,i);this._updateMoveButtonEnabledState(o);m.setData(o);}};D.prototype._onMoveTopClick=function(){var m,o,i;m=this.getModel();if(m){i=this._getIdOfSelectedFieldListNode();o=this._getDataFromModel();this._executeMoveTop(o,i);this._updateMoveButtonEnabledState(o);m.setData(o);}};D.prototype._onMoveBottomClick=function(){var o,i,m;m=this.getModel();if(m){i=this._getIdOfSelectedFieldListNode();o=this._getDataFromModel();this._executeMoveBottom(o,i);this._updateMoveButtonEnabledState(o);m.setData(o);}};D.prototype._onAddGroupClick=function(){var o,m;m=this.getModel();if(m){o=this._getDataFromModel();this._executeAddGroup(o);m.setData(o);}};D.prototype._getIdOfSelectedFieldListNode=function(){var n;n=this._oSelectedFieldListNodeData;if(n){return n.id;}};D.prototype._onAddFieldClick=function(E){var m,o;m=this.getModel();if(m){o=this._getDataFromModel();this._executeAddField(o);m.setData(o);}};D.prototype._getParentAndIndexNodeForNewField=function(o){var i,n,p;i=this._getIdOfSelectedFieldListNode();this._findNodeInDataModel(o,i,function(N){if(N.type==='group'){p=N;if(p.children&&p.children.length){n=p.children.length;}}else{p=N.parent;n=N.index+1;}});if(!p){p=this._getBottomGroup(o);n=p.children.length;}return{parent:p,index:n};};D.prototype._getBottomGroup=function(o){var p;if(o&&o.children&&o.children.length>0){p=o.children[o.children.length-1];}return p;};D.prototype._getDataFromModel=function(){var m;m=this.getModel();if(m){return m.getData();}};D.prototype._createAdjacenceList=function(o){var A,g;A=[];g=function(n,p,h,i){n.index=h;n.parent=p;A[i]=A[i]||[];A[i].push(n);};this._dfs(o,g);return A;};D.prototype._destroyAdjacenceList=function(o){var g;g=function(n,p,h,i){delete n.index;delete n.parent;};this._dfs(o,g);};D.prototype._dfs=function(o,g,p,n,h){var i;if(!o){return;}h=h||0;n=n||0;g(o,p,n,h);if(o&&o.children){for(i=0;i<o.children.length;i++){this._dfs(o.children[i],g,o,i,h+1);}}};D.prototype._findNodeInDataModel=function(o,i,g){var A;A=this._createAdjacenceList(o);(function(){var n,j,h,k,N;h=A.length;for(n=0;n<h;n++){k=A[n].length;for(j=0;j<k;j++){N=A[n][j];if(N.id===i){g(N,n,A);return;}}}}());this._destroyAdjacenceList(o);};D.prototype._moveDownNode=function(n,g,A){var N,h;if(n.index<n.parent.children.length-1){n.parent.children.splice(n.index,1);n.parent.children.splice(n.index+1,0,n);return;}else if(n.index===n.parent.children.length-1){h=A[g-1].indexOf(n.parent);if(h>-1){N=A[g-1][h+1];if(N){n.parent.children.splice(n.index,1);N.children=N.children||[];N.children.splice(0,0,n);return;}}}};D.prototype._moveUpNode=function(n,g,A){var N,h;if(n.index!==0){n.parent.children.splice(n.index,1);n.parent.children.splice(n.index-1,0,n);return;}else if(n.index===0){h=A[g-1].indexOf(n.parent);if(h>=1){N=A[g-1][h-1];if(N){n.parent.children.splice(n.index,1);N.children=N.children||[];N.children.push(n);return;}}}};D.prototype._moveBottomNode=function(n,g,A){var N,h;if(n.index<n.parent.children.length-1){n.parent.children.splice(n.index,1);n.parent.children.push(n);return;}else if(n.index===n.parent.children.length-1){h=A[g-1].indexOf(n.parent);if(h>-1){N=A[g-1][h+1];if(N){n.parent.children.splice(n.index,1);N.children=N.children||[];N.children.push(n);return;}}}};D.prototype._moveTopNode=function(n,g,A){var N,h;if(n.index!==0){n.parent.children.splice(n.index,1);n.parent.children.splice(0,0,n);return;}else if(n.index===0){h=A[g-1].indexOf(n.parent);if(h>=1){N=A[g-1][h-1];if(N){n.parent.children.splice(n.index,1);N.children=N.children||[];N.children.splice(0,0,n);return;}}}};D.prototype._executeMoveDown=function(o,i){return this._findNodeInDataModel(o,i,this._moveDownNode);};D.prototype._executeMoveUp=function(o,i){return this._findNodeInDataModel(o,i,this._moveUpNode);};D.prototype._executeMoveBottom=function(o,i){return this._findNodeInDataModel(o,i,this._moveBottomNode);};D.prototype._executeMoveTop=function(o,i){return this._findNodeInDataModel(o,i,this._moveTopNode);};D.prototype._executeAddField=function(o){var n,N;n=this._getParentAndIndexNodeForNewField(o);N=this._getNewNodeFromSelectedODataField(o,this._getSelectedFieldFromFieldSelector());this._addField(N,n.parent,n.index);};D.prototype._addField=function(n,p,g){if(!n){return;}p.children=p.children||[];if(g||g===0){p.children.splice(g,0,n);}else{p.children.push(n);}};D.prototype._getNewNodeFromSelectedODataField=function(o,s){var n,N;if(!s){return null;}N={id:this._sViewId+s.entityType+'_'+s.name,entitySet:s.entitySet,entityType:s.entityType,label:s.field,valueProperty:'value',fieldValue:s.name,jsType:'sap.ui.comp.smartfield.SmartField',isVisible:true,type:'field'};this._findNodeInDataModel(o,N.id,function(){n=true;});if(n){return null;}return N;};D.prototype._getSelectedFieldFromFieldSelector=function(){return this._oFieldSelector.getSelectedField();};D.prototype._executeAddGroup=function(o){var t,n;t=this._textResources.getText('FORM_PERS_DIALOG_NEW_GROUP');n={id:this._sViewId+q.sap.uid(),label:t,isVisible:true,type:'group',children:[]};o.children.splice(0,0,n);this._changeSelection(n);};D.prototype.exit=function(){if(this._oScrollView){this._oScrollView.destroy();this._oScrollView=null;}if(this._oBtnMoveBottom){this._oBtnMoveBottom.destroy();this._oBtnMoveBottom=null;}if(this._oBtnMoveDown){this._oBtnMoveDown.destroy();this._oBtnMoveDown=null;}if(this._oBtnMoveUp){this._oBtnMoveUp.destroy();this._oBtnMoveUp=null;}if(this._oBtnMoveTop){this._oBtnMoveTop.destroy();this._oBtnMoveTop=null;}if(this._oBtnAddGroup){this._oBtnAddGroup.destroy();this._oBtnAddGroup=null;}if(this._oBtnAddField){this._oBtnAddField.destroy();this._oBtnAddField=null;}if(this._oFieldSelector){this._oFieldSelector.destroy();this._oFieldSelector=null;}if(this.oLayoutRight){this.oLayoutRight.destroy();this.oLayoutRight=null;}if(this.oLayoutMiddle){this.oLayoutMiddle.destroy();this.oLayoutMiddle=null;}if(this.oLayoutTopLeft){this.oLayoutTopLeft.destroy();this.oLayoutTopLeft=null;}if(this.oLayoutLeft){this.oLayoutLeft.destroy();this.oLayoutLeft=null;}if(this.oLayout){this.oLayout.destroy();this.oLayout=null;}};return D;},true);\n",
	"sap/ui/comp/smartform/flexibility/DialogContentRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var D={};D.render=function(r,c){r.write('<div');r.writeControlData(c);r.writeClasses();r.write('>');var C=c.getContent();r.renderControl(C);r.write('</div>');};return D;},true);\n",
	"sap/ui/comp/smartform/flexibility/FieldList.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Control'],function(q,l,C){'use strict';var F=C.extend('sap.ui.comp.smartform.flexibility.FieldList',{metadata:{library:'sap.ui.comp',aggregations:{nodes:{type:'sap.ui.comp.smartform.flexibility.FieldListNode',multiple:true,singularName:'node'}},events:{selectionChanged:{}}}});F.prototype.init=function(){this._oSelectedNode=null;};F.prototype.getSelectedNode=function(){return this._oSelectedNode;};F.prototype._registerNodeSelectionChangedEvent=function(n){if(n){n.attachSelected(this._handleSelectionChanged.bind(this));}};F.prototype._deregisterNodeSelectionChangedEvent=function(n){if(n){n.detachSelected(this._handleSelectionChanged.bind(this));}};F.prototype._handleSelectionChanged=function(e){var n;n=e.getParameter('target');if(n){this.fireSelectionChanged({node:n});}};F.prototype._setSelectedNode=function(n){if(!n){return;}if(this._oSelectedNode){this._oSelectedNode.setIsSelected(false);}this._oSelectedNode=n;this._oSelectedNode.setIsSelected(true);};F.prototype.addNode=function(n){this.addAggregation('nodes',n,true);this._registerNodeSelectionChangedEvent(n);return this;};F.prototype.destroyNodes=function(n){var N,a,i;N=this.getNodes();a=N.length;for(i=0;i<a;i++){this._deregisterNodeSelectionChangedEvent(N[i]);}this.destroyAggregation('nodes');return this;};F.prototype.removeNode=function(n){this.removeAggregation('nodes',n);if(typeof n==='number'){n=this.getNodes([n]);}this._deregisterNodeSelectionChangedEvent(n);return this;};return F;},true);\n",
	"sap/ui/comp/smartform/flexibility/FieldListNode.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/CheckBox','sap/m/FlexBox','sap/m/FlexJustifyContent','sap/ui/comp/library','./Input','sap/ui/core/Control'],function(q,C,F,a,l,I,b){'use strict';var c=b.extend('sap.ui.comp.smartform.flexibility.FieldListNode',{metadata:{library:'sap.ui.comp',properties:{label:{type:'string',group:'Misc',defaultValue:null},isVisible:{type:'boolean',group:'Misc',defaultValue:null},isSelected:{type:'boolean',group:'Misc',defaultValue:null}},aggregations:{nodes:{type:'sap.ui.comp.smartform.flexibility.FieldListNode',multiple:true,singularName:'node'},layout:{type:'sap.ui.core.Control',multiple:false}},events:{selected:{parameters:{target:{type:'sap.ui.comp.smartform.flexibility.FieldListNode'}}}}}});c.prototype.init=function(){this._textResources=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._oLayout=new F({justifyContent:a.FlexStart});this._oIsVisibleCheckbox=new C(this.getId()+'-CheckBox');this._oIsVisibleCheckbox.setTooltip(this._textResources.getText('FORM_PERS_VIS_CHECKBOX_TOOLTIP'));this._oIsVisibleCheckbox.setSelected(this.getIsVisible());this._oIsVisibleCheckbox.attachSelect(this._onCheckboxChanged.bind(this));this._oIsVisibleCheckbox.setLayoutData(new sap.m.FlexItemData({order:1}));this._oLayout.addItem(this._oIsVisibleCheckbox);this._oLabelInputField=new I(this.getId()+'-Input');this._oLabelInputField.addStyleClass('sapUiCompFieldListNodeLabelInputField');this._oLabelInputField.setValue(this.getLabel());this._oLabelInputField.setEditable(false);this._oLabelInputField.attachChange(this._onLabelChanged.bind(this));this._oLabelInputField.attachSelectedByKeyboard(this._onLabelSelectedByKeyboard.bind(this));this._oLabelInputField.setLayoutData(new sap.m.FlexItemData({order:2}));this._oLayout.addItem(this._oLabelInputField);this.setLayout(this._oLayout);};c.prototype.setLabel=function(L){this._oLabelInputField.setValue(L);this.setProperty('label',L);};c.prototype.setIsVisible=function(i){this._oIsVisibleCheckbox.setSelected(i);this.setProperty('isVisible',i);};c.prototype.setIsSelected=function(i){if(!i){this._oLabelInputField.setEditable(false);}this.setProperty('isSelected',i);};c.prototype._onCheckboxChanged=function(e){var i;i=this._oIsVisibleCheckbox.getSelected();if(i!==this.getIsVisible()){this.setProperty('isVisible',i);}};c.prototype._onLabelChanged=function(e){var L;L=this._oLabelInputField.getValue();if(L!==this.getLabel()){this.setProperty('label',L);}this._oLabelInputField.setEditable(false);};c.prototype._onLabelSelectedByKeyboard=function(e){this._oLabelInputField.setEditable(true);this._fireSelectedAndDelegateToParent(this);};c.prototype.onAfterRendering=function(){this.registerToDOMEvents();};c.prototype.onBeforeRendering=function(){this.deregisterToDOMEvents();};c.prototype.registerToDOMEvents=function(){q('#'+this.getId()).on('click',q.proxy(this._handleClick,this));};c.prototype.deregisterToDOMEvents=function(){q('#'+this.getId()).off('click');};c.prototype._handleClick=function(e){var t,s;t=e.target||e.srcElement;if(t){s=sap.ui.getCore().byId(t.id);if(!(s instanceof c)){if(t.parentElement){s=sap.ui.getCore().byId(t.parentElement.id);}}}if((s===this._oLabelInputField)&&this.getIsSelected()){this._oLabelInputField.setEditable(true);}if(s===this||s===this._oLabelInputField){this._fireSelectedAndDelegateToParent(this);}};c.prototype._fireSelectedAndDelegateToParent=function(f){var p;if(!(f instanceof c)){return;}this.fireSelected({target:f});p=this.getParent();if(p&&p instanceof c){p._fireSelectedAndDelegateToParent(f);}};return c;},true);\n",
	"sap/ui/comp/smartform/flexibility/FieldListNodeRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var F={};F.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUiCompFieldListNode');if(!c.getIsVisible()){r.addClass('sapUiCompFieldListNodeIsHidden');}else{r.addClass('sapUiCompFieldListNodeIsVisible');}if(c.getIsSelected()){r.addClass('sapUiCompFieldListNodeIsSelected');}r.writeClasses();r.write('>');F.renderLayout(r,c);F.renderChildren(r,c);r.write('</div>');};F.renderLayout=function(r,c){r.renderControl(c._oLayout);};F.renderChildren=function(r,c){var l,i,C;C=c.getNodes();l=C.length;r.write('<div class=\"sapUiCompFieldListNodeBorder\">');for(i=0;i<l;i++){r.renderControl(C[i]);}r.write('</div>');};return F;},true);\n",
	"sap/ui/comp/smartform/flexibility/FieldListRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var F={};F.render=function(r,c){r.write('<div');r.writeControlData(c);r.addClass('sapUiCompFieldList');r.writeClasses();r.write('>');F.renderNodes(r,c);r.write('</div>');};F.renderNodes=function(r,c){var n,l,i;n=c.getNodes();l=n.length;for(i=0;i<l;i++){r.renderControl(n[i]);}};return F;},true);\n",
	"sap/ui/comp/smartform/flexibility/FormP13nHandler.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Dialog','sap/m/FlexBox','sap/m/FlexItemData','sap/m/Text','sap/m/Button','sap/m/DialogType','sap/ui/core/mvc/XMLView','sap/ui/comp/smartform/SmartForm','sap/ui/comp/smartform/Group','sap/ui/comp/smartform/GroupElement','sap/ui/comp/odata/FieldSelector','sap/ui/fl/Utils','sap/ui/model/json/JSONModel','sap/ui/fl/FlexControllerFactory','sap/m/MessageBox','sap/ui/comp/transport/TransportSelection','sap/ui/fl/Transports','sap/ui/fl/registry/Settings'],function(q,D,F,a,T,B,b,X,S,c,d,e,f,J,g,M,h,l,m){'use strict';var n=function(){this._oOriginalDataModelForDialog=null;};n.prototype.init=function(s){this._oSmartForm=s;this._oDialogContent=null;this._textResources=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._oDialog=this._createDialog();var t=false;if(t===false){this._oDialog.setTitle(this._textResources.getText('FORM_PERS_DIALOG_TITLE'));this._oDialogContent=this._createDialogContent();this._oDialog.addContent(this._oDialogContent);}else{this._oDialog.setType(b.Message);this._oDialog.setTitle(this._textResources.getText('FORM_PERS_DIALOG_ERR_TITLE'));this._showMergeErrorMessage();}this._createButtons();};n.prototype._createDialog=function(){var o;o=new D('smartFormPersDialog',{contentWidth:'60%',contentHeight:'60%',verticalScrolling:false,horizontalScrolling:false});return o;};n.prototype._createButtons=function(){var o=new B(this._oDialog.getId()+'-OkButton');o.setText(this._textResources.getText('FORM_PERS_DIALOG_OK'));o.attachPress(this._dialogOkClicked.bind(this));this._oDialog.addButton(o);var C=new B(this._oDialog.getId()+'-CancelButton');C.setText(this._textResources.getText('FORM_PERS_DIALOG_CANCEL'));C.attachPress({sAction:'cancel'},this._closeDialog,this);this._oDialog.addButton(C);var i=new B();i.setText(this._textResources.getText('FORM_PERS_DIALOG_RESET'));i.attachPress({sAction:'discard'},this._confirmDiscardAllChanges,this);this._oDialog.addButton(i);var t=this;var j=this._getFlexController();m.getInstance(j.getComponentName()).then(function(s){if(!s.isProductiveSystem()){var k=new B();k.setText(t._textResources.getText('FORM_PERS_DIALOG_TRANSPORT'));k.attachPress({sAction:'transport'},t._confirmTransportAllChanges,t);if(t._oDialog){t._oDialog.addButton(k);}}});};n.prototype._showTransportErrorMessage=function(E){return this._showErrorMessage(E,'FORM_PERS_TRANSPORT_ERROR_TITLE','FORM_PERS_TRANSPORT_ERROR_MESSAGE');};n.prototype._openTransportSelection=function(C){var t=this;return new Promise(function(r,i){var o=function(R){if(R&&R.getParameters){var s=R.getParameters().selectedTransport;var p=R.getParameters().selectedPackage;var k=R.getParameters().dialog;var u={transport:s,packageName:p,fromDialog:k};r(u);}else{r({});}};var E=function(k){t._showTransportErrorMessage(k).then(function(){i(k);});};var O={};if(C){O['package']=C.getPackage();O.namespace=C.getNamespace();O.name=C.getId();O.type=C.getDefinition().fileType;}var j=new sap.ui.comp.transport.TransportSelection();j.selectTransport(O,o,E,false,t._oSmartForm);});};n.prototype._dialogOkClicked=function(){var C=this._getChangeDataFromDialog();if(C.length===0){this._closeDialog();return new Promise(function(r,i){r({});});}var t=this;return t._createAndApplyChanges(C).then(function(){t._closeDialog();});};n.prototype._createAndApplyChanges=function(C){return Promise.resolve().then(function(){var o;o=this._getFlexController();function v(i){return i&&i.selector&&i.selector.id;}try{C.filter(v).forEach(function(i){var j=this._getControlById(i.selector.id);o.createAndApplyChange(i,j);}.bind(this));}finally{return o.saveAll();}}.bind(this));};n.prototype._getControlById=function(C){return sap.ui.getCore().byId(C);};n.prototype._getFlexController=function(){return g.createForControl(this._oSmartForm);};n.prototype._createDialogContent=function(){var i,j,C;if(!this._oSmartForm){return undefined;}j=this._createModelFromSmartForm(this._oSmartForm);j.isMoveDownButtonEnabled=false;j.isMoveUpButtonEnabled=false;j.isMoveBottomButtonEnabled=false;j.isMoveTopButtonEnabled=false;this._oOriginalDataModelForDialog=JSON.parse(JSON.stringify(j));this._oModel=new J();this._oModel.setData(j);i=new sap.ui.comp.smartform.flexibility.DialogContent(this._oDialog.getId()+'-Content');i.setModel(this._oModel);var v=f.getViewForControl(this._oSmartForm);i.setViewId(v.createId(''));C=f.getComponentClassName(this._oSmartForm);var I=this._getIgnoredFields(this._oSmartForm);i.initialiseODataFieldSelector(this._oSmartForm.getModel(),this._oSmartForm.getEntityType(),C,I);return i;};n.prototype._getIgnoredFields=function(s){if(s){var C=s.getIgnoredFields();if(C){var i=C.split(',');return i;}}return[];};n.prototype._createChangeSpecificDataFromDialogModel=function(j,k){var C=[],o;var p={};this._createNodeMap(j,p);var r={};this._createNodeMap(k,r);var i,I,N,s,t;var u=Object.keys(p);for(i=0;i<u.length;i++){I=u[i];if(r[I]&&r[I].node){N=p[I].node;s=r[I].node;if(N.label&&s.label&&N.label!==s.label){o=this._createLabelChange(I,s.label,s.type);if(o&&o.selector&&o.selector.id){C.push(o);}}if((N.isVisible&&!s.isVisible)||(!N.isVisible&&s.isVisible)){if(s.isVisible){t=true;}else{t=false;}C.push(this._createVisibilityChange(I,t));}}}var P={};for(i=0;i<k.length;i++){this._check4AddChanges(k[i],p,C,P);}for(i=0;i<k.length;i++){this._check4InterMoveChanges(k[i],r,p,C,P);this._check4IntraMoveChanges(k[i],r,p,C,P);}return C;};n.prototype._check4AddChanges=function(p,o,C,P){if(p&&p.id&&p.children){var i,s=0,I,j,k;j=p.id;if(o[j]&&o[j].node){var r=o[j].node;if(!P){P={};}P[j]={};P[j].index={};for(i=0;i<r.children.length;i++){k=r.children[i];I=k.id;P[j].index[I]=i;}}for(i=0;i<p.children.length;i++){k=p.children[i];if(k.id){I=k.id;if(!o[I]){var t=this._createAddChange(j,k,i);if(t&&t.selector&&t.selector.id){C.push(t);s++;if(!k.isVisible){C.push(this._createVisibilityChange(I,false));}}}else if(s>0&&P[j].index[I]!==undefined){P[j].index[I]=P[j].index[I]+s;}this._check4AddChanges(k,o,C,P);}}}};n.prototype._check4InterMoveChanges=function(p,o,r,C,P){if(p&&p.id&&p.children){var i,I,s,t,u=[],v={},w,x={};s=p.id;var L=p.children.length;for(i=0;i<L;i++){w=p.children[i];if(w.id){I=w.id;if(r[I]&&r[I].index!==undefined){if(!r[I].index[s]&&r[I].index[s]!==0){var j,y=[];y=Object.keys(r[I].index);for(j=0;j<y.length;j++){t=y[j];if(!v[t]){v[t]=[];}v[t].push({'id':I,'index':o[I].index[s]});var z,A=[],E,k;if(P[t].index[I]!==undefined){E=P[t].index[I];delete P[t].index[I];A=Object.keys(P[t].index);for(k=0;k<A.length;k++){z=A[k];if(P[t].index[z]>E){P[t].index[z]--;}}}if(P[s]){E=o[I].index[s];A=Object.keys(P[s].index);for(k=0;k<A.length;k++){z=A[k];if(P[s].index[z]>=E){P[s].index[z]++;}}P[s].index[I]=E;}}}}this._check4InterMoveChanges(w,o,r,C,P);}}if(v){u=Object.keys(v);for(i=0;i<u.length;i++){t=u[i];x=this._createMoveChange(t,p.type,v[t],p.id);if(x&&x.selector&&x.selector.id){C.push(x);}}}}};n.prototype._check4IntraMoveChanges=function(p,o,j,C,P){if(p&&p.id&&p.children){var i,I,s,k=[],r,t={};s=p.id;var L=p.children.length;for(i=0;i<L;i++){r=p.children[i];if(r.id){I=r.id;if(j[I]&&j[I].index!==undefined){if(j[I].index[s]!==undefined&&j[I].index[s]!==i){if(P[s].index[I]!==undefined&&P[s].index[I]!==i){k.push({'id':I,'index':o[I].index[s]});}}}this._check4IntraMoveChanges(r,o,j,C,P);}}if(k.length>0){t=this._createMoveChange(s,p.type,k,'');if(t&&t.selector&&t.selector.id){C.push(t);}}}};n.prototype._createAddChange=function(i,N,I){var A={};A.selector={};A.selector.id=i;A.index=I;A.newControlId=N.id;switch(N.type){case'form':A={};break;case'group':A.changeType='addGroup';if(!N.label){A.groupLabel='';}else{A.groupLabel=N.label;}break;case'field':A.changeType='addField';if(!N.label){A.fieldLabel='';}else{A.fieldLabel=N.label;}if(!N.fieldValue){A.fieldValue='';}else{A.fieldValue=N.fieldValue;}if(!N.valueProperty){A.valueProperty='';}else{A.valueProperty=N.valueProperty;}if(!N.jsType){A.jsType='';}else{A.jsType=N.jsType;}break;default:A={};break;}return A;};n.prototype._createLabelChange=function(i,L,t){var o={};o.selector={};o.selector.id=i;switch(t){case'form':o={};break;case'group':o.changeType='renameGroup';o.groupLabel=L;break;case'field':o.changeType='renameField';o.fieldLabel=L;break;default:o={};break;}return o;};n.prototype._createMoveChange=function(i,t,I,s){var o={};o.selector={};o.selector.id=i;switch(t){case'form':o.changeType='moveGroups';o.moveGroups=I;break;case'group':o.changeType='moveFields';o.moveFields=I;break;default:o={};break;}if(s){o.targetId=s;}return o;};n.prototype._createVisibilityChange=function(i,I){var v={};v.selector={};v.selector.id=i;if(I===true){v.changeType='unhideControl';}else{v.changeType='hideControl';}return v;};n.prototype._createNodeMap=function(j,N,p){if(!N){throw new Error('Node map instance must be provided');}if(!j||!j.length){return;}var o,I;var i,L=j.length;for(i=0;i<L;i++){o=j[i];if(o&&o.id){I=o.id;if(!N[I]){N[I]={};N[I].node=o;}if(p&&p.id){if(!N[I].index){N[I].index={};}N[I].index[p.id]=i;}if(o.children){this._createNodeMap(o.children,N,o);}}}};n.prototype.show=function(){this._oDialog.open();};n.prototype._showMergeErrorMessage=function(){var o=new F();o.setDirection('Column');o.setAlignItems('Start');var i=new T();i.setText(this._textResources.getText('FORM_PERS_DIALOG_ERR_DESC'));i.setLayoutData(new a({order:1,growFactor:1}));var j=new T();j.setText(this._textResources.getText('FORM_PERS_DIALOG_ERR_HINT'));j.setLayoutData(new a({order:1,growFactor:1}));o.addItem(i);o.addItem(j);this._oDialog.addContent(o);};n.prototype._closeDialog=function(){if(this._oDialogContent){this._oDialogContent.destroy();this._oDialogContent=null;}if(this._oDialog){this._oDialog.close();this._oDialog.destroy();}this._oDialog=null;};n.prototype._createSmartFormControlMap=function(s){var C=[];var k;if(s){k=s.getId();C[k]=s;var G=s.getGroups();if(G){for(var i=0;i<G.length;i++){var o=G[i];if(o){k=o.getId();C[k]=o;var p=o.getGroupElements();if(p){for(var j=0;j<p.length;j++){var r=p[j];if(r){k=r.getId();C[k]=r;}}}}}}}return C;};n.prototype._showDiscardSuccessMessage=function(){var t=this;var s=function(){t._closeDialog();};var i=this._textResources.getText('FORM_PERS_DISCARD_SUCCESS_MESSAGE');var j=this._textResources.getText('FORM_PERS_DISCARD_SUCCESS_TITLE');M.show(i,{icon:M.Icon.SUCCESS,title:j,onClose:s});};n.prototype._showTransportSuccessMessage=function(){var t=this;var s=function(){t._closeDialog();};var i=this._textResources.getText('FORM_PERS_TRANSPORT_SUCCESS_MESSAGE');var j=this._textResources.getText('FORM_PERS_TRANSPORT_SUCCESS_TITLE');M.show(i,{icon:M.Icon.SUCCESS,title:j,onClose:s});};n.prototype._showTransportInapplicableMessage=function(){var t=this;var s=function(){t._closeDialog();};var i=this._textResources.getText('FORM_PERS_TRANSPORT_INAPPLICABLE_MESSAGE');var j=this._textResources.getText('FORM_PERS_TRANSPORT_INAPPLICABLE_TITLE');M.show(i,{icon:M.Icon.INFORMATION,title:j,onClose:s});};n.prototype._showDiscardErrorMessage=function(E){var i=[E];if(E.message){i=[E.message];}var s=this._textResources.getText('FORM_PERS_DISCARD_ERROR_MESSAGE',i);var t=this._textResources.getText('FORM_PERS_DISCARD_ERROR_TITLE');M.show(s,{icon:M.Icon.ERROR,title:t});};n.prototype._showApplySaveChangesErrorMessage=function(E){return this._showErrorMessage(E,'FORM_PERS_APPLYSAVE_ERROR_TITLE','FORM_PERS_APPLYSAVE_ERROR_MESSAGE');};n.prototype._showErrorMessage=function(E,t,s){return new Promise(function(r){if(E.sId===''||E.sId==='cancel'){r();}else{var i=[E.message||E];var j=this._textResources.getText(s,i);var k=this._textResources.getText(t);M.show(j,{icon:M.Icon.ERROR,title:k,onClose:r});}}.bind(this));};n.prototype._filterChangesForSmartForm=function(C,s){var r=[];var j=this._createSmartFormControlMap(s);for(var i=0;i<C.length;i++){var o=C[i];var k=o.getSelector().id;if(j[k]){r.push(o);}}return r;};n.prototype._setTransports=function(C,i,t,j){var k=this;if(i>=0){var o=C[i];if(j===true){o.setRequest(t);i--;return k._setTransports(C,i,t,j);}else{return k._openTransportSelection(o).then(function(p){o.setRequest(p.transport);if(p.fromDialog===true){t=p.transport;j=true;}i--;return k._setTransports(C,i,t,j);});}}else{return Promise.resolve();}};n.prototype._deleteChanges=function(C,s){var t=this;var i=this._filterChangesForSmartForm(C,s);var o=t._getFlexController();var j=i.length-1;return this._setTransports(i,j).then(function(){return o.discardChanges(i);}).then(function(){t._showDiscardSuccessMessage();})['catch'](function(E){t._showDiscardErrorMessage(E);});};n.prototype._confirmDiscardAllChanges=function(){var t=this;var C=function(A){if(A==='OK'){var o=t._getFlexController();o.getComponentChanges().then(function(j){var k=t._convertToChangeArray(j);q.proxy(t._deleteChanges,t,k,t._oSmartForm).call();})['catch'](function(E){q.proxy(t._showDiscardErrorMessage,t,E).call();});}};var s=this._textResources.getText('FORM_PERS_RESET_MESSAGE');var i=this._textResources.getText('FORM_PERS_RESET_TITLE');M.confirm(s,{title:i,onClose:C});};n.prototype._confirmTransportAllChanges=function(){var C=this._getChangeDataFromDialog();var t=this;t._getAllLocalChanges().then(function(A){if(A&&C&&A.length+C.length===0){t._showTransportInapplicableMessage();return Promise.resolve();}else{t._createAndApplyChanges(C).then(function(){return t._openTransportSelection();},function(E){t._closeDialog();f.log.error('SmartForm changes could not be applied or saved: '+E);t._showApplySaveChangesErrorMessage(E);}).then(function(o){if(o&&o.transport&&o.packageName!=='$TMP'){return t._transportAllLocalChanges(o);}else{return Promise.resolve();}},function(E){t._showTransportErrorMessage(E);});}});};n.prototype._getChangeDataFromDialog=function(){var o,C;o=this._oModel.getData();C=this._createChangeSpecificDataFromDialogModel([this._oOriginalDataModelForDialog],[o]);return C;};n.prototype._getAllLocalChanges=function(){var t=this;return t._getFlexController().getComponentChanges().then(function(C){var A=t._convertToChangeArray(C);return t._filterChangesForSmartForm(A,t._oSmartForm);});};n.prototype._transportAllLocalChanges=function(t){var i=this;return i._getAllLocalChanges().then(function(A){var j=i._convertToChangeTransportData(A);var o=new l();var k={};k.transportId=t.transport;k.changeIds=j;return o.makeChangesTransportable(k).then(function(){A.forEach(function(C){if(C.getPackage()==='$TMP'){var p=C.getDefinition();p.packageName='';C.setResponse(p);}});}).then(function(){i._showTransportSuccessMessage();return Promise.resolve();});});};n.prototype._convertToChangeTransportData=function(L){var t=[];var j=L.length;for(var i=0;i<j;i++){var C=L[i];var o={};o.namespace=C.getNamespace();o.fileName=C.getId();o.fileType=C.getDefinition().fileType;t.push(o);}return t;};n.prototype._convertToChangeArray=function(C){var j=C;if(!q.isArray(C)){j=[];var k=Object.keys(C);for(var i=0;i<k.length;i++){j.push(C[k[i]]);}}return j;};n.prototype._createModelFromSmartForm=function(s){var j,o,i,p,r,t,k,u;if(s){j=this._getModelNodeForSmartForm(s);o=s.getGroups();if(o){for(i=0;i<o.length;i++){p=o[i];if(!f.checkControlId(p)){continue;}r=this._getModelNodeForSmartGroup(p);j.children.push(r);if(p){t=p.getGroupElements();if(t){for(k=0;k<t.length;k++){if(!f.checkControlId(t[k])){continue;}u=this._getModelNodeForSmartGroupElement(t[k]);r.children.push(u);}}}}}}return j;};n.prototype._getModelNodeForSmartForm=function(s){var r={};r.id=s.getId();r.label=s.getTitle();r.isVisible=s.getVisible();r.type='form';r.children=[];return r;};n.prototype._getModelNodeForSmartGroup=function(s){var r={};r.id=s.getId();r.label=s.getLabel();r.isVisible=s.getVisible();r.type='group';r.children=[];return r;};n.prototype._getModelNodeForSmartGroupElement=function(G){var r={};r.id=G.getId();r.label=G.getLabelText();r.isVisible=G.getVisible();r.type='field';return r;};return n;},true);\n",
	"sap/ui/comp/smartform/flexibility/Input.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Input','sap/ui/comp/library'],function(q,I,l){'use strict';var a=I.extend('sap.ui.comp.smartform.flexibility.Input',{metadata:{library:'sap.ui.comp',events:{selectedByKeyboard:{}}}});a.prototype.init=function(){I.prototype.init.call(this);};a.prototype.onAfterRendering=function(){var d;I.prototype.onAfterRendering.apply(this);d=this.getDomRef();if(d){d.tabIndex=0;}};a.prototype.onkeydown=function(e){var n;I.prototype.onkeydown.apply(this,arguments);n=e.keyCode;if(n===32){if(this.getEditable()===false){this.fireSelectedByKeyboard();}}};a.prototype.onsapescape=function(e){I.prototype.onsapescape.apply(this,arguments);e.stopPropagation();this.setEditable(false);};return a;},true);\n",
	"sap/ui/comp/smartform/flexibility/InputRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/InputRenderer'],function(q,I){'use strict';var a={};a.render=function(r,c){I.render(r,c);};return a;},true);\n",
	"sap/ui/comp/smarttable/SmartTable.js":"/*\n * ! SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Column','sap/m/Label','sap/m/MessageBox','sap/m/Table','sap/m/Text','sap/m/ToolbarSeparator','sap/m/VBox','sap/ui/comp/library','sap/ui/comp/providers/TableProvider','sap/ui/comp/smartfilterbar/FilterProvider','sap/ui/comp/smartvariants/SmartVariantManagement','sap/ui/model/FilterOperator','sap/ui/model/json/JSONModel','sap/ui/table/AnalyticalColumn','sap/ui/table/AnalyticalTable','sap/ui/table/Column','sap/ui/table/Table','sap/ui/table/TreeTable'],function(q,C,L,M,T,a,b,V,l,c,F,S,d,J,A,f,g,h,j){'use strict';var k=V.extend('sap.ui.comp.smarttable.SmartTable',{metadata:{library:'sap.ui.comp',properties:{entitySet:{type:'string',group:'Misc',defaultValue:null},smartFilterId:{type:'string',group:'Misc',defaultValue:null},ignoredFields:{type:'string',group:'Misc',defaultValue:null},tableType:{type:'sap.ui.comp.smarttable.TableType',group:'Misc',defaultValue:null},useVariantManagement:{type:'boolean',group:'Misc',defaultValue:true},useExportToExcel:{type:'boolean',group:'Misc',defaultValue:true},useTablePersonalisation:{type:'boolean',group:'Misc',defaultValue:true},showRowCount:{type:'boolean',group:'Misc',defaultValue:true},header:{type:'string',group:'Misc',defaultValue:null},toolbarStyleClass:{type:'string',group:'Misc',defaultValue:null},enableCustomFilter:{type:'boolean',group:'Misc',defaultValue:true},persistencyKey:{type:'string',group:'Misc',defaultValue:null},useOnlyOneSolidToolbar:{type:'boolean',group:'Misc',defaultValue:false},currentVariantId:{type:'string',group:'Misc',defaultValue:null},editable:{type:'boolean',group:'Misc',defaultValue:false},enableAutoBinding:{type:'boolean',group:'Misc',defaultValue:false},tableBindingPath:{type:'string',group:'Misc',defaultValue:null},editTogglable:{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{customToolbar:{type:'sap.m.Toolbar',multiple:false},semanticObjectController:{type:'sap.ui.comp.navpopover.SemanticObjectController',multiple:false}},events:{initialise:{},beforeRebindTable:{},editToggled:{},dataReceived:{},afterVariantSave:{},afterVariantApply:{}}}});k.prototype.init=function(){sap.m.FlexBox.prototype.init.call(this);this.addStyleClass('sapUiCompSmartTable');this.setFitContainer(true);this._bUpdateToolbar=true;};k.prototype._createVariantManagementControl=function(){if(this._oVariantManagement||(!this.getUseVariantManagement()&&!this.getUseTablePersonalisation())||!this.getPersistencyKey()){return;}var p=new sap.ui.comp.smartvariants.PersonalizableInfo({type:'table',keyName:'persistencyKey',dataSource:'TODO'});p.setControl(this);var t=this;this._oVariantManagement=new sap.ui.comp.smartvariants.SmartVariantManagement({personalizableControls:p,initialise:function(e){t._oCurrentVariant='STANDARD';},save:function(e){t._variantSaved();},afterSave:function(){t.fireAfterVariantSave({currentVariantId:t.getCurrentVariantId()});},showShare:false});this._oVariantManagement.initialise();};k.prototype._variantSaved=function(){if(this._oPersController){this._oPersController.setPersonalizationData(this._oCurrentVariant);}};k.prototype.setUseExportToExcel=function(u){this.setProperty('useExportToExcel',u,true);this._bUpdateToolbar=true;};k.prototype.setUseTablePersonalisation=function(u){this.setProperty('useTablePersonalisation',u,true);this._bUpdateToolbar=true;};k.prototype.setUseOnlyOneSolidToolbar=function(o){this.setProperty('useOnlyOneSolidToolbar',o,true);this._bUpdateToolbar=true;};k.prototype.setUseVariantManagement=function(u){this.setProperty('useVariantManagement',u,true);if(this._oPersController){this._oPersController.setResetToInitialTableState(!u);}this._bUpdateToolbar=true;};k.prototype.setToolbarStyleClass=function(s){this.setProperty('toolbarStyleClass',s,true);this._createToolbar();this._oToolbar.addStyleClass(s);};k.prototype.setCustomToolbar=function(o){if(this._oCustomToolbar){this.removeItem(this._oCustomToolbar);}this._oCustomToolbar=o;if(this._oCustomToolbar){this._oCustomToolbar.addStyleClass('sapUiCompSmartTableCustomToolbar');this._oCustomToolbar.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this.insertItem(this._oCustomToolbar,1);}this._bUpdateToolbar=true;};k.prototype.getCustomToolbar=function(){return this._oCustomToolbar;};k.prototype.setHeader=function(t){this.setProperty('header',t,true);this._refreshHeaderText();};k.prototype.setShowRowCount=function(s){this.setProperty('showRowCount',s,true);this._refreshHeaderText();};k.prototype.setEditTogglable=function(t){this.setProperty('editTogglable',t,true);this._bUpdateToolbar=true;};k.prototype.setEditable=function(e){this.setProperty('editable',e,true);};k.prototype._refreshHeaderText=function(){if(!this._headerText){this._bUpdateToolbar=true;return;}var t=this.getHeader();if(this.getShowRowCount()){var r=parseInt(this._getRowCount(),10);q.sap.require('sap.ui.core.format.NumberFormat');var v=sap.ui.core.format.NumberFormat.getFloatInstance().format(r);t+=' ('+v+')';}this._headerText.setText(t);};k.prototype._createToolbar=function(){if(!this._oToolbar){this._oToolbar=new sap.m.Toolbar();this._oToolbar.addStyleClass('sapUiCompSmartTableToolbar');if(this.getUseVariantManagement()||this.getHeader()){this._oToolbar.setDesign(sap.m.ToolbarDesign.Transparent);this._oToolbar.setHeight('3rem');}else{this._oToolbar.setDesign(sap.m.ToolbarDesign.Solid);}this._oToolbar.setLayoutData(new sap.m.FlexItemData({shrinkFactor:0}));this.insertItem(this._oToolbar,0);}};k.prototype.onBeforeRendering=function(){if(this._bUpdateToolbar&&this.bIsInitialised){if(this.getUseOnlyOneSolidToolbar()&&this._oCustomToolbar){this._addVariantManagementToToolbar(true);this._addSeparatorToToolbar(true);this._addHeaderToToolbar(true);}else{this._createToolbar();this._oToolbar.removeAllContent();this._addHeaderToToolbar();this._addSeparatorToToolbar();this._addVariantManagementToToolbar();}this._addSpacerToToolbar();this._addEditTogglableToToolbar();this._addTablePersonalisationToToolbar();this._addExportToExcelToToolbar();if(this._oToolbar&&(this._oToolbar.getContent().length===0||(this._oToolbar.getContent().length===1&&this._oToolbar.getContent()[0]instanceof sap.m.ToolbarSpacer))){this.removeItem(this._oToolbar);this._oToolbar.destroy();this._oToolbar=null;}this._bUpdateToolbar=false;}};k.prototype._addEditTogglableToToolbar=function(){var t=this._oCustomToolbar||this._oToolbar;if(this.getEditTogglable()){if(!this._oEditButton){this._oEditButton=new sap.m.Button({type:sap.m.ButtonType.Default,icon:this.getEditable()?'sap-icon://display':'sap-icon://edit',press:q.proxy(function(){var e=this.getEditable();e=!e;this.setEditable(e,true);this._oEditButton.setIcon(e?'sap-icon://display':'sap-icon://edit');this.fireEditToggled({editable:e});},this)});}if(this._oEditButton){t.addContent(this._oEditButton);}}else if(this._oEditButton){t.removeContent(this._oEditButton);}};k.prototype._addHeaderToToolbar=function(i){if(this.getHeader()){if(!this._headerText){this._headerText=new a();this._headerText.addStyleClass('sapMH4Style');this._headerText.addStyleClass('sapUiCompSmartTableHeader');}this._refreshHeaderText();if(i){this._oCustomToolbar.insertContent(this._headerText,0);}else{this._oToolbar.addContent(this._headerText);}}};k.prototype._addSeparatorToToolbar=function(i){if(this.getHeader()&&this.getUseVariantManagement()){var s=new b();if(i){this._oCustomToolbar.insertContent(s,0);}else{this._oToolbar.addContent(s);}}};k.prototype.getTable=function(){return this._oTable;};k.prototype._addVariantManagementToToolbar=function(i){if(this.getUseVariantManagement()){this._createVariantManagementControl();if(i){this._oCustomToolbar.insertContent(this._oVariantManagement,0);}else{this._oToolbar.addContent(this._oVariantManagement);}}};k.prototype._addExportToExcelToToolbar=function(){if(this.getUseExportToExcel()&&this._bTableSupportsExcelExport){var t=this;if(!this._oUseExportToExcel){this._oUseExportToExcel=new sap.m.Button({type:sap.m.ButtonType.Default,icon:'sap-icon://excel-attachment',tooltip:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('TABLE_EXPORT_TEXT'),press:function(e){var D=function(){var R=t._getRowBinding();var u=R.getDownloadUrl('xlsx');window.open(u);};var r=t._getRowCount();if(r>10000){M.confirm(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('DOWNLOAD_CONFIRMATION_TEXT',r),{actions:[M.Action.YES,M.Action.NO],onClose:function(i){if(i===M.Action.YES){D();}}});}else{D();}}});this._setExcelExportEnableState();}var o=this._oCustomToolbar||this._oToolbar;o.addContent(this._oUseExportToExcel);}};k.prototype._getRowCount=function(){var r=this._getRowBinding();if(!r){return 0;}var R=0;if(r.getTotalSize){R=r.getTotalSize();}else{R=r.getLength();}if(R<0||R==='0'){R=0;}return R;};k.prototype._setExcelExportEnableState=function(){if(this._oUseExportToExcel){var r=this._getRowCount();if(r>0){this._oUseExportToExcel.setEnabled(true);}else{this._oUseExportToExcel.setEnabled(false);}}};k.prototype._addSpacerToToolbar=function(){var t=this._oCustomToolbar||this._oToolbar;var I=t.getContent();var e=false;if(I){var m=I.length;var i=0;for(i;i<m;i++){if(I[i]instanceof sap.m.ToolbarSpacer){e=true;break;}}}if(!e){t.addContent(new sap.m.ToolbarSpacer());}};k.prototype._addTablePersonalisationToToolbar=function(){if(this.getUseTablePersonalisation()){if(!this._oTablePersonalisationButton){this._oTablePersonalisationButton=new sap.m.Button({type:sap.m.ButtonType.Default,icon:'sap-icon://action-settings',press:q.proxy(function(e){this._oPersController.openDialog();},this)});}var t=this._oCustomToolbar||this._oToolbar;t.addContent(this._oTablePersonalisationButton);}};k.prototype._createPersonalizationController=function(){if(this._oPersController||!this.getUseTablePersonalisation()){return;}var s=this.data('p13nDialogSettings');if(typeof s==='string'){try{s=JSON.parse(s);}catch(e){s=null;}}q.sap.require('sap.ui.comp.personalization.Controller');this._oPersController=new sap.ui.comp.personalization.Controller({table:this._oTable,setting:s,resetToInitialTableState:!this.getUseVariantManagement(),beforePotentialTableChange:q.proxy(this._beforePersonalisationModelDataChange,this),afterPotentialTableChange:q.proxy(this._afterPersonalisationModelDataChange,this),afterP13nModelDataChange:q.proxy(this._personalisationModelDataChange,this)});};k.prototype._getRowBinding=function(){if(this._oTable){return this._oTable.getBinding(this._sAggregation);}};k.prototype.setEntitySet=function(e){this.setProperty('entitySet',e);this._initialiseMetadata();};k.prototype.propagateProperties=function(){V.prototype.propagateProperties.apply(this,arguments);this._initialiseMetadata();};k.prototype._initialiseMetadata=function(){if(!this.bIsInitialised){this._createTableProvider();if(this._oTableProvider){this._aTableViewMetadata=this._oTableProvider.getTableViewMetadata();if(this._aTableViewMetadata){this.bIsInitialised=true;this._bTableSupportsExcelExport=this._oTableProvider.getSupportsExcelExport();this._listenToSmartFilter();this._createContent();this._createVariantManagementControl();this._createPersonalizationController();this._oEditModel=new J({editable:this.getEditable()});this.bindProperty('editable',{path:'sm4rtM0d3l>/editable'});this.setModel(this._oEditModel,'sm4rtM0d3l');if(this._bUpdateToolbar){this.rerender();}this.fireInitialise();if(this.getEnableAutoBinding()){this._reBindTable();}}}}};k.prototype._createTableProvider=function(){var m,e,i;e=this.getEntitySet();i=this.getIgnoredFields();m=this.getModel();if(m&&!this._bTableCreated){this._aExistingColumns=[];this._oTemplate=null;this._createTable();this._bTableCreated=true;}if(m&&m.bLoadMetadataAsync&&!m.oMetadata.isLoaded()){if(!this._bMetadataLoadAttached){m.attachMetadataLoaded(q.proxy(this._initialiseMetadata,this));this._bMetadataLoadAttached=true;}return;}if(m&&e){if(this._aExistingColumns.length){if(i){i+=','+this._aExistingColumns.toString();}else{i=this._aExistingColumns.toString();}}this._oTableProvider=new sap.ui.comp.providers.TableProvider({entitySet:e,ignoredFields:i,isEditableTable:this.getEditable(),dateFormatSettings:this.data('dateFormatSettings'),currencyFormatSettings:this.data('currencyFormatSettings'),defaultDropDownDisplayBehaviour:this.data('defaultDropDownDisplayBehaviour'),useSmartField:this.data('useSmartField'),model:m});}};k.prototype._listenToSmartFilter=function(){var s=null;s=this.getSmartFilterId();this._oSmartFilter=this._findControl(s);if(this._oSmartFilter){this._oSmartFilter.attachSearch(q.proxy(this._reBindTable,this));this._oSmartFilter.attachFilterChange(q.proxy(function(){this._oTable.setShowOverlay(true);},this));if(this._oTable.setNoDataText){this._oTable.setNoDataText(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_DATA'));}}};k.prototype._findControl=function(i){var r,v;if(i){r=sap.ui.getCore().getControl(i);if(!r){v=this._getView();if(v){r=v.byId(i);}}}return r;};k.prototype._getView=function(){if(!this._oView){var o=this.getParent();while(o){if(o instanceof sap.ui.core.mvc.View){this._oView=o;break;}o=o.getParent();}}return this._oView;};k.prototype.rebindTable=function(){this._reBindTable();};k.prototype._reBindTable=function(){var t,e,s,i,p={},B={preventTableBind:false};t=this._getTablePersonalisationData()||{};e=t.filters;i=t.sorters;if(this._oSmartFilter){var m=this._oSmartFilter.getFilters();if(e){e=m.concat(e);}else{e=m;}p=this._oSmartFilter.getParameters()||{};}s=this._getVisibleColumnPaths();if(s&&s.length){p['select']=s.toString();}p['useBatchRequests']=true;if(!i){i=[];}B.filters=e;B.sorter=i;B.parameters=p;this.fireBeforeRebindTable({bindingParams:B});if(!B.preventTableBind){i=B.sorter;e=B.filters;s=B.parameters['select'];if(!s||!s.length){M.show(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_COLS'),{icon:M.Icon.ERROR,title:sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('EMPTY_MANDATORY_CHECK_TITLE'),styleClass:!!(this.$()&&this.$().closest('.sapUiSizeCompact').length)?'sapUiSizeCompact':''});return;}this._oTable.setBusy(true);if(this._oTable.setNoDataText){this._oTable.setNoDataText(' ');}if(this._oTable._setSuppressRefresh){this._oTable._setSuppressRefresh(false);}this._oTable.bindRows({path:this.getTableBindingPath()||('/'+this.getEntitySet()),filters:e,sorter:i,parameters:p,template:this._oTemplate,events:{dataReceived:q.proxy(function(){if(!this._getRowCount()){if(this._oTable.setNoDataText){this._oTable.setNoDataText(sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp').getText('SMARTTABLE_NO_RESULTS'));}}this._oTable.setBusy(false);this.updateTableHeaderState();this.fireDataReceived();this._disableSumRows();},this)}});this._oTable.setShowOverlay(false);this._bIsTableBound=true;}};k.prototype.updateTableHeaderState=function(){this._refreshHeaderText();this._setExcelExportEnableState();};k.prototype._createContent=function(){var i,e=0,o,m;e=this._aTableViewMetadata.length;for(i=0;i<e;i++){o=this._aTableViewMetadata[i];this._registerContentTemplateEvents(o.template);m=this._createColumn(o);m.data('p13nData',{columnKey:o.name,leadingProperty:o.name,additionalProperty:(o.isCurrencyField&&o.unit)?o.unit:undefined,sortProperty:o.sortable?o.name:undefined,filterProperty:o.filterable?o.name:undefined,type:o.filterType,maxLength:o.maxLength,precision:o.precision,scale:o.scale,aggregationRole:o.aggregationRole});this._oTable.addColumn(m);}};k.prototype._registerContentTemplateEvents=function(t){if(t instanceof sap.ui.comp.navpopover.SmartLink){var s=this.getSemanticObjectController();t.setSemanticObjectController(s);}};k.prototype._updateInitialColumns=function(){var i=this._oTable.getColumns(),m=i?i.length:0,o,n,s;while(m--){s=null;o=i[m];if(o){if(o.getLeadingProperty){s=o.getLeadingProperty();}n=o.data('p13nData');if(typeof n==='string'){try{n=JSON.parse(n);}catch(e){}if(n){o.data('p13nData',n);}}if(!s){if(n){s=n['leadingProperty'];}}if(s){this._aExistingColumns.push(s);}}}};k.prototype._getVisibleColumnPaths=function(){var s=[],e=this._oTable.getColumns(),i,m=e?e.length:0,o,n,p,r;for(i=0;i<m;i++){o=e[i];p=null;if(o.getVisible()){if(o.getLeadingProperty){p=o.getLeadingProperty();}n=o.data('p13nData');if(n){if(!p){p=n['leadingProperty'];}r=n['additionalProperty'];}if(p&&s.indexOf(p)<0){s.push(p);}if(r&&s.indexOf(r)<0){s.push(r);}}}return s;};k.prototype._createTable=function(){var e=this.getItems(),i=e?e.length:0,t;this._sAggregation='rows';while(i--){t=e[i];if(t instanceof h||t instanceof T){break;}t=null;}if(t){this._oTable=t;if(t instanceof f){this._isAnalyticalTable=true;}else if(t instanceof T){this._isMobileTable=true;this._oTemplate=(t.getItems()&&t.getItems().length>0)?t.getItems()[0]:new sap.m.ColumnListItem();t.removeAllItems();}else if(t instanceof j){this._isTreeTable=true;}this._updateInitialColumns();}else{if(this.getTableType()==='AnalyticalTable'){this._isAnalyticalTable=true;this._oTable=new f({enableCustomFilter:true});}else if(this.getTableType()==='ResponsiveTable'){this._isMobileTable=true;this._oTable=new T({growing:true});this._oTemplate=new sap.m.ColumnListItem();}else if(this.getTableType()==='TreeTable'){this._isTreeTable=true;this._oTable=new j();}else{this._oTable=new h();}if(this._oTable.setVisibleRowCountMode){this._oTable.setVisibleRowCountMode(sap.ui.table.VisibleRowCountMode.Auto);}this.insertItem(this._oTable,2);}this._oTable.setLayoutData(new sap.m.FlexItemData({growFactor:1}));this._oTable.addStyleClass('sapUiCompSmartTableInnerTable');this._oTable.setEnableBusyIndicator(true);this._oTable.setBusyIndicatorDelay(0);if(this._oTable.setEnableCustomFilter){this._oTable.setEnableCustomFilter(this.getEnableCustomFilter());}if(this._oTable.getEnableCustomFilter&&this._oTable.getEnableCustomFilter()){if(this._oTable.setEnableCellFilter){this._oTable.setEnableCellFilter(false);}if(this._oTable.attachCustomFilter){this._oTable.attachCustomFilter(q.proxy(this._showTableFilterDialog,this));}}if(this._isAnalyticalTable){this._createColumn=this._createAnalyticalColumn;}else if(this._isMobileTable){this._sAggregation='items';this._createColumn=this._createMobileColumn;this._oTable.bindRows=this._oTable.bindItems;}};k.prototype._showTableFilterDialog=function(e){if(this._oPersController){this._oPersController.openDialog({filter:{visible:true,payload:{column:e.getParameter('column')}}});}};k.prototype._disableSumRows=function(){if(sap.ui.Device.browser.msie&&sap.ui.Device.browser.version<11){q.sap.delayedCall(60,this,function(){if(this.getEditable()){this._oTable.$().find('.sapUiAnalyticalTableSum input').prop('disabled',true);this._oTable.$().find('.sapUiTableGroupHeader input').prop('disabled',true);}});}};k.prototype._createColumn=function(o){var e;e=new g({autoResizable:true,hAlign:o.align,width:o.width,visible:o.isInitiallyVisible,label:new L({textAlign:o.align,text:o.label}),tooltip:o.quickInfo,showSortMenuEntry:o.sortable,showFilterMenuEntry:o.filterable,name:o.fieldName,template:o.template});return e;};k.prototype._createAnalyticalColumn=function(o){var e;e=new A({autoResizable:true,hAlign:o.align,width:o.width,visible:o.isInitiallyVisible,label:new L({textAlign:o.align,text:o.label}),tooltip:o.quickInfo,showSortMenuEntry:o.sortable,showFilterMenuEntry:o.filterable,summed:o.summed,leadingProperty:o.name,template:o.template});return e;};k.prototype._createMobileColumn=function(o){var e;e=(new C({hAlign:o.align,visible:o.isInitiallyVisible,header:new a({text:o.label}),tooltip:o.quickInfo}));if(o.template&&o.template.setWrapping){o.template.setWrapping(true);}if(this._oTemplate){this._oTemplate.addCell(o.template);}return e;};k.prototype.fetchVariant=function(){if(this._oCurrentVariant==='STANDARD'||this._oCurrentVariant===null){return{};}return this._oCurrentVariant;};k.prototype.applyVariant=function(v){this._oCurrentVariant=v;if(this._oCurrentVariant==='STANDARD'){this._oCurrentVariant=null;}this._bApplyingVariant=true;if(this._oTable._setSuppressRefresh){this._oTable._setSuppressRefresh(true);}if(this._oPersController){if(this._oCurrentVariant===null){this._oPersController.resetPersonalization();}else{this._oPersController.setPersonalizationData(this._oCurrentVariant);}}if(this._bIsTableBound||!this._oSmartFilter){this._reBindTable();}else{this._oTable.setShowOverlay(true);}this._bApplyingVariant=false;this.fireAfterVariantApply({currentVariantId:this.getCurrentVariantId()});};k.prototype._beforePersonalisationModelDataChange=function(e){this._oTable.setBusy(true);if(this._oTable._setSuppressRefresh){this._oTable._setSuppressRefresh(true);}};k.prototype._afterPersonalisationModelDataChange=function(e){this._oTable.setBusy(false);};k.prototype._personalisationModelDataChange=function(e){if(this._bApplyingVariant){return;}var o=e.getParameter('changeType');var i=this._getChangeStatus(o);if(i===sap.ui.comp.personalization.Controller.ChangeType.Unchanged){return;}this._oCurrentVariant=e.getParameter('persistentData');if(!this.getUseVariantManagement()){this._persistPersonalisation();}else{this._oVariantManagement.currentVariantSetModified(true);}if(i===sap.ui.comp.personalization.Controller.ChangeType.ModelChanged){if(this._bIsTableBound||!this._oSmartFilter){this._reBindTable();}else{this._oTable.setShowOverlay(true);}}};k.prototype._getChangeStatus=function(o){if(!o){return sap.ui.comp.personalization.Controller.ChangeType.ModelChanged;}if(o.sort===sap.ui.comp.personalization.Controller.ChangeType.ModelChanged||o.filter===sap.ui.comp.personalization.Controller.ChangeType.ModelChanged||o.columns===sap.ui.comp.personalization.Controller.ChangeType.ModelChanged||o.group===sap.ui.comp.personalization.Controller.ChangeType.ModelChanged){return sap.ui.comp.personalization.Controller.ChangeType.ModelChanged;}if(o.sort===sap.ui.comp.personalization.Controller.ChangeType.TableChanged||o.filter===sap.ui.comp.personalization.Controller.ChangeType.TableChanged||o.columns===sap.ui.comp.personalization.Controller.ChangeType.TableChanged||o.group===sap.ui.comp.personalization.Controller.ChangeType.TableChanged){return sap.ui.comp.personalization.Controller.ChangeType.TableChanged;}return sap.ui.comp.personalization.Controller.ChangeType.Unchanged;};k.prototype._getTablePersonalisationData=function(){if(!this._oCurrentVariant){return null;}var s=[],e=[],E=[],G,o;if(this._isMobileTable&&this._oCurrentVariant.group&&this._oCurrentVariant.group.groupItems){G=this._oCurrentVariant.group.groupItems[0];var i,m='';i=this._getColumnByKey(G.columnKey);if(i){m=i.getHeader().getText();}var n=this._getPathFromColumnKeyAndProperty(G.columnKey,'sortProperty');o=new sap.ui.model.Sorter(n,G.operation===sap.m.P13nConditionOperation.GroupDescending,function(p){var K=p.getProperty(n);return{key:K,text:m?m+' : '+K:K};});s.push(o);}if(this._oCurrentVariant.sort){this._oCurrentVariant.sort.sortItems.forEach(function(p){var D=p.operation===sap.m.P13nConditionOperation.Descending;var P=this._getPathFromColumnKeyAndProperty(p.columnKey,'sortProperty');if(o&&o.sPath===P){o.bDescending=D;}else{s.push(new sap.ui.model.Sorter(P,D));}},this);}if(this._oCurrentVariant.filter){this._oCurrentVariant.filter.filterItems.forEach(function(p){var v=p.value1,r=p.value2;var P=this._getPathFromColumnKeyAndProperty(p.columnKey,'filterProperty');if(v instanceof Date&&this._oTableProvider&&this._oTableProvider.getIsUTCDateHandlingEnabled()){v=F.getDateInUTCOffset(v);r=r?F.getDateInUTCOffset(r):r;}if(p.exclude){E.push(new sap.ui.model.Filter(P,d.NE,v));}else{e.push(new sap.ui.model.Filter(P,p.operation,v,r));}},this);if(E.length){e.push(new sap.ui.model.Filter(E,true));}}return{filters:e,sorters:s};};k.prototype._getColumnByKey=function(s){var e,o,m,i,n;if(this._oTable){e=this._oTable.getColumns();m=e.length;for(i=0;i<m;i++){o=e[i];n=o.data('p13nData');if(n&&n.columnKey===s){return o;}}}return null;};k.prototype._getPathFromColumnKeyAndProperty=function(s,p){var P=null,o,e;o=this._getColumnByKey(s);if(o){if(p=='sortProperty'&&o.getSortProperty){P=o.getSortProperty();}else if(p=='filterProperty'&&o.getFilterProperty){P=o.getFilterProperty();}else if(p=='leadingProperty'&&o.getLeadingProperty){P=o.getLeadingProperty();}if(!P){e=o.data('p13nData');if(e){P=e[p];}}}return P;};k.prototype._persistPersonalisation=function(){var t=this;if(this._oVariantManagement){this._oVariantManagement.getVariantsInfo(function(v){var p=null;if(v&&v.length>0){p=v[0].key;}var o=p!==null;var P={name:'Personalisation',global:false,overwrite:o,key:p,def:true};t._oVariantManagement.fireSave(P);});}};k.prototype.getCurrentVariantId=function(){var K='';if(this._oVariantManagement){K=this._oVariantManagement.getCurrentVariantId();}return K;};k.prototype.setCurrentVariantId=function(v){if(this._oVariantManagement){this._oVariantManagement.setCurrentVariantId(v);}else{q.sap.log.error('sap.ui.comp.smarttable.SmartTable.prototype.setCurrentVariantId: VariantManagement does not exist');}};k.prototype.exit=function(){if(this._oTableProvider&&this._oTableProvider.destroy){this._oTableProvider.destroy();}this._oTableProvider=null;if(this._oPersController&&this._oPersController.destroy){this._oPersController.destroy();}this._oPersController=null;if(this._oVariantManagement&&this._oVariantManagement.destroy){this._oVariantManagement.destroy();}if(this._oEditModel){this._oEditModel.destroy();}this._oEditModel=null;this._oVariantManagement=null;this._oCurrentVariant=null;this._aTableViewMetadata=null;this._aExistingColumns=null;this._oSmartFilter=null;this._oCustomToolbar=null;this._oToolbar=null;this._oUseExportToExcel=null;this._oTablePersonalisationButton=null;this._oTemplate=null;this._oView=null;this._oTable=null;};return k;},true);\n",
	"sap/ui/comp/smartvariants/PersonalizableInfo.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Element'],function(q,l,E){'use strict';var P=E.extend('sap.ui.comp.smartvariants.PersonalizableInfo',{metadata:{library:'sap.ui.comp',properties:{type:{type:'string',group:'Misc',defaultValue:null},dataSource:{type:'string',group:'Misc',defaultValue:null},keyName:{type:'string',group:'Misc',defaultValue:null}},associations:{control:{type:'sap.ui.core.Control',multiple:false}}}});P.prototype.addControl=function(c){this.addAssociation('control',c,true);};return P;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagement.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./PersonalizableInfo','sap/ui/comp/variants/VariantItem','sap/ui/comp/variants/VariantManagement','sap/ui/core/ValueState','sap/ui/fl/Change','sap/ui/fl/Persistence','sap/ui/fl/registry/Settings','sap/m/MessageBox'],function(q,l,P,V,a,b,C,c,S,M){'use strict';var d=a.extend('sap.ui.comp.smartvariants.SmartVariantManagement',{metadata:{library:'sap.ui.comp',aggregations:{personalizableControls:{type:'sap.ui.comp.smartvariants.PersonalizableInfo',multiple:true,singularName:'personalizableControl'}},events:{initialise:{},afterSave:{}}}});d._mComponentReadError={};d.prototype.init=function(){a.prototype.init.apply(this);this._mStandardVariants={};this._mControlPersistence={};this._mControlComponent={};this._aPersonalizableControls=null;this._bIsInitialized=false;if(this.setLifecycleSupport){this.setLifecycleSupport(true);}this._setBackwardCompatibility(false);};d.prototype.addPersonalizableControl=function(o){this.addAggregation('personalizableControls',o,true);var s=o.getControl();if(s){var e=sap.ui.getCore().getControl(s);this._mControlPersistence[e]=new c(e,o.getKeyName());this._mControlComponent[e]=sap.ui.fl.Utils.getComponentClassName(e);}};d.prototype.getVariantContent=function(o,k){var e=null;if(k===this.STANDARDVARIANTKEY){e=this._getStandardVariant(o);}else{var v=this._getVariant(o,k);if(v){e=v.getContent();}}return e;};d.prototype._getVariant=function(o,i){var e=null;if(o){var p=this._mControlPersistence[o];if(p){e=p.getChange(i);}}return e;};d.prototype._getAllPersonalizableControls=function(){var i;var o=null;if(!this._aPersonalizableControls){this._aPersonalizableControls=[];var p=this.getPersonalizableControls();if(p){for(i=0;i<p.length;i++){o=sap.ui.getCore().getControl(p[i].getControl());if(o){this._aPersonalizableControls.push({control:o,type:p[i].getType(),dataSource:p[i].getDataSource(),persistence:this._mControlPersistence[o],keyName:p[i].getKeyName()});}}}}return this._aPersonalizableControls;};d.prototype._createVariantEntries=function(v,o){var n=null;var s;var e,f;var g=[];this.removeAllItems();if(v){for(n in v){if(n){e=v[n];if(e.isVariant()){f=new V({key:e.getId(),text:e.getText('variantName'),global:!e.isUserDependent(),executeOnSelection:this._getExecuteOnSelection(e),lifecycleTransportId:e.getRequest(),lifecyclePackage:e.getPackage(),namespace:e.getNamespace(),readOnly:e.isReadOnly(),labelReadOnly:e.isLabelReadOnly()});this.addVariantItem(f);g.push(e.getId());}}}}if(o){s=this._getDefaultVariantKey(o);if(s){this.setInitialSelectionKey(s);}}if(this._isVariantDownport(o)){this._enableManualVariantKey(true);}return g;};d.prototype.getVariantsInfo=function(f){if(!f){q.sap.log.error(\"'getVariantsInfo' failed . Expecting callBack not passed.\");return;}var n=null;var v;var e=[];var g;var t=this;try{g=this._getAllPersonalizableControls();if(g&&(g.length===1)&&g[0].persistence&&g[0].control){g[0].persistence.getChanges().then(function(m){if(m){for(n in m){if(n){v=m[n];if(v.isVariant()){e.push({key:v.getId(),text:v.getText('variantName')});}}}}f(e);},function(i){var E=\"'getChanges' failed:\";if(i&&i[0]&&i[0].messages&&i[0].messages[0]){E+=(' '+i[0].messages[0]);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),E,g[0].control);f(e);});}}catch(h){this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),\"'getChanges' throws an exception\",null);}};d.prototype.getCurrentVariantId=function(){var k='';var i=this._getSelectedItem();if(i){k=i.getKey();if(k===this.STANDARDVARIANTKEY){k='';}}return k;};d.prototype.setCurrentVariantId=function(v,D){var o;var i=v;if(!i){i=this.STANDARDVARIANTKEY;}else{if(!this.getItemByKey(i)){i=this.STANDARDVARIANTKEY;}}var e=this._getAllPersonalizableControls();if(e&&(e.length===1)&&e[0].persistence&&e[0].control){if(!this._bIsInitialized){e[0].currentVariantId=v;}else{o=this.getVariantContent(e[0].control,i);if(o){this._setSelectionByKey(i);if(D!==true){this._applyVariant(e[0].control,o);}}}}};d.prototype.initialise=function(){var t=this;var e;var o=null,v;var p={variantKeys:[]};var s=false;var k;try{e=this._getAllPersonalizableControls();if(e&&(e.length===1)&&e[0].persistence&&e[0].control){e[0].persistence.getChanges().then(function(m){var g=e[0].persistence.getComponentName();sap.ui.fl.registry.Settings.getInstance(g).then(function(h){if(h){t.setShowShare(h.isKeyUser());}p.variantKeys=t._createVariantEntries(m,e[0]);var D=t._getDefaultVariantKey(e[0]);if(D){v=t._getVariant(e[0].control,D);if(v){t.setDefaultVariantKey(D);t.setInitialSelectionKey(D);}}t.fireEvent('initialise',p);t._bIsInitialized=true;t._setStandardVariant(e[0].control);if(e[0].currentVariantId){t.setInitialSelectionKey(e[0].currentVariantId);e[0].currentVariantId=undefined;}k=t.getSelectionKey();if(k&&(k!==t.STANDARDVARIANTKEY)){v=t._getVariant(e[0].control,k);if(v){o=v.getContent();}}if(o){t._applyVariant(e[0].control,o,s);}else{if((k===t.STANDARDVARIANTKEY)&&t.bExecuteOnSelectForStandard){if(e[0].control.search){t.setInitialSelectionKey(k);e[0].control.search();}}}},function(h){var E=\"'getInstance' failed:\";if(h&&h[0]&&h[0].messages&&h[0].messages[0]){E+=(' '+h[0].messages[0]);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),E,e[0].control);t.fireEvent('initialise',p);t._setStandardVariant(e[0].control);});},function(g){var E=\"'getChanges' failed:\";if(g&&g[0]&&g[0].messages&&g[0].messages[0]){E+=(' '+g[0].messages[0]);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),E,e[0].control);t.fireEvent('initialise',p);t._setStandardVariant(e[0].control);});}else{this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),\"'initialise' no personalizable component available\",null);this.fireEvent('initialise',p);if(e&&(e.length===1)&&e[0].control){this._setStandardVariant(e[0].control);}}}catch(f){this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'),\"'getChanges' throws an exception\",null);this.fireEvent('initialise',p);if(e&&(e.length===1)&&e[0].control){this._setStandardVariant(e[0].control);}}};d.prototype._updateVariant=function(v,o){if(v.key!==this.STANDARDVARIANTKEY){if(v&&o&&o.control&&o.control.fetchVariant){var e=this._getVariant(o.control,v.key);if(e){try{if((v.lifecycleTransportId!==null)&&(v.lifecycleTransportId!==undefined)){e.setRequest(v.lifecycleTransportId);}var f=o.control.fetchVariant();if(f){var i=this.getItemByKey(v.key);if(i){f.executeOnSelection=i.getExecuteOnSelection();}e.setContent(f);}}catch(g){q.sap.log.error(\"'_updateVariant' throws an exception\");}}}}};d.prototype._newVariant=function(v,o){var i;if(v&&o&&o.control&&o.control.fetchVariant&&o.persistence){var t=o.type;var D=o.dataSource;var u=!v.global;var p='';if((v.lifecyclePackage!==null)&&(v.lifecyclePackage!==undefined)){p=v.lifecyclePackage;}var T='';if((v.lifecycleTransportId!==null)&&(v.lifecycleTransportId!==undefined)){T=v.lifecycleTransportId;}var e=o.control.fetchVariant();if(e){var s=JSON.stringify(e);e=JSON.parse(s);if(v.exe){e.executeOnSelection=v.exe;}if(v.tile){e.tile=v.tile;}}i=this._isVariantDownport(o)?v.key:null;var m={type:t,ODataService:D,texts:{variantName:v.name},content:e,isVariant:true,packageName:p,isUserDependent:u,id:i};i=o.persistence.addChange(m);this.replaceKey(v.key,i);this.setInitialSelectionKey(i);var f=this._getVariant(o.control,i);if(f){f.setRequest(T);var I=this.getItemByKey(i);if(I){I.setNamespace(f.getNamespace());}}if(v.def===true){this._setDefaultVariantKey(o,i);}}};d.prototype._appendLifecycleInformation=function(v,i){var t;var I=this.getItemByKey(i);if(I){t=I.getLifecycleTransportId();if(t===null||t===undefined){t='';}if(v){v.setRequest(t);}}};d.prototype._renameVariant=function(v,o){if(v.key!==this.STANDARDVARIANTKEY){if(v&&o&&o.control){var e=this._getVariant(o.control,v.key);if(e){e.setText('variantName',v.name);this._appendLifecycleInformation(e,v.key);}}}};d.prototype._deleteVariants=function(v,o){var i;if(v&&v.length&&o&&o.control){var s=this._getDefaultVariantKey(o);for(i=0;i<v.length;i++){if(v[i]===this.STANDARDVARIANTKEY){continue;}var e=this._getVariant(o.control,v[i]);if(e){e.markForDeletion();if(s&&s===v[i]){this._setDefaultVariantKey(o,'');}this._appendLifecycleInformation(e,v[i]);}}}};d.prototype._getDefaultVariantKey=function(o){var D='';if(o&&o.persistence){D=o.persistence.getDefaultVariantIdSync();}return D;};d.prototype._setDefaultVariantKey=function(o,v){if(o&&o.persistence){o.persistence.setDefaultVariantIdSync(v);}};d.prototype._isVariantDownport=function(o){var D=false;if(o&&o.persistence){D=o.persistence.isVariantDownport();}return D;};d.prototype._getExecuteOnSelection=function(v){var j;if(v){j=v.getContent();if(j&&(j.executeOnSelection!==undefined)){return j.executeOnSelection;}}return false;};d.prototype._setExecuteOnSelections=function(v,o){var i;if(v&&v.length&&o&&o.control){for(i=0;i<v.length;i++){if(v[i].key===this.STANDARDVARIANTKEY){continue;}var e=this._getVariant(o.control,v[i].key);if(e){var j=e.getContent();if(j){j.executeOnSelection=v[i].exe;e.setContent(j);}this._appendLifecycleInformation(e,v[i].key);}}}};d.prototype._save=function(o){var t=this;if(o&&o.persistence){try{o.persistence.saveAll().then(function(){t.fireEvent('afterSave');},function(f){var E=\"'_save' failed:\";if(f&&f[0]&&f[0].messages&&f[0].messages[0]){E+=(' '+f[0].messages[0]);}t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'),E,o.control);});}catch(e){this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'),\"'_save' throws an exception\",o.control);}}};d.prototype.fireSave=function(v){var s=false;var e=this._getAllPersonalizableControls();if(e&&(e.length===1)){if(v){if(v.overwrite){if(v.key!==this.STANDARDVARIANTKEY){this.fireEvent('save');this._updateVariant(v,e[0]);s=true;}}else{this.fireEvent('save');this._newVariant(v,e[0]);s=true;}if(s){this._save(e[0]);}}}};d.prototype.fireManage=function(v){var i;var e=this._getAllPersonalizableControls();if(e&&(e.length===1)){if(v){if(v.renamed){for(i=0;i<v.renamed.length;i++){this._renameVariant(v.renamed[i],e[0]);}}if(v.deleted){this._deleteVariants(v.deleted,e[0]);}if(v.exe){this._setExecuteOnSelections(v.exe,e[0]);}if(v.def){var D=this._getDefaultVariantKey(e[0]);if(D!==v.def){this._setDefaultVariantKey(e[0],v.def);}}if((v.deleted&&v.deleted.length>0)||(v.renamed&&v.renamed.length>0)||(v.exe&&v.exe.length>0)||v.def){this._save(e[0]);}}}};d.prototype.fireSelect=function(v){var o=null;var e=this._getAllPersonalizableControls();if(e&&(e.length===1)){if(v&&v.key){o=this.getVariantContent(e[0].control,v.key);if(o){var s=JSON.stringify(o);o=JSON.parse(s);if((v.key===this.STANDARDVARIANTKEY)&&this.bExecuteOnSelectForStandard){o.executeOnSelection=this.bExecuteOnSelectForStandard;}this._applyVariant(e[0].control,o);}}}};d.prototype._setStandardVariant=function(o){if(o&&o.fetchVariant){var s=o.fetchVariant();this._mStandardVariants[o]=s;}};d.prototype._getStandardVariant=function(o){var e=null;if(this._mStandardVariants&&this._mStandardVariants[o]){e=this._mStandardVariants[o];}return e;};d.prototype._applyVariant=function(o,e){if(o&&o.applyVariant){o.applyVariant(e);}};d.prototype._setErrorValueState=function(t,L,o){this.setEnabled(false);if(L){q.sap.log.error(L);}var s=o?this._mControlComponent[o]:null;d._displayError(this,s,t);};d._displayError=function(s,e,t){if(s){if(e){if(!d._mComponentReadError[e]){d._mComponentReadError[e]=e;s._displayError(t);}}else{s._displayError(t);}}};d.prototype._displayError=function(t){M.show(t,{icon:M.Icon.ERROR,title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_TITLE'),styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length>0)?'sapUiSizeCompact':''});};d.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._mStandardVariants=null;this._mControlPersistence=null;this._aPersonalizableControls=null;var n,s;for(n in this._mControlComponent){if(n){s=this._mControlComponent[n];if(s){delete d._mComponentReadError[s];}}}this._mControlComponent=null;};return d;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagementRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/variants/VariantManagementRenderer','sap/ui/core/Renderer'],function(q,V,R){'use strict';var S=R.extend(V);return S;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagementUi2.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','./PersonalizableInfo','sap/ui/comp/variants/VariantItem','sap/ui/comp/variants/VariantManagement','sap/m/MessageBox'],function(q,l,P,V,a,M){'use strict';var S=a.extend('sap.ui.comp.smartvariants.SmartVariantManagementUi2',{metadata:{library:'sap.ui.comp',properties:{currentVariantId:{type:'string',group:'Behavior',defaultValue:null}},aggregations:{personalizableControl:{type:'sap.ui.comp.smartvariants.PersonalizableInfo',multiple:false}},events:{initialise:{},afterSave:{}}}});S.prototype.init=function(){a.prototype.init.apply(this);this._oStandardVariant=null;this._oPersController=null;this._sKeyName=null;this._oContainer=null;this._oVariantSet=null;if(this.setLifecycleSupport){this.setLifecycleSupport(true);}this._setBackwardCompatibility(false);};S.prototype.getVariantContent=function(c,k){var C=null;if(k===this.STANDARDVARIANTKEY){C=this._getStandardVariant();}else{if(this._oVariantSet){var v=this._oVariantSet.getVariant(k);if(v){C=this._getContent(v);}}}return C;};S.prototype.getCurrentVariantId=function(){var k='';var i=this._getSelectedItem();if(i){k=i.getKey();if(k===this.STANDARDVARIANTKEY){k='';}}return k;};S.prototype.setCurrentVariantId=function(v,d){var c;var i=v;if(!i){i=this.STANDARDVARIANTKEY;}else{if(!this.getItemByKey(i)){i=this.STANDARDVARIANTKEY;}}if(this._oVariantSet){c=this.getVariantContent(this._oPersController,i);if(c){this._setSelectionByKey(i);if(d!==true){this._applyVariantContent(c);}}}};S.prototype.addPersonalizableControl=function(c){this.setAggregation('personalizableControl',c,true);if(c.getControl()){this._oPersController=sap.ui.getCore().getControl(c.getControl());}this._sKeyName=c.getKeyName();};S.prototype.initialise=function(){var c=this._getPersistencyKey();if(!c){q.sap.log.warning('PersistencyKey not set');this.fireEvent('initialise');return;}if(sap.ushell&&sap.ushell.Container){var t=this;sap.ushell.Container.getService('Personalization').getContainer(c,{validity:Infinity}).fail(function(){q.sap.log.error('Loading personalization container failed');t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'));t.fireEvent('initialise');}).done(function(C){t._readPersonalization(C);t.fireEvent('initialise');t._setStandardVariant();t._setSelectedVariant();});return;}q.sap.log.error('Could not obtain the personalization container');this._setErrorValueState(this.oResourceBundle.getText('VARIANT_MANAGEMENT_READ_FAILED'));this.fireEvent('initialise');};S.prototype._setSelectedVariant=function(){var v=null;if(this._oVariantSet){var k=this.getSelectionKey();if(k){v=this._oVariantSet.getVariant(k);if(v){this._applyVariant(v);}}}};S.prototype._reCreateVariantEntries=function(){var n=null;var v=null;var o,b;this.removeAllItems();if(this._oVariantSet){var m=this._oVariantSet.getVariantNamesAndKeys();if(m){for(n in m){if(n){b=new V({text:n,key:m[n]});this.addVariantItem(b);}}v=this._oVariantSet.getCurrentVariantKey();o=this._oVariantSet.getVariant(v);if(o){this.setDefaultVariantKey(v);this.setInitialSelectionKey(v);}}}};S.prototype._getVariantSetAdapter=function(){var v=null;if(this._oContainer){v=new sap.ushell.services.Personalization.VariantSetAdapter(this._oContainer);}return v;};S.prototype._createVariantEntries=function(){var v=this._getVariantSetAdapter();if(v){this._oVariantSet=v.getVariantSet('filterBarVariantSet');if(this._oVariantSet){this._reCreateVariantEntries();}else{this._oVariantSet=v.addVariantSet('filterBarVariantSet');}}};S.prototype._readPersonalization=function(c){this._oContainer=c;if(this._oContainer){this._createVariantEntries();}};S.prototype._savePersonalizationContainer=function(){var t=this;if(this._oContainer){this._oContainer.save().fail(function(){q.sap.log.error('Saving personalization data failed');t._setErrorValueState(t.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE_FAILED'));}).done(function(){q.sap.log.info('Saving personalization data succeeded');t.fireEvent('afterSave');});}};S.prototype.fireSave=function(v){var o=null,n=null;var s;if(!this._oVariantSet){return;}if(v){if(v.overwrite){if(v.key){o=this._oVariantSet.getVariant(v.key);}}else{if(v.name){o=this._oVariantSet.addVariant(v.name);n=o;s=n.getVariantKey();this.replaceKey(v.key,s);this.setInitialSelectionKey(s);}}if(o){this.fireEvent('save',v);var b=this._fetchVariant();if(b){o.setItemValue('filterBarVariant',b.filterBarVariant);o.setItemValue('filterbar',b.filterbar);s=o.getVariantKey();if(v.def){if(s){this._oVariantSet.setCurrentVariantKey(s);}}else{var d=this._oVariantSet.getCurrentVariantKey();if(s===d){this._oVariantSet.setCurrentVariantKey(null);}}}this._savePersonalizationContainer();}}};S.prototype._setStandardVariant=function(){this._oStandardVariant=this._fetchVariant();};S.prototype._getStandardVariant=function(){return this._oStandardVariant;};S.prototype._setVariantName=function(v,s,n){var k;var f,F;if(this._oVariantSet){var N=this._oVariantSet.addVariant(n);f=v.getItemValue('filterBarVariant');N.setItemValue('filterBarVariant',f);F=v.getItemValue('filterbar');N.setItemValue('filterbar',F);k=this._oVariantSet.getCurrentVariantKey();if(k===s){this._oVariantSet.setCurrentVariantKey(N.getVariantKey());}this._oVariantSet.delVariant(s);k=N.getVariantKey();this.replaceKey(s,k);this.setInitialSelectionKey(k);}};S.prototype.fireManage=function(v){var i;var r=null,d=null;var o;if(!this._oVariantSet){return;}if(v){r=v.renamed;d=v.deleted;if(r){for(i=0;i<r.length;i++){o=this._oVariantSet.getVariant(r[i].key);if(o){if(o.setVariantName){o.setVariantName(r[i].name);}else{this._setVariantName(o,r[i].key,r[i].name);}}}}if(d){var s=this._oVariantSet.getCurrentVariantKey();for(i=0;i<d.length;i++){o=this._oVariantSet.getVariant(d[i]);if(o){if(s&&s===o.getVariantKey()){this._oVariantSet.setCurrentVariantKey(null);}this._oVariantSet.delVariant(d[i]);}}}if(v.def){o=this._oVariantSet.getVariant(v.def);if(o||(v.def===this.STANDARDVARIANTKEY)){this._oVariantSet.setCurrentVariantKey(v.def);}}if((d&&d.length>0)||(r&&r.length>0)||(v.def)){this._savePersonalizationContainer();}}};S.prototype.fireSelect=function(v){var o=null;if(v&&v.key){if(this._oVariantSet){if(v.key===this.STANDARDVARIANTKEY){o=this._getStandardVariant();}else{o=this._oVariantSet.getVariant(v.key);}}}if(o){this._applyVariant(o);}};S.prototype._getContent=function(v){var c=null;if(v){if(v.getItemValue){c={filterbar:v.getItemValue('filterbar'),filterBarVariant:v.getItemValue('filterBarVariant')};}else{c=v;}}return c;};S.prototype._applyVariant=function(v){var c=this._getContent(v);this._applyVariantContent(c);};S.prototype._applyVariantContent=function(c){if(c&&this._oPersController&&this._oPersController.applyVariant){this._oPersController.applyVariant(c);}};S.prototype._fetchVariant=function(){if(this._oPersController&&this._oPersController.fetchVariant){return this._oPersController.fetchVariant();}return null;};S.prototype._getPersistencyKey=function(){if(this._oPersController&&this._sKeyName){return this._oPersController.getProperty(this._sKeyName);}return null;};S.prototype._setErrorValueState=function(t){this.setEnabled(false);this._displayError(t);};S.prototype._displayError=function(t){M.show(t,{icon:M.Icon.ERROR,title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_TITLE'),styleClass:(this.$()&&this.$().closest('.sapUiSizeCompact').length>0)?'sapUiSizeCompact':''});};S.prototype.exit=function(){a.prototype.exit.apply(this,arguments);this._oStandardVariant=null;this._oPersController=null;this._sKeyName=null;this._oContainer=null;this._oVariantSet=null;};return S;},true);\n",
	"sap/ui/comp/smartvariants/SmartVariantManagementUi2Renderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/variants/VariantManagementRenderer','sap/ui/core/Renderer'],function(q,V,R){'use strict';var S=R.extend(V);return S;},true);\n",
	"sap/ui/comp/transport/TransportDialog.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Button','sap/m/ComboBox','sap/m/Dialog','sap/m/Input','sap/m/Label','sap/m/MessageToast','sap/ui/comp/library','sap/ui/core/ListItem','sap/ui/fl/Transports','sap/ui/layout/Grid','sap/ui/layout/GridData'],function(q,B,C,D,I,L,M,l,a,T,G,b){'use strict';var c=D.extend('sap.ui.comp.transport.TransportDialog',{metadata:{library:'sap.ui.comp',properties:{pkg:{type:'string',group:'Misc',defaultValue:null},transports:{type:'any',group:'Misc',defaultValue:null},lrepObject:{type:'any',group:'Misc',defaultValue:null},hidePackage:{type:'boolean',group:'Misc',defaultValue:null}},events:{ok:{},cancel:{}}}});c.prototype.init=function(){D.prototype.init.apply(this);this._oResources=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.setTitle(this._oResources.getText('TRANSPORT_DIALOG_TITLE'));this.addStyleClass('sapUiCompTransportDialog');this._oPackageLabel=null;this._oPackage=this._createPackageField();this._oTransport=this._createTransportCombo();this.addContent(this._createContentGrid());this.setContentWidth('250px');this._createButtons();};c.prototype._createContentGrid=function(){var t;this._oPackageLabel=new L({text:this._oResources.getText('TRANSPORT_DIALOG_PACKAGE'),required:true,layoutData:new b({span:'L3 M3 S3'})}).addStyleClass('compFieldMargin');this._oPackageLabel.setLabelFor(this._oPackage);t=new L({text:this._oResources.getText('TRANSPORT_DIALOG_TRANSPORT'),required:true,layoutData:new b({span:'L3 M3 S3',linebreakL:true,linebreakM:true,linebreakS:true})}).addStyleClass('compFieldMargin');t.setLabelFor(this._oTransport);return new G({width:'100%',defaultSpan:'L9 M9 S9',vSpacing:0,hSpacing:0,content:[this._oPackageLabel,this._oPackage,t,this._oTransport]}).addStyleClass('compTransportPadding');};c.prototype._createButtons=function(){var t=this;this.addButton(new B({text:this._oResources.getText('TRANSPORT_DIALOG_LOCAL_OBJECT'),tooltip:this._oResources.getText('TRANSPORT_DIALOG_LOCAL_OBJECT'),press:function(){t._onLocal();}}));this.addButton(new B({text:this._oResources.getText('TRANSPORT_DIALOG_OK'),tooltip:this._oResources.getText('TRANSPORT_DIALOG_OK'),enabled:false,press:function(){t._onOkay();}}));this.addButton(new B({text:this._oResources.getText('TRANSPORT_DIALOG_CANCEL'),tooltip:this._oResources.getText('TRANSPORT_DIALOG_CANCEL'),press:function(){t.fireCancel();t.close();t.destroy();}}));};c.prototype._onLocal=function(){this.fireOk({selectedTransport:'',selectedPackage:this.getPkg()||'$TMP',dialog:true});this.close();this.destroy();};c.prototype._onOkay=function(){var t=this._oTransport.getSelectedKey();if(this._checkOkay(t)){this.fireOk({selectedTransport:t,selectedPackage:this.getPkg()||this._oPackage.getValue(),dialog:true});this.close();this.destroy();}else{this.getButtons()[1].setEnabled(false);this._oTransport.setValueState(sap.ui.core.ValueState.Error);this._oTransport.setValueStateText(this.getTitle());}};c.prototype._checkOkay=function(t){if(t){return true;}return false;};c.prototype._createTransportCombo=function(){var t=this;return new C({enabled:false,tooltip:this._oResources.getText('TRANSPORT_DIALOG_TRANSPORT_TT'),width:'100%',selectionChange:function(){if(t._oPackage.getEnabled()&&t._oPackage.getVisible()&&(!t._oPackage.getValue()||t._oPackage.getValue()==='')){return;}t.getButtons()[1].setEnabled(true);t._oTransport.setValueState(sap.ui.core.ValueState.None);},change:function(e){var f=function(i){if((i&&e.mParameters.newValue!==i.getText())||!i){return true;}return false;};if(e&&e.mParameters&&e.mParameters.newValue){if(f(t._oTransport.getSelectedItem())){t.getButtons()[1].setEnabled(false);t._oTransport.setValueState(sap.ui.core.ValueState.Error);t._oTransport.setValueStateText(t._oResources.getText('TRANSPORT_DIALOG_TRANSPORT_TT'));}}}});};c.prototype._createPackageField=function(){var t=this;return new I({tooltip:this._oResources.getText('TRANSPORT_DIALOG_PACKAGE_TT'),width:'100%',change:function(){var o,p,O;O=t._createObjectInfo();o=new sap.ui.fl.Transports();p=o.getTransports(O);p.then(function(r){t._onPackageChangeSuccess(r);},function(r){t._onPackageChangeError(r);});},liveChange:function(e){if(e.mParameters.liveValue&&e.mParameters.liveValue.length>3){t._oTransport.setEnabled(true);}}});};c.prototype._createObjectInfo=function(){var o,r={'package':this._oPackage.getValue()||''};o=this.getProperty('lrepObject');if(o){if(o.name){r.name=o.name;}if(o.type){r.type=o.type;}if(o.namespace){r.namespace=o.namespace;}}return r;};c.prototype._onPackageChangeSuccess=function(t){if(t){if(t.localonly){this._oTransport.setEnabled(false);this.getButtons()[1].setEnabled(true);}else if(t.transports&&t.transports.length>0){this._oTransport.setEnabled(true);this._setTransports(t);}else if(t.errorCode){this.getButtons()[1].setEnabled(false);this._oPackage.setValueState(sap.ui.core.ValueState.Error);this._oPackage.setValueStateText(this._oResources.getText('TRANSPORT_DIALOG_'+t.errorCode));this._setTransports(t);}else{M.show(this._oResources.getText('TRANSPORT_DIALOG_NO_TRANSPORTS'));}}};c.prototype._setTransports=function(t){var o,d;o=this._hasLock(t.transports);if(o){d=[o];}else{d=t.transports;}this.setTransports(d);if(d&&d.length===1){this._oTransport.setValue(d[0].description,true);this.getButtons()[1].setEnabled(true);}if(!d||d.length===0){this._oTransport.setSelectedKey(null);this._oTransport.setValueState(sap.ui.core.ValueState.None);this.getButtons()[1].setEnabled(false);}};c.prototype._onPackageChangeError=function(r){M.show(r);this.setTransports([]);};c.prototype._hasLock=function(t){var o,d=t.length;while(d--){o=t[d];if(o.locked){return o;}}return null;};c.prototype.setPkg=function(p){if(p&&!this.getProperty('pkg')){this.setProperty('pkg',p);this._oPackage.setValue(p);this._oPackage.setEnabled(false);this._oTransport.setEnabled(true);this.setTitle(this._oResources.getText('TRANSPORT_DIALOG_TITLE_SIMPLE'));this.getButtons()[0].setVisible(false);}};c.prototype.setTransports=function(s){var i,d=0,o;if(s){this.setProperty('transports',s);this._oTransport.removeAllItems();d=s.length;for(i=0;i<d;i++){o=s[i];this._oTransport.addItem(new a({key:o.transportId,text:o.description}));}if(d===1){this._oTransport.setSelectedKey(s[0].transportId);this.getButtons()[1].setEnabled(true);}if(d>0){this._oTransport.setEnabled(true);}}};c.prototype.setLrepObject=function(o){if(o&&!this.getProperty('lrepObject')){this.setProperty('lrepObject',o);}};c.prototype.setHidePackage=function(h){this.setProperty('hidePackage',h);this._oPackage.setVisible(!h);this._oPackageLabel.setVisible(!h);if(h){this.getButtons()[0].setEnabled(h);this.setTitle(this._oResources.getText('TRANSPORT_DIALOG_TITLE_SIMPLE'));}};return c;},true);\n",
	"sap/ui/comp/transport/TransportDialogRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/DialogRenderer'],function(q,D){'use strict';var T={};T.render=D.render;return T;},true);\n",
	"sap/ui/comp/transport/TransportSelection.js":"/*\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/fl/Utils','sap/ui/fl/Transports','sap/ui/comp/transport/TransportDialog','sap/ui/fl/registry/Settings'],function(q,U,T,a,F){'use strict';var b=function(){this.oTransports=new sap.ui.fl.Transports();this.oUtils=sap.ui.fl.Utils;};b.prototype.selectTransport=function(o,O,e,c,C){var t=this;if(o){var l=U.getCurrentLayer(false);var s;if(C){s=U.getComponentClassName(C);}if(s&&l&&l==='CUSTOMER'){F.getInstance(s).then(function(S){if(S.isAtoEnabled()){var d={transportId:'ATO_NOTIFICATION'};O(t._createEventObject(o,d));}else{t._selectTransport(o,O,e,c);}});}else{t._selectTransport(o,O,e,c);}}};b.prototype._selectTransport=function(o,O,e,c){var p,t=this;if(o){p=this.oTransports.getTransports(o);p.then(function(r){var d;if(t._checkDialog(r)){t._openDialog({hidePackage:!t.oUtils.doesSharedVariantRequirePackage(),pkg:o['package'],transports:r.transports,lrepObject:t._toLREPObject(o)},O,e,c);}else{d=t._getTransport(r);O(t._createEventObject(o,d));}},function(r){e(r);});}};b.prototype._createEventObject=function(o,t){return{mParameters:{selectedTransport:t.transportId,selectedPackage:o['package'],dialog:false},getParameters:function(){return this.mParameters;},getParameter:function(n){return this.mParameters[n];}};};b.prototype._toLREPObject=function(o){var O={};if(o.namespace){O.namespace=o.namespace;}if(o.name){O.name=o.name;}if(o.type){O.type=o.type;}return O;};b.prototype._openDialog=function(c,o,e,C){var d=new a(c);d.attachOk(o);d.attachCancel(e);if(C){d.addStyleClass('sapUiSizeCompact');}else{d.removeStyleClass('sapUiSizeCompact');}d.open();return d;};b.prototype._getTransport=function(t){var o;if(!t.localonly){o=this._hasLock(t.transports);}else{o={transportId:''};}return o;};b.prototype._checkDialog=function(t){if(t){if(t.localonly||this._hasLock(t.transports)){return false;}}return true;};b.prototype._hasLock=function(t){var o,l=t.length;while(l--){o=t[l];if(o.locked){return o;}}return false;};return b;},true);\n",
	"sap/ui/comp/valuehelpdialog/ItemsCollection.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var I=function(){this.items={};};I.prototype.add=function(k,o){this.items[k]=o;};I.prototype.remove=function(k){delete this.items[k];};I.prototype.removeAll=function(){this.items={};};I.prototype.getItem=function(k){return this.items[k];};I.prototype.getItems=function(){var k=[];for(var i in this.items){k.push(i);}return k;};I.prototype.getSelectedItemsTokenArray=function(k,d,D){var t=[];for(var i in this.items){var o=this.items[i];var T,s;if(typeof o==='string'){s=i;T=o;}else{s=o[k];T=o[d];if(T===undefined){T=this.items[i];}else{if(D){T=sap.ui.comp.smartfilterbar.FilterProvider.getFormattedExpressionFromDisplayBehaviour(D,s,T);}else{T=T+' ('+s+')';}}}var a=new sap.m.Token({key:s,text:T,tooltip:T});if(typeof o!=='string'){a.data('row',o);a.data('longKey',i);}t.push(a);}return t;};I.prototype.getModelData=function(){var m=[];for(var i in this.items){var a=this.items[i];if(typeof a==='string'){a={missing:i};}m.push(a);}return m;};return I;},true);\n",
	"sap/ui/comp/valuehelpdialog/ValueHelpDialog.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/Dialog','sap/m/MessageBox','sap/m/MultiInput','sap/m/Token','sap/ui/comp/library','./ItemsCollection','sap/ui/core/Control','sap/ui/core/format/DateFormat','sap/ui/core/format/NumberFormat','sap/ui/table/Table'],function(q,D,M,a,T,l,I,C,b,N,c){'use strict';var V=D.extend('sap.ui.comp.valuehelpdialog.ValueHelpDialog',{metadata:{library:'sap.ui.comp',properties:{basicSearchText:{type:'string',group:'Misc',defaultValue:null},supportMultiselect:{type:'boolean',group:'Misc',defaultValue:true},supportRanges:{type:'boolean',group:'Misc',defaultValue:false},descriptionKey:{type:'string',group:'Misc',defaultValue:null},key:{type:'string',group:'Misc',defaultValue:null},supportRangesOnly:{type:'boolean',group:'Misc',defaultValue:false},maxIncludeRanges:{type:'string',group:'Misc',defaultValue:'-1'},maxExcludeRanges:{type:'string',group:'Misc',defaultValue:'-1'},displayFormat:{type:'string',group:'Misc',defaultValue:null},tokenDisplayBehaviour:{type:'string',group:'Misc',defaultValue:null},filterMode:{type:'boolean',group:'Misc',defaultValue:false}},aggregations:{filterBar:{type:'sap.ui.core.Control',multiple:false}},events:{ok:{},cancel:{}}}});V.prototype.setSupportMultiselect=function(e){this.setProperty('supportMultiselect',e);this.theTable.setSelectionMode(e?sap.ui.table.SelectionMode.MultiToggle:sap.ui.table.SelectionMode.Single);if(!e){this._oTokenizerGrid.addStyleClass('displayNone');}else{this._oTokenizerGrid.removeStyleClass('displayNone');}this.getBeginButton().setVisible(this.getSupportMultiselect());return this;};V.prototype.setSupportRanges=function(e){this.setProperty('supportRanges',e);if(e&&!this.getSupportRangesOnly()){if(!this._oRangeButton){this._oRangeButton=new sap.m.Button({type:sap.m.ButtonType.Transparent,text:this._oRb.getText('VALUEHELPDLG_RANGES'),press:this._onRangesPressed()}).addStyleClass('compVHRangesLink');this._oHeaderBar.addContentRight(this._oRangeButton);}else{this._oRangeButton.setVisible(true);}}if(!e&&!this.getSupportRangesOnly()&&this._oRangeButton){this._oRangeButton.setVisible(false);}return this;};V.prototype._onRangesPressed=function(){var t=this;return function(){if(t.getSupportRanges()){t.bCollectiveSearchActive=t.oSelectionButton.getVisible();t._fillRanges(true);}};};V.prototype._fillRanges=function(i){this._showRanges();if(this._oRangeButton){this._oRangeButton.setVisible(false);}if(this.oSelectionTitle){this.oSelectionTitle.setVisible(false);}if(this.oSelectionButton){this.oSelectionButton.setVisible(false);}this._oBackButton.setVisible(i);this.getBeginButton().setVisible(this.getSupportRangesOnly()||this.getSupportMultiselect());this._oTitle.setText(this.getFilterMode()?this.getTitle():this._oRb.getText('VALUEHELPDLG_RANGESTITLE',this.getTitle()));};V.prototype._onBackPressed=function(){var t=this;return function(){var f=function(){t._showNormalTable();if(t._oRangeButton){t._oRangeButton.setVisible(true);}if(t.oSelectionTitle){t.oSelectionTitle.setVisible(t.bCollectiveSearchActive);}if(t.oSelectionButton){t.oSelectionButton.setVisible(t.bCollectiveSearchActive);}t._oBackButton.setVisible(false);t._oTitle.setText(t._oRb.getText('VALUEHELPDLG_TITLE',t.getTitle()));};t._validateRanges(f);};};V.prototype._onSelectedItemsPressed=function(){var t=this;return function(){var f=function(){t.bCollectiveSearchActive=t.oSelectionButton.getVisible();t._showSelectedItems();if(t._oRangeButton){t._oRangeButton.setVisible(false);}if(t.oSelectionTitle){t.oSelectionTitle.setVisible(false);}if(t.oSelectionButton){t.oSelectionButton.setVisible(false);}t._oBackButton.setVisible(true);t._oTitle.setText(t._oRb.getText('VALUEHELPDLG_SELECTEDITEMSTITLE',t.getTitle()));};t._validateRanges(f);};};V.prototype.setTitle=function(t){this.setProperty('title',t);if(this._oTitle){this._oTitle.setText(this._oRb.getText('VALUEHELPDLG_TITLE',t));}};V.prototype.setFilterBar=function(o){this.setAggregation('filterBar',o);if(this._oMainGrid&&o){if(this._oFilterBar){this._oMainGrid.removeContent(this._oFilterBar);}this._oFilterBar=o;this._oMainGrid.insertContent(o,0);if(this._oFilterBar.getBasicSearchControl&&this._oFilterBar.getBasicSearchControl()){var B=this._oFilterBar.getBasicSearchControl();B.setValue(this.getBasicSearchText());this.setInitialFocus(B);}}};V.prototype.getFilterBar=function(){return this._oFilterBar;};V.prototype.setBasicSearchText=function(t){this.setProperty('basicSearchText',t);if(this._oFilterBar&&this._oFilterBar.getBasicSearchControl&&this._oFilterBar.getBasicSearchControl()){this._oFilterBar.getBasicSearchControl().setValue(t);}};V.prototype.setTokens=function(t){if(t.length){var n=0,k;for(var i=0;i<t.length;i++){var d=t[i];if(d.data('range')){var r=d.data('range');k=d.getKey();if(!k){k='range_'+n;n++;}var e=this._getFormatedRangeTokenText(r.operation,r.value1,r.value2,r.exclude,r.keyField);this._addToken2Tokenizer(k,e,r.exclude?this._oExcludedTokens:this._oSelectedTokens);this._oSelectedRanges[k]=r;}else{k=d.getKey();var s=d.getText();var L=d.data('longKey');var R=d.data('row');if(!L){L=k;}this._oSelectedItems.add(L,R?R:d.getText());this._oSelectedTokens.addToken(new T({key:L,text:s,tooltip:s}));}}}else{this._oSelectedItems.removeAll();this._oSelectedRanges={};}};V.prototype.open=function(){if(this.getSupportRangesOnly()||this.getFilterMode()){this._fillRanges(false);}this.setContentWidth(this._getDefaultContentWidth());D.prototype.open.apply(this);};V.prototype.getTable=function(){return this.theTable;};V.prototype._getDefaultContentWidth=function(){var n=0;if(this.theTable){n=this.theTable.getColumns().length;}var d=Math.max(1080,n*130);return d+'px';};V.prototype.resetTableState=function(){if(this.theTable){this.theTable.unbindRows();this.theTable.setNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'));}};V.prototype.TableStateSearchData=function(){if(this.theTable){this.theTable.setNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'));}};V.prototype.TableStateDataFilled=function(){if(this.theTable){this.theTable.setNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_NODATA'));}};V.prototype.TableStateDataSearching=function(){if(this.theTable){this.theTable.setNoDataText(this._oRb.getText('VALUEHELPDLG_TABLE_SEARCHING'));}};V.prototype.init=function(){D.prototype.init.apply(this);this.addStyleClass('compValueHelpDialog');this.setHorizontalScrolling(false);this.setVerticalScrolling(true);this._oRb=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this._sTableTitle1=this._oRb.getText('VALUEHELPDLG_TABLETITLE1');this._sTableTitle2=this._oRb.getText('VALUEHELPDLG_TABLETITLE2');this._sTableTitleNoCount=this._oRb.getText('VALUEHELPDLG_TABLETITLENOCOUNT');this._sSelectedItemsTitle=this._oRb.getText('VALUEHELPDLG_SELECTEDITEMS');this._sNoneSelectedItemsTitle=this._oRb.getText('VALUEHELPDLG_NONESELECTEDITEMS');if(!this._aIncludeRangeOperations){this.setIncludeRangeOperations([sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LT,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LE,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GT,sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GE]);}if(!this._aExcludeRangeOperations){this.setExcludeRangeOperations([sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ]);}this._oSelectedItems=new I();this._oSelectedRanges={};this._createHeaderBar();this._createTable();this._createTokenizer();this._updateTokenizer();this._oInnerGrid=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',vSpacing:0,hSpacing:0,content:[this._oFilterBar,this.theTable]}).addStyleClass('compVHPadding');this._oMainGrid=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',vSpacing:0,hSpacing:0,content:[this._oInnerGrid,this._oTokenizerGrid]});this.addContent(this._oMainGrid);this._fillFooter();};V.prototype._changeTableRowSelectionForKey=function(k,s){var i;var r=this.theTable.getBinding('rows');if(r.aKeys){for(i=0;i<r.aKeys.length;i++){if(r.aKeys[i]===k){if(s){this.theTable.addSelectionInterval(i,i);}else{this.theTable.removeSelectionInterval(i,i);}return;}}}else{this.oRows=this.theTable.getBinding('rows');for(i=0;i<this.oRows.aIndices.length;i++){var o=this.theTable.getContextByIndex(i);if(o){var d=o.getObject();if(d[this.getKey()]===k){if(s){this.theTable.addSelectionInterval(i,i);}else{this.theTable.removeSelectionInterval(i,i);}return;}}}}};V.prototype.update=function(){var i,j,o,d;this.oRows=this.theTable.getBinding('rows');this.ignoreSelectionChange=true;this.theTable.clearSelection();var e=this._oSelectedItems.getItems();var r=this.getKeys()&&this.getKeys().length>1?this.getKey()+'=':'';if(this.oRows.aKeys){for(j=0;j<e.length;j++){var k=e[j];var R=r+\"'\"+k+\"'\";for(i=0;i<this.oRows.aKeys.length;i++){var s=this.oRows.aKeys[i];var f=s===k;if(f||s.indexOf(R)>=0){if(!f){this._oSelectedItems.remove(k);var t=this._getTokenByKey(k,this._oSelectedTokens);if(t){t.setKey(s);}}d=this.theTable.getContextByIndex(i);if(d){o=d.getObject();this._oSelectedItems.add(s,o);}this.theTable.addSelectionInterval(i,i);break;}}}}else{for(j=0;j<e.length;j++){var g=e[j];for(i=0;i<this.oRows.aIndices.length;i++){d=this.theTable.getContextByIndex(i);if(d){o=d.getObject();if(o[this.getKey()]===g){this._oSelectedItems.add(o[this.getKey()],o);this.theTable.addSelectionInterval(i,i);break;}}}}}this.ignoreSelectionChange=false;this._updateTitles();};V.prototype._createHeaderBar=function(){this._oBackButton=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:'sap-icon://nav-back',text:this._oRb.getText('VALUEHELPDLG_BACK'),press:this._onBackPressed(),visible:false});this._oTitle=new sap.m.Text({text:this._oRb.getText('VALUEHELPDLG_TITLE',this.getTitle()),wrapping:false}).addStyleClass('titleText').unbindText();this.oSelectionTitle=new sap.m.Text({visible:false,wrapping:false}).addStyleClass('titleText');this.oSelectionButton=new sap.m.Button({icon:'sap-icon://navigation-down-arrow',visible:false});this._oHeaderBar=new sap.m.Bar({contentLeft:[this._oBackButton],contentMiddle:[this._oTitle,this.oSelectionTitle,this.oSelectionButton]});this.setCustomHeader(this._oHeaderBar);};V.prototype._fillFooter=function(){var t=this;this.setBeginButton(new sap.m.Button({text:t._oRb.getText('VALUEHELPDLG_OK'),press:t._onCloseAndTakeOverValues(),visible:this.getSupportMultiselect()}));this.setEndButton(new sap.m.Button({text:t._oRb.getText('VALUEHELPDLG_CANCEL'),press:t._onCancel()}));};V.prototype._createTokenizer=function(){var t=this;if(this._oTokenizerGrid){return this._oTokenizerGrid;}this._oSelectedTokenTitle=new sap.m.Text().addStyleClass('compVHSelectedItemsText');this._oSelectedTokens=new sap.m.Tokenizer({tokenChange:function(o){if(t._ignoreRemoveToken){return;}if(o.getParameter('type')===a.TokenChangeType.Removed){var k=o.getParameter('token').getKey();if(t._oSelectedRanges&&t._oSelectedRanges[k]){t._removeRangeByKey(k,false);t._updateTitles();}else{t._oSelectedItems.remove(k);t._removeTokenFromTokenizer(k,t._oSelectedTokens);t._updateTitles();t.ignoreSelectionChange=true;t._changeTableRowSelectionForKey(k,false);t.ignoreSelectionChange=false;}setTimeout(function(){var i=t._oSelectedTokens.getTokens().length-1;if(i>=0){t._oSelectedTokens.getTokens()[i].focus();}});}}}).addStyleClass('compVHTokensDiv');this._oRemoveAllSelectedItemsBtn=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:sap.ui.core.IconPool.getIconURI('sys-cancel'),press:function(){t._oSelectedTokens.removeAllTokens();for(var k in t._oSelectedRanges){t._removeRangeByKey(k,false);}t._oSelectedItems.removeAll();t.ignoreSelectionChange=true;t.theTable.clearSelection();t.ignoreSelectionChange=false;t._updateTitles();}}).addStyleClass('compVHRemoveAllBtn');var h=new sap.ui.layout.HorizontalLayout({content:[this._oSelectedTokens,this._oRemoveAllSelectedItemsBtn]}).addStyleClass('compVHTokenizerHLayout');this._oIncludeTokenGrid=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:[this._oSelectedTokenTitle,h]});this._oExcludedTokenTitle=new sap.m.Text().addStyleClass('compVHSelectedItemsText');this._oExcludedTokens=new sap.m.Tokenizer({tokenChange:function(o){if(t._ignoreRemoveToken){return;}if(o.getParameter('type')===a.TokenChangeType.Removed){var k=o.getParameter('token').getKey();t._removeRangeByKey(k,true);t._updateTitles();}}}).addStyleClass('compVHTokensDiv');this._oRemoveAllExcludeItemsBtn=new sap.m.Button({type:sap.m.ButtonType.Transparent,icon:sap.ui.core.IconPool.getIconURI('sys-cancel'),press:function(){t._oExcludedTokens.removeAllTokens();for(var k in t._oSelectedRanges){t._removeRangeByKey(k,true);}t._updateTitles();}}).addStyleClass('compVHRemoveAllBtn');var H=new sap.ui.layout.HorizontalLayout({content:[this._oExcludedTokens,this._oRemoveAllExcludeItemsBtn]}).addStyleClass('compVHTokenizerHLayout');this._oExcludeTokenGrid=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:[this._oExcludedTokenTitle,H]});this._oShowAllLink=new sap.m.Button({type:sap.m.ButtonType.Transparent,text:this._oRb.getText('VALUEHELPDLG_SHOWALL'),press:this._onSelectedItemsPressed(),visible:(this.fSingleRowCallback!==undefined)&&(!this.getSupportRangesOnly())}).addStyleClass('compVHShowAllLink');this._oTokenizerGrid=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',hSpacing:0,vSpacing:0,content:[this._oIncludeTokenGrid,this._oExcludeTokenGrid,this._oShowAllLink]}).addStyleClass('compVHDarkBackground');if(!this.getSupportMultiselect()){this._oTokenizerGrid.addStyleClass('displayNone');}return this._oTokenizerGrid;};V.prototype._addToken2Tokenizer=function(k,t,o){var d=this._getTokenByKey(k,o);if(d){d.setText(t);d.setTooltip(t);}else{o.addToken(new T({key:k,text:t,tooltip:t}));this._updateTokenizer();}};V.prototype._getTokenByKey=function(k,t){var d=t.getTokens();for(var i=0;i<d.length;i++){var e=d[i];if(e.getKey()===k){return e;}}return null;};V.prototype._removeToken=function(k){if(!this._removeTokenFromTokenizer(k,this._oSelectedTokens)){this._removeTokenFromTokenizer(k,this._oExcludedTokens);}};V.prototype._removeTokenFromTokenizer=function(k,t){var d=this._getTokenByKey(k,t);if(d){this._ignoreRemoveToken=true;t.removeToken(d);this._ignoreRemoveToken=false;this._updateTokenizer();return true;}return false;};V.prototype._updateTokenizer=function(){var n=this._oSelectedTokens.getTokens().length;var t=this._sSelectedItemsTitle.replace('{0}',n.toString());this._oSelectedTokenTitle.setText(n===0?this._sNoneSelectedItemsTitle:t);this._oRemoveAllSelectedItemsBtn.setEnabled(n!==0);var d=this._oExcludedTokens.getTokens().length;this._oExcludedTokenTitle.setText(this._oRb.getText('VALUEHELPDLG_EXCLUDEDITEMS',d.toString()));if(d===0){this._oExcludeTokenGrid.addStyleClass('displayNone');}else{this._oExcludeTokenGrid.removeStyleClass('displayNone');}this._oShowAllLink.setVisible(!this.getSupportRangesOnly()&&this.fSingleRowCallback!==undefined&&(n+d>0));this._onMyResize();};V.prototype._removeRangeByKey=function(k,i){var r=this._oSelectedRanges[k];if(r.exclude===i){if(!r._oGrid){delete this._oSelectedRanges[k];if(this._oFilterPanel){if(r.exclude){this._oFilterPanel._oExcludeFilterPanel.removeCondition(k);}else{this._oFilterPanel._oIncludeFilterPanel.removeCondition(k);}}}}};V.prototype._showNormalTable=function(){this.removeAllContent();this.setVerticalScrolling(true);this.setContentHeight('');this.setContentWidth(this._getDefaultContentWidth());this._oMainGrid.addContent(this._oTokenizerGrid);this.addContent(this._oMainGrid);this._updateTitles();};V.prototype._showRanges=function(){this.removeAllContent();this.setVerticalScrolling(false);if(!this.getSupportRangesOnly()&&!this.getFilterMode()){this.setContentHeight(this._iResizeDomHeight+'px');this._onMyResize();}this.addContent(this._getRanges());if(this.getMaxIncludeRanges()==='-1'&&this.getMaxExcludeRanges()!=='0'&&!this.getFilterMode()){this._oRanges.addContent(this._oTokenizerGrid);}};V.prototype._getRanges=function(){if(!this._oRanges){this._oRanges=this._createRanges();}return this._oRanges;};V.prototype._createRanges=function(){q.sap.require('sap.m.P13nConditionPanel');q.sap.require('sap.m.P13nFilterPanel');this._oFilterPanel=new sap.m.P13nFilterPanel({maxIncludes:this.getMaxIncludeRanges(),maxExcludes:this.getMaxExcludeRanges(),containerQuery:true,addFilterItem:q.proxy(function(E){var p=E.mParameters;var o={exclude:p.filterItemData.exclude,keyField:p.filterItemData.columnKey,operation:p.filterItemData.operation,value1:p.filterItemData.value1,value2:p.filterItemData.value2};this._oSelectedRanges[p.key]=o;var t=this._getFormatedRangeTokenText(o.operation,o.value1,o.value2,o.exclude,o.keyField);this._addToken2Tokenizer(p.key,t,o.exclude?this._oExcludedTokens:this._oSelectedTokens);this._updateTokenizer();},this),removeFilterItem:q.proxy(function(E){var p=E.mParameters;delete this._oSelectedRanges[p.key];this._removeToken(p.key);this._updateTokenizer();},this),updateFilterItem:q.proxy(function(E){var p=E.mParameters;var o=this._oSelectedRanges[p.key];o.exclude=p.filterItemData.exclude;o.keyField=p.filterItemData.columnKey;o.operation=p.filterItemData.operation;o.value1=p.filterItemData.value1;o.value2=p.filterItemData.value2;var t=this._getFormatedRangeTokenText(o.operation,o.value1,o.value2,o.exclude,o.keyField);this._addToken2Tokenizer(p.key,t,o.exclude?this._oExcludedTokens:this._oSelectedTokens);this._updateTokenizer();},this)});this._oFilterPanel.setIncludeOperations(this._aIncludeRangeOperations);this._oFilterPanel.setExcludeOperations(this._aExcludeRangeOperations);if(this._aRangeKeyFields){this._aRangeKeyFields.forEach(function(i){i['text']=i.label;});this._oFilterPanel.setKeyFields(this._aRangeKeyFields);}var d=[];if(this._oSelectedRanges){for(var r in this._oSelectedRanges){var e=this._oSelectedRanges[r];d.push({key:r,exclude:e.exclude,keyField:e.keyField,operation:e.operation,value1:e.value1,value2:e.value2});}}this._oFilterPanel.setConditions(d);this._oRangeScrollContainer=new sap.m.ScrollContainer({vertical:true,horizontal:false,width:'100%',height:'300px',content:[this._oFilterPanel]});var R=new sap.ui.layout.Grid({width:'100%',defaultSpan:'L12 M12 S12',vSpacing:0,hSpacing:0,content:[this._oRangeScrollContainer]});this._sValidationDialogTitle=this._oRb.getText('VALUEHELPVALDLG_TITLE');this._sValidationDialogMessage=this._oRb.getText('VALUEHELPVALDLG_MESSAGE');this._sValidationDialogFieldMessage=this._oRb.getText('VALUEHELPVALDLG_FIELDMESSAGE');return R;};V.prototype._validateRanges=function(f){if(this._oRanges&&this.getContent()[0]===this._getRanges()){var i=this._oFilterPanel.validateConditions();if(!i){M.show(this._sValidationDialogMessage,{icon:M.Icon.WARNING,title:this._sValidationDialogTitle,actions:[M.Action.OK,M.Action.CANCEL],styleClass:!!this.$().closest('.sapUiSizeCompact').length?'sapUiSizeCompact':'',onClose:function(r){if(r===M.Action.OK&&f){f();}}});return;}}f();};V.prototype._showSelectedItems=function(){this.removeAllContent();this.setVerticalScrolling(true);this.setContentHeight('');this.setContentWidth(this._getDefaultContentWidth());this.addContent(this._getSelectedItemsTable());var t=this._oSelectedItemsTable;var m=t.getModel();var d=this._oSelectedItems.getModelData();this._updateMissingRows(d);m.setData(d);this.ignoreSelectionChange=true;t.clearSelection();t.addSelectionInterval(0,this._oSelectedItems.getItems().length-1);this.ignoreSelectionChange=false;var n=t.getSelectedIndices()?t.getSelectedIndices().length:0;t.setTitle(this._oRb.getText('VALUEHELPDLG_SELECTEDITEMS',n.toString()));};V.prototype._updateMissingRows=function(m){if(this.fSingleRowCallback&&this.getContent()[0]===this._getSelectedItemsTable()){var i=this._getMissingRowIndex(m);if(i>=0){var t=this;this.fSingleRowCallback(m[i].missing,function(d){delete m[i].missing;m[i]=d;t._oSelectedItems.add(d[t.getKey()],d);t._updateMissingRows(m);t.invalidate();});}}};V.prototype.setUpdateSingleRowCallback=function(s){this.fSingleRowCallback=s;if(this._oShowAllLink){this._oShowAllLink.setVisible(this.fSingleRowCallback!==undefined);}};V.prototype._getMissingRowIndex=function(m){for(var i=0;i<m.length;i++){if(m[i].missing){return i;}}return-1;};V.prototype._getSelectedItemsTable=function(){if(!this._oSelectedItemsTable){this._oSelectedItemsTable=this._createSelectedItemsTable();}return this._oSelectedItemsTable;};V.prototype._createSelectedItemsTable=function(){var t=this;var o=new c({title:this._oRb.getText('VALUEHELPDLG_SELECTEDITEMS'),selectionBehavior:sap.ui.table.SelectionBehavior.Row,selectionMode:sap.ui.table.SelectionMode.MultiToggle,noDataText:this._oRb.getText('VALUEHELPDLG_SELECTEDITEMSTABLE_NODATA'),rowHeight:32,rowSelectionChange:function(d){if(t.ignoreSelectionChange){return;}var e=d.getSource();var f=d.getParameter('rowIndices');var i,n=f.length;for(i=0;i<n;i++){var g=f[i];var h=e.getContextByIndex(g);var r=h?h.getObject():null;if(r){var k=r[t.getKey()];t.ignoreSelectionChange=true;if(e.isIndexSelected(g)){t._oSelectedItems.add(k,r);t._addToken2Tokenizer(k,t._getFormatedTokenText(k),t._oSelectedTokens);t._changeTableRowSelectionForKey(k,true);}else{t._oSelectedItems.remove(k);t._removeTokenFromTokenizer(k,t._oSelectedTokens);t._changeTableRowSelectionForKey(k,false);}t.ignoreSelectionChange=false;}}n=e.getSelectedIndices()?e.getSelectedIndices().length:0;e.setTitle(t._oRb.getText('VALUEHELPDLG_SELECTEDITEMS',n.toString()));}}).addStyleClass('compVHSelectedItemsTable');o.bindAggregation('columns','columns>/cols',function(i,d){return new sap.ui.table.Column(i,{label:'{columns>label}',template:new sap.m.Text({wrapping:false}).bindText(d.getProperty('template')),width:'{columns>width}'});});o.bindRows('/');var m=new sap.ui.model.json.JSONModel();o.setModel(m);return o;};V.prototype._createTable=function(){var t=this;var o=new c({title:'Items',selectionBehavior:sap.ui.table.SelectionBehavior.Row,selectionMode:this.getSupportMultiselect()?sap.ui.table.SelectionMode.MultiToggle:sap.ui.table.SelectionMode.Single,noDataText:this._oRb.getText('VALUEHELPDLG_TABLE_PRESSSEARCH'),rowHeight:32,rowSelectionChange:function(d){if(t.ignoreSelectionChange){return;}var e=d.getSource();var f=d.getParameter('rowIndices');var i,n=f.length;var g;var h;var r;for(i=0;i<n;i++){g=f[i];h=e.getContextByIndex(g);r=h?h.getObject():null;if(!r){M.show(t._oRb.getText('VALUEHELPDLG_SELECTIONFAILED'),{icon:M.Icon.ERROR,title:t._oRb.getText('VALUEHELPDLG_SELECTIONFAILEDTITLE'),actions:[M.Action.OK],styleClass:!!this.$().closest('.sapUiSizeCompact').length?'sapUiSizeCompact':''});return;}}var u=false;if(t.theTable.getBinding('rows').aKeys){u=true;}for(i=0;i<n;i++){g=f[i];h=e.getContextByIndex(g);r=h?h.getObject():null;if(r){var k;if(u){k=h.sPath.substring(1);}else{k=r[t.getKey()];}if(e.isIndexSelected(g)){t._oSelectedItems.add(k,r);t._addToken2Tokenizer(k,t._getFormatedTokenText(k),t._oSelectedTokens);}else{t._oSelectedItems.remove(k);t._removeTokenFromTokenizer(k,t._oSelectedTokens);}}}t._updateTitles();if(!t.getSupportMultiselect()){t._onCloseAndTakeOverValues()();}}}).addStyleClass('compVHMainTable');o.bindAggregation('columns','columns>/cols',function(i,d){var e,f;if(d.getProperty('type')==='string'){f={path:d.getProperty('template')};}if(d.getProperty('type')==='boolean'){e=new sap.m.CheckBox({enabled:false,selected:{path:d.getProperty('template')}});}else{e=new sap.m.Text({wrapping:false,text:{path:d.getProperty('template'),type:d.getProperty('oType')},tooltip:f});}return new sap.ui.table.Column(i,{label:'{columns>label}',tooltip:'{columns>label}',template:e,width:'{columns>width}',hAlign:e instanceof sap.m.CheckBox?sap.ui.core.HorizontalAlign.Center:sap.ui.core.HorizontalAlign.Begin,filterProperty:d.getProperty('filter')});});this.theTable=o;};V.prototype._onCloseAndTakeOverValues=function(){var t=this;return function(e){var f=function(){var r;var d=t._oSelectedItems.getSelectedItemsTokenArray(t.getKey(),t.getDescriptionKey(),t.getTokenDisplayBehaviour());if(t._oSelectedRanges){var i=0;for(var g in t._oSelectedRanges){r=t._oSelectedRanges[g];var s=r.tokenValue;if(!s){s=t._getFormatedRangeTokenText(r.operation,r.value1,r.value2,r.exclude,r.keyField);}if(!r._oGrid||r._oGrid.select.getSelected()){d.push(new T({key:'range_'+i,text:s,tooltip:s}).data('range',{'exclude':r.exclude,'operation':r.operation,'keyField':r.keyField,'value1':r.value1,'value2':r.value2}));i++;}}}t.fireOk({'tokens':d});};t._validateRanges(f);};};V.prototype._onCancel=function(){var t=this;return function(e){t.fireCancel();};};V.prototype._updateTitles=function(){this._updateTableTitle();this._updateTokenizer();};V.prototype._updateTableTitle=function(){var d=0;this.oRows=this.theTable.getBinding('rows');var s=false;if(s&&this.getModel()&&this.getModel().isCountSupported){s=this.getModel().isCountSupported();}if(s){if(this.oRows){d=this.oRows.getLength();}this.theTable.setTitle(this._sTableTitle1.replace('{0}',d));}else{this.theTable.setTitle(this._sTableTitleNoCount);}};V.prototype.onBeforeRendering=function(){D.prototype.onBeforeRendering.apply(this);this._deregisterMyResizeHandler();};V.prototype.onAfterRendering=function(){D.prototype.onAfterRendering.apply(this);if(this.theTable){this._registerMyResizeHandler();this._updateTitles();}};V.prototype.fireAfterOpen=function(p){D.prototype.fireAfterOpen.apply(this);if(this.theTable){this.theTable.invalidate();}if(this.getSupportRangesOnly()||this.getFilterMode()){this.setContentHeight(this._iResizeDomHeight+'px');this.setContentWidth(this._iResizeDomWidth+'px');this._onMyResize();}};V.prototype.exit=function(){this._deregisterMyResizeHandler();var d=function(o){if(o&&o.destroy){o.destroy();}return null;};this._oTokenizerGrid=d(this._oTokenizerGrid);this._oRanges=d(this._oRanges);this._oFilterPanel=d(this._oFilterPanel);this._oSelectedItemsTable=d(this._oSelectedItemsTable);this.theTable=d(this.theTable);this._aKeys=d(this._aKeys);this._aRangeKeyFields=d(this._aRangeKeyFields);this._aIncludeRangeOperations=d(this._aIncludeRangeOperations);this._aExcludeRangeOperations=d(this._aExcludeRangeOperations);this._oFilterBar=d(this._oFilterBar);this._oRb=d(this._oRb);this._sTableTitle1=d(this._sTableTitle1);this._sTableTitle2=d(this._sTableTitle2);this._sTableTitleNoCount=d(this._sTableTitleNoCount);this._sSelectedItemsTitle=d(this._sSelectedItemsTitle);this._sNoneSelectedItemsTitle=d(this._sNoneSelectedItemsTitle);this._sValidationDialogTitle=d(this._sValidationDialogTitle);this._sValidationDialogMessage=d(this._sValidationDialogMessage);this._sValidationDialogFieldMessage=d(this._sValidationDialogFieldMessage);this._oSelectedItems=d(this._oSelectedItems);this._oSelectedRanges=d(this._oSelectedRanges);};V.prototype.setKeys=function(k){this._aKeys=k;};V.prototype.getKeys=function(){return this._aKeys;};V.prototype.setRangeKeyFields=function(r){this._aRangeKeyFields=r;};V.prototype.getRangeKeyFields=function(){return this._aRangeKeyFields;};V.prototype.setIncludeRangeOperations=function(o){this._aIncludeRangeOperations=o;if(this._oFilterPanel){this._oFilterPanel.setIncludeOperations(this._aIncludeRangeOperations);}};V.prototype.setExcludeRangeOperations=function(o){this._aExcludeRangeOperations=o;if(this._oFilterPanel){this._oFilterPanel.setExcludeOperations(this._aExcludeRangeOperations);}};V.prototype._createRowKey=function(k){var p=this.oRows.sPath;var P='';var K=this.getKeys();var i,n=K.length;if(p[0]==='/'){p=p.substr(1);}for(i=0;i<n;i++){if(i>0){P+=',';}if(n>1){P+=K[i]+'=';}P+=\"'\"+((K[i]===this.getKey())?k:'.*')+\"'\";}return p+'\\\\('+P+'\\\\)';};V.prototype._getFormatedTokenText=function(k){var i=this._oSelectedItems.getItem(k);var t=i[this.getDescriptionKey()];var d=i[this.getKey()];if(t===undefined){if(typeof i==='string'){t=i;}else{t=k;}}else{if(t===''){t=k;}else{q.sap.require('sap.ui.comp.smartfilterbar.FilterProvider');t=sap.ui.comp.smartfilterbar.FilterProvider.getFormattedExpressionFromDisplayBehaviour(this.getTokenDisplayBehaviour()?this.getTokenDisplayBehaviour():sap.ui.comp.smartfilterbar.ControlConfiguration.DISPLAYBEHAVIOUR.descriptionAndId,d,t);}}return t;};V.prototype._getFormatedRangeTokenText=function(o,v,s,e,k){var t='';var d;var f;if(this._aRangeKeyFields&&this._aRangeKeyFields.length>1){for(var i=0;i<this._aRangeKeyFields.length;i++){d=this._aRangeKeyFields[i];if(typeof d!=='string'){if(d.key===k){break;}}}}if(d){switch(d.type){case'numeric':var F;if(d.precision||d.scale){F={};if(d.precision){F['maxIntegerDigits']=parseInt(d.precision,10);}if(d.scale){F['maxFractionDigits']=parseInt(d.scale,10);}}f=N.getFloatInstance(F);break;case'date':f=b.getDateInstance();break;}if(f){if(v){v=f.format(v);}if(s){s=f.format(s);}}}if(v!==''){switch(o){case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Initial:t=\"=''\";break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EQ:t='='+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GT:t='>'+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.GE:t='>='+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LT:t='<'+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.LE:t='<='+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.Contains:t='*'+v+'*';break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.StartsWith:t=v+'*';break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.EndsWith:t='*'+v;break;case sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation.BT:if(s!==''){t=v+'...'+s;break;}}}if(e&&t!==''){t='!('+t+')';}if(d&&d.label&&t!==''){t=d.label+': '+t;}return t;};V.prototype._onMyResize=function(){if(!this.getDomRef('scroll')){return;}if(this._oRangeScrollContainer){var t=this._oTokenizerGrid.getDomRef()?this._oTokenizerGrid.getDomRef().offsetHeight:0;var s=this.getDomRef('scroll').offsetHeight;this._oRangeScrollContainer.$().css('height',(s-t)+'px');}};V.prototype._reposition=function(){D.prototype._reposition.apply(this);this._onMyResize();};D.prototype._deregisterMyResizeHandler=function(){if(this._sResizeListenerId2){sap.ui.core.ResizeHandler.deregister(this._sResizeListenerId2);this._sResizeListenerId2=null;}};V.prototype._registerMyResizeHandler=function(){if(!this._fnMyContentResize){this._fnMyContentResize=q.proxy(this._onMyResize,this);}if(!this._sResizeListenerId2&&this.getDomRef()){var r=this.getDomRef('scroll');this._sResizeListenerId2=sap.ui.core.ResizeHandler.register(r,this._fnMyContentResize);}};sap.ui.comp.valuehelpdialog.ValueHelpRangeOperation={BT:'BT',EQ:'EQ',Contains:'Contains',StartsWith:'StartsWith',EndsWith:'EndsWith',LT:'LT',LE:'LE',GT:'GT',GE:'GE',Initial:'Initial'};return V;},true);\n",
	"sap/ui/comp/valuehelpdialog/ValueHelpDialogRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/DialogRenderer'],function(q,D){'use strict';var V={};V.render=D.render;return V;},true);\n",
	"sap/ui/comp/variants/EditableVariantItem.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/ColumnListItem','sap/ui/comp/library'],function(q,C,l){'use strict';var E=C.extend('sap.ui.comp.variants.EditableVariantItem',{metadata:{library:'sap.ui.comp',properties:{key:{type:'string',group:'Misc',defaultValue:null},global:{type:'boolean',group:'Misc',defaultValue:null},lifecyclePackage:{type:'string',group:'Misc',defaultValue:null},lifecycleTransportId:{type:'string',group:'Misc',defaultValue:null},namespace:{type:'string',group:'Misc',defaultValue:null},readOnly:{type:'boolean',group:'Misc',defaultValue:false},accessOptions:{type:'string',group:'Misc',defaultValue:null,deprecated:true},labelReadOnly:{type:'boolean',group:'Misc',defaultValue:false}}}});return E;},true);\n",
	"sap/ui/comp/variants/EditableVariantItemRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/ColumnListItemRenderer'],function(q,C){'use strict';var E=sap.ui.core.Renderer.extend(C);return E;},true);\n",
	"sap/ui/comp/variants/VariantItem.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/ui/comp/library','sap/ui/core/Item'],function(q,l,I){'use strict';var V=I.extend('sap.ui.comp.variants.VariantItem',{metadata:{library:'sap.ui.comp',properties:{executeOnSelection:{type:'boolean',group:'Misc',defaultValue:false},readOnly:{type:'boolean',group:'Misc',defaultValue:false},lifecycleTransportId:{type:'string',group:'Misc',defaultValue:null},global:{type:'boolean',group:'Misc',defaultValue:null},lifecyclePackage:{type:'string',group:'Misc',defaultValue:null},namespace:{type:'string',group:'Misc',defaultValue:null},accessOptions:{type:'string',group:'Misc',defaultValue:null,deprecated:true},labelReadOnly:{type:'boolean',group:'Misc',defaultValue:false}}}});return V;},true);\n",
	"sap/ui/comp/variants/VariantItemRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var V=sap.ui.core.Renderer.extend(sap.ui.core.ItemRenderer);return V;},true);\n",
	"sap/ui/comp/variants/VariantManagement.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global','sap/m/ActionSheet','sap/m/Button','sap/m/CheckBox','sap/m/Dialog','sap/m/Input','sap/m/Label','sap/m/ResponsivePopover','sap/m/SelectList','sap/ui/comp/library','sap/ui/comp/transport/TransportSelection','./EditableVariantItem','./VariantItem','sap/ui/core/Control','sap/ui/core/Item','sap/ui/core/ValueState','sap/ui/layout/HorizontalLayout'],function(q,A,B,C,D,I,L,R,S,l,T,E,V,a,b,c,H){'use strict';var d=a.extend('sap.ui.comp.variants.VariantManagement',{metadata:{library:'sap.ui.comp',properties:{initialSelectionKey:{type:'string',group:'Misc',defaultValue:null},enabled:{type:'boolean',group:'Misc',defaultValue:true},defaultVariantKey:{type:'string',group:'Misc',defaultValue:null},selectionKey:{type:'string',group:'Misc',defaultValue:null},showCreateTile:{type:'boolean',group:'Misc',defaultValue:false},showExecuteOnSelection:{type:'boolean',group:'Misc',defaultValue:false},showShare:{type:'boolean',group:'Misc',defaultValue:false},lifecycleSupport:{type:'boolean',group:'Misc',defaultValue:false},standardItemText:{type:'string',group:'Misc',defaultValue:null}},defaultAggregation:'items',aggregations:{items:{type:'sap.ui.core.Item',multiple:true,singularName:'item',deprecated:true},variantItems:{type:'sap.ui.comp.variants.VariantItem',multiple:true,singularName:'variantItem'}},events:{save:{},manage:{},select:{}}}});d.prototype.init=function(){var t=this;this.STANDARDVARIANTKEY='*standard*';this.aRemovedVariants=[];this.aRenamedVariants=[];this.aRemovedVariantTransports=[];this.aExeVariants=[];this.oResourceBundle=sap.ui.getCore().getLibraryResourceBundle('sap.ui.comp');this.lastSelectedVariantKey=this.STANDARDVARIANTKEY;this.bVariantItemMode=false;this.oSelectedItem=null;this.sNewDefaultKey='';this.bDirty=false;this.bManagementTableInitialized=false;this.sTransport=null;this.sPackage=null;this.aEvents=[];this.bEventRunning=false;this.bPopoverOpen=false;this.oVariantSelectionPage=null;this.oActions=null;this.oActionSheet=null;this.oActionSheetManage=null;this.oActionSheetSave=null;this.oActionSheetSaveAs=null;this.bManualVariantKey=false;this.bFireSelect=false;this.bExecuteOnSelectForStandard=false;q.sap.require('sap.ui.model.json.JSONModel');this.oModel=new sap.ui.model.json.JSONModel({enabled:false});this.setModel(this.oModel,'save_enablement');this.oVariantManage=new B(this.getId()+'-manage',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_MANAGE'),enabled:false,press:function(){t._openVariantManagementDialog();}});this.oVariantManage.addStyleClass('sapUiHideOnPhone');this.oVariantSave=new B(this.getId()+'-mainsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE'),press:function(){var e=t._createEvent('variantSavePressed',t._variantSavePressed);t._addEvent(e);},enabled:false});this.oVariantSave.setModel(this.oModel);this.oVariantSave.addStyleClass('sapUiHideOnPhone');this.oVariantSaveAs=new B(this.getId()+'-saveas',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVEAS'),press:function(){t._openSaveAsDialog();}});this.oVariantSaveAs.addStyleClass('sapUiHideOnPhone');this.oVariantText=new L(this.getId()+'-text');this._setStandardText();this.oVariantText.addStyleClass('sapUICompVarMngmtText');this.oVariantText.addStyleClass('sapUICompVarMngmtEnabled');this.oVariantText.addStyleClass('sapMH4Style');this.oVariantModifiedText=new L(this.getId()+'-modified',{visible:false});this.oVariantModifiedText.setText('*');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtText');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtModified');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtEnabled');this.oVariantModifiedText.addStyleClass('sapMH4Style');this.oVariantPopoverTrigger=new B(this.getId()+'-trigger',{type:sap.m.ButtonType.Transparent,icon:'sap-icon://arrow-down',press:function(){t._openVariantSelection();}});this.oVariantText.setLabelFor(this.oVariantPopoverTrigger);this.oVariantLayout=new H({content:[this.oVariantText,this.oVariantModifiedText,this.oVariantPopoverTrigger]});this.oVariantLayout.addStyleClass('sapUICompVarMngmtLayout');this.addDependent(this.oVariantLayout);this.oVariantList=new S(this.getId()+'-list',{selectionChange:function(e){t.lastSelectedVariantKey=this.getSelectedItem().getKey();t._setSelectionByKey(this.getSelectedItem().getKey());t.oVariantPopOver.close();t.bDirty=false;t.oVariantModifiedText.setVisible(false);t.oModel.setProperty('/enabled',false);t.bFireSelect=true;}});this.oVariantList.setNoDataText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_NODATA'));this.oActionSheetManage=new B({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_MANAGE'),enabled:false,press:function(e){t._openVariantManagementDialog();}});this.oActionSheetSave=new B({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVE'),enabled:false,press:function(e){var o=t._createEvent('variantSavePressed',t._variantSavePressed);t._addEvent(o);}});this.oActionSheetSaveAs=new B({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVEAS'),press:function(e){t._openSaveAsDialog();}});this.oActionSheet=new A(this.getId()+'-actionsheet',{showCancelButton:true,buttons:[this.oActionSheetManage,this.oActionSheetSave,this.oActionSheetSaveAs],placement:sap.m.PlacementType.Top});this.oActions=new B(this.getId()+'-actions',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_ACTIONS'),press:function(){t.oActionSheet.openBy(this);}});this.oActions.addStyleClass('sapUiVisibleOnlyOnPhone');this.oVariantSelectionPage=new sap.m.Page(this.getId()+'selpage',{content:[this.oVariantList],footer:new sap.m.Toolbar({content:[new sap.m.ToolbarSpacer(this.getId()+'-spacer'),this.oVariantManage,this.oVariantSave,this.oVariantSaveAs,this.oActions]}),showNavButton:false,showHeader:false});this.oVariantPopOver=new R(this.getId()+'-popover',{title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_VARIANTS'),contentWidth:'400px',placement:sap.m.PlacementType.Bottom,content:[this.oVariantSelectionPage],afterOpen:function(){t.bPopoverOpen=true;},afterClose:function(){t.bPopoverOpen=false;if(t.bFireSelect==true){t.bFireSelect=false;setTimeout(function(){t._fireSelectAsync();},0);}},contentHeight:'300px'});this.oVariantPopOver.addStyleClass('sapUICompVarMngmtPopover');this.oInputName=new I(this.getId()+'-name',{liveChange:function(e){var v=this.getValue();v=v.trim();if(v===''){this.setValueState(c.Error);this.setValueStateText(t.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));}else{this.setValueState(c.None);this.setValueStateText(null);}}});this.oLabelName=new L(this.getId()+'-namelabel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_NAME'),required:true});this.oLabelName.setLabelFor(this.oInputName);this.oDefault=new C(this.getId()+'-default',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SETASDEFAULT'),enabled:true,visible:true,width:'100%'});this.oExecuteOnSelect=new C(this.getId()+'-execute',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_EXECUTEONSELECT'),enabled:true,visible:false,width:'100%'});this.oCreateTile=new C(this.getId()+'-tile',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CREATETILE'),enabled:true,visible:false,width:'100%'});this.oShare=new C(this.getId()+'-share',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SHARE'),enabled:true,visible:false,select:function(o){var e=t._createEvent('inputfieldChange',t._handleShareSelected);e.args.push(o);t._addEvent(e);},width:'100%'});this.oInputKey=new I(this.getId()+'-key',{liveChange:function(e){var v=this.getValue();v=v.trim();if(v===''){this.setValueState(c.Error);this.setValueStateText(t.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));}else{this.setValueState(c.None);this.setValueStateText(null);}}});this.oLabelKey=new L(this.getId()+'-keylabel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_KEY'),required:true});this.oLabelName.setLabelFor(this.oInputKey);this.oSaveSave=new B(this.getId()+'-variantsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_OK'),press:function(){var e=t._createEvent('variantSaveAs',t._handleVariantSaveAs);t._addEvent(e);},enabled:true});this.oSaveDialogOptionsGrid=new sap.ui.layout.Grid({defaultSpan:'L6 M6 S12'});this.oSaveDialog=new D(this.getId()+'-savedialog',{title:this.oResourceBundle.getText('VARIANT_MANAGEMENT_SAVEDIALOG'),beginButton:this.oSaveSave,endButton:new B(this.getId()+'-variantcancel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CANCEL'),press:function(){t.oSaveDialog.close();}}),content:[this.oLabelName,this.oInputName,this.oLabelKey,this.oInputKey,this.oSaveDialogOptionsGrid],stretch:sap.ui.Device.system.phone});this.oSaveDialog.setParent(this);this.oSaveDialog.addStyleClass('sapUiPopupWithPadding');this.oSaveDialog.setInitialFocus(this.oInputName.getId());this.oManagementTable=new sap.m.Table(this.getId()+'-managementTable');this.oManagementSave=new B(this.getId()+'-managementsave',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_OK'),enabled:true,press:function(){var e=t._createEvent('managementSave',t._handleManageSavePressed);t._addEvent(e);}});this.oManagementDialog=new D(this.getId()+'-managementdialog',{contentWidth:'600px',customHeader:new sap.m.Bar(this.getId()+'-managementHeader',{contentMiddle:[new sap.m.Text(this.getId()+'-managementHeaderText',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_MANAGEDIALOG')})]}),beginButton:this.oManagementSave,endButton:new B(this.getId()+'-managementcancel',{text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_CANCEL'),press:function(){t.aRemovedVariants=[];t.oManagementDialog.close();}}),content:[this.oManagementTable],stretch:sap.ui.Device.system.phone,afterClose:function(){if(t.bFireSelect==true){t.bFireSelect=false;setTimeout(function(){t._fireSelectAsync();},0);}}});this.oManagementDialog.setParent(this);this.oManagementDialog.addStyleClass('sapUiPopupWithPadding');};d.prototype.exit=function(){if(this.oVariantManage){this.oVariantManage.destroy();this.oVariantManage=undefined;}if(this.oVariantSave){this.oVariantSave.destroy();this.oVariantSave=undefined;}if(this.oVariantList){this.oVariantList.destroy();this.oVariantList=undefined;}if(this.oInputName){this.oInputName.destroy();this.oInputName=undefined;}if(this.oLabelName){this.oLabelName.destroy();this.oLabelName=undefined;}if(this.oDefault){this.oDefault.destroy();this.oDefault=undefined;}if(this.oSaveSave){this.oSaveSave.destroy();this.oSaveSave=undefined;}if(this.oSaveDialog){this.oSaveDialog.destroy();this.oSaveDialog=undefined;}if(this.oManagementTable){this.oManagementTable.destroy();this.oManagementTable=undefined;}if(this.oManagementSave){this.oManagementSave.destroy();this.oManagementSave=undefined;}if(this.oManagementDialog){this.oManagementDialog.destroy();this.oManagementDialog=undefined;}if(this.oVariantText){this.oVariantText.destroy();this.oVariantText=undefined;}if(this.oVariantPopoverTrigger){this.oVariantPopoverTrigger.destroy();this.oVariantPopoverTrigger=undefined;}if(this.oVariantLayout){this.oVariantLayout.destroy();this.oVariantLayout=undefined;}if(this.oVariantPopOver){this.oVariantPopOver.destroy();this.oVariantPopOver=undefined;}if(this.oVariantSaveAs){this.oVariantSaveAs.destroy();this.oVariantSaveAs=undefined;}if(this.oShare){this.oShare.destroy();this.oShare=undefined;}if(this.oCreateTile){this.oCreateTile.destroy();this.oCreateTile=undefined;}if(this.oSaveDialogOptionsGrid){this.oSaveDialogOptionsGrid.destroy();this.oSaveDialogOptionsGrid=undefined;}if(this.oVariantSelectionPage){this.oVariantSelectionPage.destroy();this.oVariantSelectionPage=undefined;}if(this.oActions){this.oActions.destroy();this.oActions=undefined;}if(this.oActionSheetManage){this.oActionSheetManage.destroy();this.oActionSheetManage=undefined;}if(this.oActionSheetSave){this.oActionSheetSave.destroy();this.oActionSheetSave=undefined;}if(this.oActionSheetSaveAs){this.oActionSheetSaveAs.destroy();this.oActionSheetSaveAs=undefined;}if(this.oInputKey){this.oInputKey.destroy();this.oInputKey=undefined;}if(this.oLabelKey){this.oLabelKey.destroy();this.oLabelKey=undefined;}};d.prototype.addItem=function(i){i=this.validateAggregation('items',i,true);this.bVariantItemMode=false;this.addAggregation('items',i,false);var _=this.getInitialSelectionKey();this._setSelection(i,_);this._manageButtonState();this._setStandardText();return this;};d.prototype.insertItem=function(i,e){var _=e;i=this.validateAggregation('items',i,true);this.bVariantItemMode=false;this.insertAggregation('items',i,_);var f=this.getInitialSelectionKey();this._setSelection(i,f);this._manageButtonState();this._setStandardText();return this;};d.prototype.removeItem=function(i){this.removeAggregation('items',i);this._manageButtonState();return i;};d.prototype.removeAllItems=function(){var r=this.removeAllAggregation('items');this._manageButtonState();this._setSelectedItem(null);return r;};d.prototype.destroyItems=function(){this.destroyAggregation('items');this._manageButtonState();this._setSelectedItem(null);return this;};d.prototype._getItems=function(){if(this.bVariantItemMode){return this.getVariantItems();}else{return this.getItems();}};d.prototype._removeItem=function(i){if(this.bVariantItemMode){return this.removeVariantItem(i);}else{return this.removeItem(i);}};d.prototype.getItemByKey=function(k){var i=this._getItems();for(var e=0;e<i.length;e++){if(k==i[e].getKey()){return i[e];}}return null;};d.prototype.addVariantItem=function(v){v=this.validateAggregation('variantItems',v,true);this.bVariantItemMode=true;this.addAggregation('variantItems',v,false);var _=this.getInitialSelectionKey();this._setSelection(v,_);this._manageButtonState();this._setStandardText();return this;};d.prototype.insertVariantItem=function(v,i){var _=i;v=this.validateAggregation('variantItems',v,true);this.bVariantItemMode=true;this.insertAggregation('variantItems',v,_);var e=this.getInitialSelectionKey();this._setSelection(v,e);this._manageButtonState();this._setStandardText();return this;};d.prototype._setSelectedItem=function(i){this.oSelectedItem=i;if(i!=null){this.oVariantText.setText(i.getText());}else{this._setStandardText();}};d.prototype._getSelectedItem=function(){return this.oSelectedItem;};d.prototype.setInitialSelectionKey=function(k){this.setProperty('initialSelectionKey',k,true);this._setSelectionByKey(k);};d.prototype.setEnabled=function(e){this.setProperty('enabled',e,false);if(this.oVariantPopoverTrigger){this.oVariantPopoverTrigger.setEnabled(e);}if(!e){this.oVariantText.removeStyleClass('sapUICompVarMngmtEnabled');this.oVariantModifiedText.removeStyleClass('sapUICompVarMngmtEnabled');this.oVariantText.addStyleClass('sapUICompVarMngmtDisabled');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtDisabled');}else{this.oVariantText.removeStyleClass('sapUICompVarMngmtDisabled');this.oVariantModifiedText.removeStyleClass('sapUICompVarMngmtDisabled');this.oVariantText.addStyleClass('sapUICompVarMngmtEnabled');this.oVariantModifiedText.addStyleClass('sapUICompVarMngmtEnabled');}};d.prototype._setSelection=function(i,k){if(i.getKey()===k){this._setSelectedItem(i);this.fireSelect({key:k});}};d.prototype.addStyleClass=function(s){if(a.prototype.addStyleClass){a.prototype.addStyleClass.apply(this,arguments);}if(this.oVariantPopOver){this.oVariantPopOver.addStyleClass(s);}if(this.oSaveDialog){this.oSaveDialog.addStyleClass(s);}if(this.oManagementDialog){this.oManagementDialog.addStyleClass(s);}};d.prototype.removeStyleClass=function(s){if(a.prototype.addStyleClass){a.prototype.removeStyleClass.apply(this,arguments);}if(this.oVariantPopOver){this.oVariantPopOver.removeStyleClass(s);}if(this.oSaveDialog){this.oSaveDialog.removeStyleClass(s);}if(this.oManagementDialog){this.oManagementDialog.removeStyleClass(s);}};d.prototype.clearVariantSelection=function(){this.setInitialSelectionKey(this.STANDARDVARIANTKEY);this._setSelectedItem(null);};d.prototype._setDialogCompactStyle=function(o,e){if(this._checkDialogCompactStyle(o)){e.addStyleClass('sapUiSizeCompact');}else{e.removeStyleClass('sapUiSizeCompact');}};d.prototype._checkDialogCompactStyle=function(o){if(o.$().closest('.sapUiSizeCompact').length>0){return true;}else{return false;}};d.prototype._manageButtonState=function(){if(this._getItems()&&this._getItems().length>0){this.oVariantManage.setEnabled(true);this.oActionSheetManage.setEnabled(true);}else{this.oVariantManage.setEnabled(false);this.oActionSheetManage.setEnabled(false);}};d.prototype.getSelectionKey=function(){var k=null;var i=this._getSelectedItem();if(i!==null){k=i.getKey();}else if(this.bVariantItemMode){k=this.STANDARDVARIANTKEY;}else{k=null;}return k;};d.prototype._setSelectionByKey=function(k){var i=this._getItems();var f=false;if(i.length>0){for(var e=0;e<i.length;e++){if(i[e].getKey()===k){this._setSelectedItem(i[e]);f=true;break;}}}if(!f){this._setSelectedItem(null);}};d.prototype.replaceKey=function(o,n){var i=this._getItems();if(i.length>0){for(var e=0;e<i.length;e++){if(i[e].getKey()===o){i[e].setKey(n);if(this.getDefaultVariantKey()==o){this.setDefaultVariantKey(n);}if(this._getSelectedItem()===i[e]){this._setSelectedItem(null);}break;}}}};d.prototype.currentVariantSetModified=function(f){if(f){if(!this.bDirty){this.oVariantModifiedText.setVisible(true);this.bDirty=true;this.oModel.setProperty('/enabled',true);}}else if(this.bDirty){this.oVariantModifiedText.setVisible(false);this.bDirty=false;this.oModel.setProperty('/enabled',false);}};d.prototype.currentVariantGetModified=function(){return this.bDirty;};d.prototype._openVariantSelection=function(){var i=null;var e=0;var o=null;var v;if(this.bPopoverOpen==true){return;}this.bPopoverOpen=true;this.oVariantList.destroyItems();if(this.bVariantItemMode==true||(this.bVariantItemMode==false&&(this.getSelectionKey()===this.STANDARDVARIANTKEY||this.getSelectionKey()===null))){var t;if(this.bVariantItemMode==false){t=this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT');}else{t=this.oResourceBundle.getText('VARIANT_MANAGEMENT_STANDARD');}if(this.getStandardItemText()!==null&&this.getStandardItemText()!=''){t=this.getStandardItemText();}v=new V(this.oVariantPopoverTrigger.getId()+'-item-standard',{key:this.STANDARDVARIANTKEY,text:t,readOnly:true,executeOnSelection:this.bExecuteOnSelectForStandard});this.oVariantList.addItem(v);if(this.getSelectionKey()==v.getKey()||this.getSelectionKey()===null){this.oVariantList.setSelectedItem(v);}}this.oVariantSave.setEnabled(false);this.oActionSheetSave.setEnabled(false);if(this.bVariantItemMode===false&&this.getSelectionKey()!==null){this.oVariantSave.setEnabled(true);this.oActionSheetSave.setEnabled(true);}i=this._getItems();i.sort(this._compareItems);for(e=0;e<i.length;e++){o=i[e];v=new V(this.oVariantPopoverTrigger.getId()+'-item-'+e,{key:o.getKey(),text:o.getText()});if(o.getReadOnly){v.setReadOnly(o.getReadOnly());}if(o.getExecuteOnSelection){v.setExecuteOnSelection(o.getExecuteOnSelection());}if(o.getGlobal){v.setGlobal(o.getGlobal());}if(o.getLifecyclePackage){v.setLifecyclePackage(o.getLifecyclePackage());}if(o.getLifecycleTransportId){v.setLifecycleTransportId(o.getLifecycleTransportId());}if(o.getNamespace){v.setNamespace(o.getNamespace());}if(o.getAccessOptions){v.setAccessOptions(o.getAccessOptions());}if(o.getLabelReadOnly){v.setLabelReadOnly(o.getLabelReadOnly());}this.oVariantList.addItem(v);if(this.getSelectionKey()==v.getKey()){this.oVariantList.setSelectedItem(v);}}if(this.bDirty){var s=this.oVariantList.getItemByKey(this.getSelectionKey());if(s){if(!s.getReadOnly()){this.oVariantSave.setEnabled(true);this.oActionSheetSave.setEnabled(true);}}}this._setDialogCompactStyle(this,this.oVariantPopOver);this._manageButtonState();this.oVariantPopOver.setInitialFocus(this.oVariantList.getSelectedItem().getId());this.oVariantPopOver.openBy(this.oVariantPopoverTrigger.$('img')[0]);};d.prototype.onclick=function(e){if(this.getEnabled()){this._openVariantSelection();}};d.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.F4||e.altKey===true&&e.which===q.sap.KeyCodes.ARROW_UP||e.altKey===true&&e.which===q.sap.KeyCodes.ARROW_DOWN){if(this.getEnabled()){this._openVariantSelection();}}};d.prototype._initalizeManagementTableColumns=function(){if(this.bManagementTableInitialized){return;}this.oManagementTable.addColumn(new sap.m.Column({header:new sap.m.Text({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_NAME')})}));this.oManagementTable.addColumn(new sap.m.Column({header:new sap.m.Text({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_VARIANTTYPE')}),width:'4rem',demandPopin:true,popinDisplay:sap.m.PopinDisplay.Inline,minScreenWidth:sap.m.ScreenSize.Tablet}));this.oManagementTable.addColumn(new sap.m.Column({header:new sap.m.Text({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT')}),width:'4rem',demandPopin:true,popinDisplay:sap.m.PopinDisplay.Inline,minScreenWidth:sap.m.ScreenSize.Tablet}));if(this.getShowExecuteOnSelection()){this.oManagementTable.addColumn(new sap.m.Column({header:new sap.m.Text({text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_EXECUTEONSELECT')}),width:'4rem',hAlign:sap.ui.core.TextAlign.Center,demandPopin:true,popinDisplay:sap.m.PopinDisplay.Inline,minScreenWidth:sap.m.ScreenSize.Tablet}));}this.oManagementTable.addColumn(new sap.m.Column({width:'2.5rem',hAlign:sap.ui.core.TextAlign.Center}));this.bManagementTableInitialized=true;};d.prototype._initalizeSaveAsDialog=function(){this.oSaveDialogOptionsGrid.removeAllContent();this.oShare.setVisible(this.getShowShare());this.oExecuteOnSelect.setVisible(this.getShowExecuteOnSelection());this.oCreateTile.setVisible(this.getShowCreateTile());this.oSaveDialogOptionsGrid.addContent(this.oDefault);if(this.getShowShare()){this.oSaveDialogOptionsGrid.addContent(this.oShare);}if(this.getShowExecuteOnSelection()){this.oSaveDialogOptionsGrid.addContent(this.oExecuteOnSelect);}if(this.getShowCreateTile()){this.oSaveDialogOptionsGrid.addContent(this.oCreateTile);}};d.prototype._variantSavePressed=function(){var i=this._getSelectedItem();var e=false;if(this.getDefaultVariantKey()==i.getKey()){e=true;}if(i.getLifecyclePackage&&i.getGlobal()==true){var t=this;var o=function(p,s){t.oVariantPopOver.close();t.sPackage=p;t.sTransport=s;t.fireSave({name:i.getText(),overwrite:true,key:i.getKey(),def:e,lifecyclePackage:t.sPackage,lifecycleTransportId:t.sTransport});i.setLifecycleTransportId(t.sTransport);t.bDirty=false;t.oVariantModifiedText.setVisible(false);t.oModel.setProperty('/enabled',false);t._eventDone();};var f=function(r){t.sTransport=null;t.sPackage=null;t._cancelAllEvents();};this._assignTransport(i,o,f,this.oVariantText);}else{this.oVariantPopOver.close();this.fireSave({name:i.getText(),overwrite:true,key:i.getKey(),def:e});this.bDirty=false;this.oVariantModifiedText.setVisible(false);this.oModel.setProperty('/enabled',false);this._eventDone();}};d.prototype._assignTransport=function(v,o,e,f){var O={type:'variant',name:'',namespace:''};O['package']='';if(v!==null){O['package']=v.getLifecyclePackage();O['name']=v.getKey();O['namespace']=v.getNamespace();}var _=function(r){var p;var t;t=r.getParameters().selectedTransport;p=r.getParameters().selectedPackage;o(p,t);};var g=function(r){e(r);};if(this.getLifecycleSupport()){var t=null;if(v){t=v.getLifecycleTransportId();}if(t!=null&&t.trim().length>0){o(O['package'],t);}else{var h=new T();h.selectTransport(O,_,g,this._checkDialogCompactStyle(f),f);}}else{o(O['package'],'');}};d.prototype.getDefaultVariantKey=function(){var v=this.getProperty('defaultVariantKey');if(v===''){if(this.bVariantItemMode){v=this.STANDARDVARIANTKEY;}}return v;};d.prototype._compareItems=function(f,s){var F=f.getText();var e=s.getText();var g=F.toUpperCase();var h=e.toUpperCase();if(g==h){if(F==e){return 0;}if(F<e){return-1;}if(F>e){return 1;}}if(g<h){return-1;}if(g>h){return 1;}};d.prototype._accessOptionsText=function(o){var m=null;switch(o){case'R':m=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LAYER');break;case'RD':m=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LANGUAGE');break;default:m=null;}return m;};d.prototype._openSaveAsDialog=function(){this._initalizeSaveAsDialog();if(this._getSelectedItem()){this.oInputName.setValue(this._getSelectedItem().getText());}else{this.oInputName.setValue('');}this.oInputName.setEnabled(true);this.oInputName.setValueState(c.None);this.oInputName.setValueStateText(null);this.oDefault.setSelected(false);this.oShare.setSelected(false);this.oCreateTile.setSelected(false);this.oExecuteOnSelect.setSelected(false);this._setDialogCompactStyle(this,this.oSaveDialog);this.oVariantPopOver.close();this.sTransport=null;this.sPackage=null;if(this.bManualVariantKey){this.oInputKey.setVisible(true);this.oInputKey.setEnabled(true);this.oInputKey.setValueState(c.None);this.oInputKey.setValueStateText(null);this.oLabelKey.setVisible(true);}else{this.oInputKey.setVisible(false);this.oLabelKey.setVisible(false);}this.oSaveDialog.open();};d.prototype._checkManageItemNameChange=function(m){var t='';var e=true;var i=null;var f=this;i=m.getCells()[0];t=i.getValue();t=t.trim();var o=m;var k=o.getKey();if(t.length===0){var g=this.oVariantList.getItemByKey(k);i.setValue(g.getText());i.setValueState(c.None);i.setValueStateText(null);}if(this.oVariantList.getItemByKey(k).getText().trim()!=t){e=true;}if(e){if(o.getGlobal()){var O=function(p,s){o.setLifecyclePackage(p);o.setLifecycleTransportId(s);f._eventDone();};var h=function(r){var g=f.oVariantList.getItemByKey(k);i.setValue(g.getText());f._cancelAllEvents();};this._assignTransport(o,O,h,this.oManagementDialog);}else{this._eventDone();}}};d.prototype._handleManageSavePressed=function(){var n=this.oManagementTable.getItems();var i;var f=false;var N='';var o=null;var e=0;for(var g=0;g<n.length;g++){i=this.oVariantList.getItemByKey(n[g].getKey());if(n[g].getCells()[0].getValue){N=n[g].getCells()[0].getValue();}if(n[g].getCells()[0].getText){N=n[g].getCells()[0].getText();}N=N.trim();if(i.getText()!==N){this.aRenamedVariants.push({key:i.getKey(),name:N});o=this.getItemByKey(n[g].getKey());o.setText(N);if(o.setLifecyclePackage){o.setLifecyclePackage(n[g].getLifecyclePackage());o.setLifecycleTransportId(n[g].getLifecycleTransportId());}if(this.lastSelectedVariantKey===i.getKey()){this.oVariantText.setText(N);this.bDirty=false;this.oVariantModifiedText.setVisible(false);this.oModel.setProperty('/enabled',false);}}if(this.getShowExecuteOnSelection()&&i.getExecuteOnSelection&&i.getExecuteOnSelection()!=n[g].getCells()[3].getSelected()){var F=n[g].getCells()[3].getSelected();var h=this.getItemByKey(n[g].getKey());if(h&&h.setExecuteOnSelection){h.setExecuteOnSelection(F);this.aExeVariants.push({key:i.getKey(),exe:F});if(h.setLifecyclePackage){h.setLifecyclePackage(n[g].getLifecyclePackage());h.setLifecycleTransportId(n[g].getLifecycleTransportId());}}}}this.oManagementDialog.close();this._manageButtonState();if(this.bVariantItemMode===false){if(this.getDefaultVariantKey()!=this.sNewDefaultKey){var j=null;if(this.sNewDefaultKey==this.STANDARDVARIANTKEY){j=this.getItemByKey(this.getDefaultVariantKey());this.fireSave({name:j.getText(),overwrite:true,key:j.getKey(),def:false});}else{j=this.getItemByKey(this.sNewDefaultKey);this.fireSave({name:j.getText(),overwrite:true,key:j.getKey(),def:true});}}}this.setDefaultVariantKey(this.sNewDefaultKey);for(e=0;e<this.aRemovedVariants.length;e++){i=this.getItemByKey(this.aRemovedVariants[e]);for(var k=0;k<this.aRemovedVariantTransports.length;k++){if(this.aRemovedVariants[e]===this.aRemovedVariantTransports[k].key){var m=this.aRemovedVariantTransports[k];if(i.setLifecyclePackage){i.setLifecycleTransportId(m.transport);}break;}}}this.fireManage({renamed:this.aRenamedVariants,deleted:this.aRemovedVariants,exe:this.aExeVariants,def:this.getDefaultVariantKey()});for(e=0;e<this.aRemovedVariants.length;e++){i=this.getItemByKey(this.aRemovedVariants[e]);if(i){this._removeItem(i);i.destroy();}if(this.lastSelectedVariantKey===this.aRemovedVariants[e]){f=true;this._setSelectedItem(null);this.bDirty=false;this.oVariantModifiedText.setVisible(false);this.oModel.setProperty('/enabled',false);}}if(f){this.bFireSelect=true;}this._eventDone();};d.prototype._createEvent=function(n,f){var e={name:n,fFunc:f,args:[]};return e;};d.prototype._handleNextEvent=function(){if(this.aEvents.length>0){if(!this.bEventRunning){this.bEventRunning=true;var n=this.aEvents.pop();n.fFunc.apply(this,n.args);}}};d.prototype._addEvent=function(e){this.aEvents.push(e);this._handleNextEvent();};d.prototype._cancelAllEvents=function(){this.aEvents=[];this.bEventRunning=false;};d.prototype._eventDone=function(){this.bEventRunning=false;this._handleNextEvent();};d.prototype._handleManageExecuteOnSelectionChanged=function(o){var t=this;var m=o.getParent();if(m.getGlobal()){var O=function(p,s){m.setLifecyclePackage(p);m.setLifecycleTransportId(s);t._eventDone();};var e=function(r){o.setSelected(!o.getSelected());t._cancelAllEvents();};this._assignTransport(m,O,e,this.oManagementDialog);}else{this._eventDone();}};d.prototype._handleManageDeletePressed=function(o){var i=o.getParent();if(i.getGlobal()){var t=this;var O=function(p,s){var k=i.getKey();t.aRemovedVariants.push(k);t.oManagementTable.removeItem(i);if(i.getKey()===t.sNewDefaultKey){t.oManagementTable.getItems()[0].getCells()[2].setSelected(true);t.sNewDefaultKey=t.STANDARDVARIANTKEY;}i.destroy();var f={key:k,transport:s};t.aRemovedVariantTransports.push(f);t._eventDone();};var e=function(r){t._cancelAllEvents();};this._assignTransport(i,O,e,this.oManagementDialog);}else{this.aRemovedVariants.push(i.getKey());this.oManagementTable.removeItem(i);if(i.getKey()===this.sNewDefaultKey){this.oManagementTable.getItems()[0].getCells()[2].setSelected(true);this.sNewDefaultKey=this.STANDARDVARIANTKEY;}i.destroy();this._eventDone();}};d.prototype._handleShareSelected=function(o){var t=this;if(o.getParameters().selected){var O=function(p,s){t.sTransport=s;t.sPackage=p;t._eventDone();};var e=function(r){t.oShare.setSelected(false);t.sTransport=null;t.sPackage=null;t._cancelAllEvents();};this._assignTransport(null,O,e,this.oSaveDialog);}else{this.sTransport=null;this.sPackage=null;this._eventDone();}};d.prototype._handleVariantSaveAs=function(){var k='SV'+new Date().getTime();var n=this.oInputName.getValue();var m=this.oInputKey.getValue();var t='';var p='';var e=false;var f=false;var i=null;n=n.trim();if(n==''){this.oInputName.setValueState(c.Error);this.oInputName.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));this._cancelAllEvents();return;}m=m.trim();if(this.bManualVariantKey&&m==''){this.oInputKey.setValueState(c.Error);this.oInputKey.setValueStateText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));this._cancelAllEvents();return;}if(this.bManualVariantKey){k=m;}this.oSaveDialog.close();if(this.oExecuteOnSelect!==null){e=this.oExecuteOnSelect.getSelected();}if(this.oCreateTile!==null){f=this.oCreateTile.getSelected();}if(this.bVariantItemMode){i=new V({key:k,text:n,readOnly:false,executeOnSelection:e,global:this.oShare.getSelected(),lifecycleTransportId:this.sTransport,lifecyclePackage:this.sPackage});this.addVariantItem(i);this._setSelectedItem(i);}else{i=new b({key:k,text:n});this.addItem(i);this._setSelectedItem(i);}if(this.oDefault.getSelected()){this.setDefaultVariantKey(k);}if(this.oShare.getSelected()){p=this.sPackage;t=this.sTransport;}this._manageButtonState();this.fireSave({name:n,overwrite:false,def:this.oDefault.getSelected(),key:k,exe:this.oExecuteOnSelect.getSelected(),tile:f,global:this.oShare.getSelected(),lifecyclePackage:p,lifecycleTransportId:t});this.bDirty=false;this.oVariantModifiedText.setVisible(false);this.oModel.setProperty('/enabled',false);this._eventDone();};d.prototype._setBackwardCompatibility=function(f){if(this.getItems().length===0&&this.getVariantItems().length===0){this.bVariantItemMode=!f;}this._setStandardText();};d.prototype._setStandardText=function(){var k=this.getSelectionKey();if(k===null||k===this.STANDARDVARIANTKEY){if(this.bVariantItemMode==false){this.oVariantText.setText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT'));}else{this.oVariantText.setText(this.oResourceBundle.getText('VARIANT_MANAGEMENT_STANDARD'));}if(this.getStandardItemText()!==null&&this.getStandardItemText()!=''){this.oVariantText.setText(this.getStandardItemText());}}};d.prototype._openVariantManagementDialog=function(){var i;var o=null;var e=0;var m;var n;var t;var f;var g;var h;var s;var j;var k;var p;var r;var u;var P;var v=this;this.oManagementTable.destroyItems();k=function(x){var y=this.getValue();y=y.trim();if(y.length===0){this.setValueState(c.Error);this.setValueStateText(v.oResourceBundle.getText('VARIANT_MANAGEMENT_ERROR_EMPTY'));}};p=function(x){var y=v._createEvent('inputfieldChange',v._checkManageItemNameChange);y.args.push(this.getParent());v._addEvent(y);};r=function(x){if(x.getParameters().selected===true){var i=this.getParent();v.sNewDefaultKey=i.getKey();}};u=function(x){var y=v._createEvent('executeOnSelectionChange',v._handleManageExecuteOnSelectionChanged);y.args.push(this);v._addEvent(y);};P=function(x){var y=v._createEvent('manageDeletePressed',v._handleManageDeletePressed);y.args.push(this);v._addEvent(y);};this._initalizeManagementTableColumns();this.sNewDefaultKey=this.getDefaultVariantKey();if(this.oVariantList.getItems()[0].getKey()!==this.STANDARDVARIANTKEY&&this.bVariantItemMode==false){i=new V(this.oVariantManage.getId()+'-item-standard',{key:this.STANDARDVARIANTKEY,text:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DEFAULT'),readOnly:true,executeOnSelection:false});this.oVariantList.insertItem(i,0);}o=this.oVariantList.getItems();for(var w=0;w<o.length;w++){if(o[w].getReadOnly()||o[w].getLabelReadOnly()){var O=o[w].getAccessOptions();j=this._accessOptionsText(O);}else{j=null;}if(o[w].getReadOnly()){j=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LAYER');}else if(o[w].getLabelReadOnly()===true){j=this.oResourceBundle.getText('VARIANT_MANAGEMENT_WRONG_LANGUAGE');}if(o[w].getKey()===this.STANDARDVARIANTKEY){j=null;}m=new E(this.oVariantManage.getId()+'-edit-'+e,{key:o[w].getKey(),global:o[w].getGlobal(),lifecyclePackage:o[w].getLifecyclePackage(),lifecycleTransportId:o[w].getLifecycleTransportId(),namespace:o[w].getNamespace(),labelReadOnly:o[w].getLabelReadOnly(),vAlign:sap.ui.core.VerticalAlign.Middle});if(o[w].getKey()===this.STANDARDVARIANTKEY||o[w].getReadOnly()===true||o[w].getLabelReadOnly()===true){n=new sap.m.Text(this.oVariantManage.getId()+'-text-'+e,{text:o[w].getText()});n.addStyleClass('sapUICompVarMngmtLbl');if(j){n.setTooltip(j);}}else{n=new I(this.oVariantManage.getId()+'-input-'+e,{value:o[w].getText(),liveChange:k,change:p});}m.addCell(n);if(o[w].getGlobal()){s=this.oResourceBundle.getText('VARIANT_MANAGEMENT_SHARED');}else{s=this.oResourceBundle.getText('VARIANT_MANAGEMENT_PRIVATE');}t=new sap.m.Text(this.oVariantManage.getId()+'-type-'+e,{text:s});t.addStyleClass('sapUICompVarMngmtType');m.addCell(t);f=new sap.m.RadioButton(this.oVariantManage.getId()+'-def-'+e,{groupName:this.oVariantManage.getId(),select:r});if(this.sNewDefaultKey===o[w].getKey()||o[w].getKey()===this.STANDARDVARIANTKEY&&this.sNewDefaultKey===''){f.setSelected(true);}m.addCell(f);if(this.getShowExecuteOnSelection()){g=new C(this.oVariantManage.getId()+'-exe-'+e,{selected:false,enabled:false,select:u});if(o[w].getExecuteOnSelection){g.setEnabled(!o[w].getReadOnly());g.setSelected(o[w].getExecuteOnSelection());if(j){g.setTooltip(j);}}m.addCell(g);}h=new B(this.oVariantManage.getId()+'-del-'+e,{icon:'sap-icon://sys-cancel',enabled:true,type:sap.m.ButtonType.Transparent,press:P,tooltip:this.oResourceBundle.getText('VARIANT_MANAGEMENT_DELETE')});if(m.getKey()===this.STANDARDVARIANTKEY||(o[w].getReadOnly&&o[w].getReadOnly())){h.setEnabled(false);}h.addStyleClass('sapUiCompVarMngmtDel');m.addCell(h);this.oManagementTable.addItem(m);e++;}this.aRemovedVariants=[];this.aRemovedVariantTransports=[];this.aRenamedVariants=[];this.aExeVariants=[];this._setDialogCompactStyle(this,this.oManagementDialog);i=this.oVariantList.getSelectedItem();if(i){this.lastSelectedVariantKey=i.getKey();}this.oVariantPopOver.close();this.oManagementDialog.open();};d.prototype._enableManualVariantKey=function(e){this.bManualVariantKey=e;};d.prototype._fireSelectAsync=function(k){var s;if(k===undefined||k===null){var i=this._getSelectedItem();if(i===null){s=this.STANDARDVARIANTKEY;}else{s=i.getKey();}}this.fireSelect({key:s});};d.prototype._executeOnSelectForStandardVariant=function(s){this.bExecuteOnSelectForStandard=s;};return d;},true);\n",
	"sap/ui/comp/variants/VariantManagementRenderer.js":"/*!\n * SAP UI development toolkit for HTML5 (SAPUI5)\n\n(c) Copyright 2009-2015 SAP SE. All rights reserved\n */\nsap.ui.define(['jquery.sap.global'],function(q){'use strict';var V={};V.render=function(r,c){r.write('<div ');r.writeControlData(c);r.addClass('sapUiCompVarMngmt');r.writeClasses();r.write('>');r.renderControl(c.oVariantLayout);r.write('</div>');};return V;},true);\n"
}}
